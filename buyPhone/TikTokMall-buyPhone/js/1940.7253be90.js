"use strict";(self["webpackChunkshop"]=self["webpackChunkshop"]||[]).push([[1940],{35550:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADFSURBVHgB7ZftDcIgEIYP2kEcgcACdRK7iXWSOkLdwAUgdQMnAV9MMMaU9A8fMeFJLrTlx5MrOQ6YUspRRpxzF2PM9PudUyX68KC1ZpQQKeXEGDvH5utnnBpr7cI5f2JcqaR4BX6IzW+KsT4j1udEGYllfEAMVEEcWFCHN0oI/uS8K4b0geK/UkKwYb3F1cqpiZu4iZv4j8VCiBExUCE+4q7rZkTWHvyN70738OK7ERWix+nySBVo5VSMzdvD3i0gBdUyfgGy/zMdqB3d+wAAAABJRU5ErkJggg=="},51940:function(t,e,i){i.r(e),i.d(e,{default:function(){return f}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-content"},[t.previewImages.length?e("van-image-preview",{attrs:{images:t.previewImages},model:{value:t.previewShow,callback:function(e){t.previewShow=e},expression:"previewShow"}}):t._e(),e("van-nav-bar",{attrs:{"safe-area-inset-top":"",fixed:"",title:t.$t("充值详情"),"left-arrow":""},on:{"click-left":t.onClickLeft}}),e("div",{staticClass:"h46",staticStyle:{width:"100%"}}),t.pageDone&&t.dataInfo?e("div",{staticClass:"info-content"},[e("div",{staticClass:"order-info-content"},[e("div",{staticClass:"item"},[e("p",[t._v(t._s(t.$t("订单号"))+"：")]),e("div",{staticClass:"copy",on:{click:function(e){return t.copyData(t.dataInfo.order_no)}}},[e("span",{staticStyle:{"text-align":"end"}},[t._v(t._s(t.dataInfo.order_no))]),e("img",{attrs:{src:i(35550)}})])]),e("div",{staticClass:"item"},[e("p",[t._v(t._s(t.$t("创建时间"))+"：")]),e("div",[t._v(t._s(t.dataInfo.create_time))])]),e("div",{staticClass:"item"},[e("p",[t._v(t._s(t.$t("充值数量"))+"：")]),e("div",{staticClass:"money"},[t._v(t._s(t.dataInfo.volume>1?t.priceFormat(t.dataInfo.volume):t.dataInfo.volume)+" "+t._s(t.dataInfo.coin))])]),e("div",{staticClass:"item"},[e("p",[t._v(t._s(t.$t("实际到账"))+"：")]),t.priceFormat(t.dataInfo.amount)?e("div",{staticClass:"money"},[t._v(t._s(t.priceFormat(t.dataInfo.amount))+" USDT")]):e("div",{staticClass:"money"},[t._v("--")])]),e("div",{staticClass:"item"},[e("p",[t._v(t._s(t.$t("订单状态"))+"：")]),e("div",{staticClass:"money",class:t.dataInfo.className},[t._v(t._s(t.dataInfo.stateStr))])]),2==t.dataInfo.state?e("div",{staticClass:"item"},[e("p",[t._v(t._s(t.$t("失败原因"))+"：")]),e("div",{staticClass:"money",class:t.dataInfo.className},[t._v(t._s(t.dataInfo.failureMsg||"--"))])]):t._e(),t.dataInfo.coin_blockchain?e("div",{staticClass:"item"},[e("p",[t._v(t._s(t.$t("币种协议"))+"：")]),e("div",[t._v(t._s(t.dataInfo.coin_blockchain))])]):t._e(),t.dataInfo.channel_address?e("div",{staticClass:"item no-border"},[e("p",[t._v(t._s(t.$t("收款地址"))+"：")]),e("div",{staticClass:"copy",on:{click:function(e){return t.copyData(t.dataInfo.channel_address)}}},[e("span",[t._v(t._s(t.dataInfo.channel_address))]),e("img",{attrs:{src:i(35550)}})])]):t._e(),t.codeImgUrl?e("div",{staticClass:"item code-img"},[e("div",{staticClass:"code-img-content"},[e("canvas",{staticStyle:{display:"none"},attrs:{id:"canvas"}}),e("img",{staticClass:"canvas",attrs:{src:t.codeImgUrl}})]),e("div",{staticClass:"btn"},[e("div",{on:{click:t.saveCodeImg}},[t._v(t._s(t.$t("保存二维码")))])])]):t._e(),t.dataInfo.img?e("div",{staticClass:"item center"},[e("p",[t._v(t._s(t.$t("支付凭证"))+"：")]),e("div",{staticClass:"copy"},[e("div",{staticClass:"img-content",on:{click:function(e){t.previewShow=!0}}},[e("img",{attrs:{src:t.dataInfo.img,alt:""}})])])]):t._e()]),"Shop2u"==t.itemName&&0==t.dataInfo.state&&t.dataInfo.payUrl?e("van-button",{staticClass:"pay_btn",attrs:{block:"",type:"primary"},on:{click:function(e){return t.toPay(t.dataInfo.payUrl)}}},[t._v(" "+t._s(t.$t("立即支付"))+" ")]):t._e()],1):t._e()],1)},o=[],a=(i(90247),i(85432)),n=(i(74884),i(91981)),r=(i(64258),i(31864)),c=i(97797),l=i(23808),h=i(78420),m=i(94348),d={name:"rechargeRecordDetails",components:{[r.A.name]:r.A,[n.A.name]:n.A,[a.A.Component.name]:a.A.Component},data(){return{itemName:"TikTokMall",pageDone:!1,orderNo:null,dataInfo:null,previewShow:!1,previewImages:[],codeImgUrl:"",priceFormat:l.XV}},mounted(){this.$nextTick(()=>{const{order_no:t,failure_msg:e}=this.$route.query;t?(this.orderNo=t,this.failureMsg=e,this.getDataInfo()):(0,n.A)(this.$t("订单号不存在"))})},methods:{onClickLeft(){this.$router.go(-1)},copyData(t){this.$copyText(t).then(()=>{(0,n.A)(this.$t("复制成功"))},()=>{(0,n.A)(this.$t("复制失败"))})},getDataInfo(){n.A.loading({duration:0,message:this.$t("请求中")}),(0,c.oX)({order_no:this.orderNo}).then(t=>{t.stateStr="",t.className="",0===t.state&&(t.stateStr=this.$t("处理中")),1===t.state&&(t.className="success",t.stateStr=this.$t("成功")),2===t.state&&(t.className="fail",t.stateStr=this.$t("失败")),t.img&&(this.previewImages=[t.img]),this.dataInfo=t,this.pageDone=!0,n.A.clear(),this.$nextTick(()=>{this.createCodeImg(t.from)})}).catch(t=>{n.A.clear()})},createCodeImg(t){const e=this,i=document.getElementById("canvas");h.toCanvas(i,t,{width:124,height:124,margin:0},function(t){t||(e.codeImgUrl=i.toDataURL("image/png"))})},saveCodeImg(){let t=document.getElementsByTagName("canvas");this.imgUrl=t[0].toDataURL("image/png"),this.getUrlBase64(this.imgUrl).then(t=>{let e=document.createElement("a");e.href=t,e.download="qrCode.png",e.click()})},getUrlBase64(t){return new Promise(e=>{let i=document.createElement("canvas"),s=i.getContext("2d"),o=new Image;o.crossOrigin="Anonymous",o.src=t,o.onload=function(){i.height=300,i.width=300,s.drawImage(o,0,0,300,300);let t=i.toDataURL("image/png");i=null,e(t)}})},getImgUrlHandle(t){return m.log("path ::->",t),(0,l.xn)(t)},toPay(t){window.open(t)}}},u=d,v=i(81656),g=(0,v.A)(u,s,o,!1,null,"01fc2ec0",null),f=g.exports},83560:function(){},85432:function(t,e,i){i.d(e,{A:function(){return M}});var s=i(51137),o=i(66848),a=(i(18111),i(61701),i(55685)),n=(0,a.Y)("image-preview"),r=n[0],c=n[1],l=i(20105),h=i(28722),m=i(2879),d=i(96874),u=i(77235),v=i(21465),g=i(48499),f=i(76060),p=i(90689),A=i(36749);function C(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}var w,y={mixins:[h.B],props:{src:String,show:Boolean,active:Number,minZoom:[Number,String],maxZoom:[Number,String],rootWidth:Number,rootHeight:Number},data:function(){return{scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,imageRatio:0,displayWidth:0,displayHeight:0}},computed:{vertical:function(){var t=this.rootWidth,e=this.rootHeight,i=e/t;return this.imageRatio>i},imageStyle:function(){var t=this.scale,e={transitionDuration:this.zooming||this.moving?"0s":".3s"};if(1!==t){var i=this.moveX/t,s=this.moveY/t;e.transform="scale("+t+", "+t+") translate("+i+"px, "+s+"px)"}return e},maxMoveX:function(){if(this.imageRatio){var t=this.vertical?this.rootHeight/this.imageRatio:this.rootWidth;return Math.max(0,(this.scale*t-this.rootWidth)/2)}return 0},maxMoveY:function(){if(this.imageRatio){var t=this.vertical?this.rootHeight:this.rootWidth*this.imageRatio;return Math.max(0,(this.scale*t-this.rootHeight)/2)}return 0}},watch:{active:"resetScale",show:function(t){t||this.resetScale()}},mounted:function(){this.bindTouchEvent(this.$el)},methods:{resetScale:function(){this.setScale(1),this.moveX=0,this.moveY=0},setScale:function(t){t=(0,v.y1)(t,+this.minZoom,+this.maxZoom),t!==this.scale&&(this.scale=t,this.$emit("scale",{scale:this.scale,index:this.active}))},toggleScale:function(){var t=this.scale>1?1:2;this.setScale(t),this.moveX=0,this.moveY=0},onTouchStart:function(t){var e=t.touches,i=this.offsetX,s=void 0===i?0:i;this.touchStart(t),this.touchStartTime=new Date,this.fingerNum=e.length,this.startMoveX=this.moveX,this.startMoveY=this.moveY,this.moving=1===this.fingerNum&&1!==this.scale,this.zooming=2===this.fingerNum&&!s,this.zooming&&(this.startScale=this.scale,this.startDistance=C(t.touches))},onTouchMove:function(t){var e=t.touches;if(this.touchMove(t),(this.moving||this.zooming)&&(0,g.wo)(t,!0),this.moving){var i=this.deltaX+this.startMoveX,s=this.deltaY+this.startMoveY;this.moveX=(0,v.y1)(i,-this.maxMoveX,this.maxMoveX),this.moveY=(0,v.y1)(s,-this.maxMoveY,this.maxMoveY)}if(this.zooming&&2===e.length){var o=C(e),a=this.startScale*o/this.startDistance;this.setScale(a)}},onTouchEnd:function(t){var e=!1;(this.moving||this.zooming)&&(e=!0,this.moving&&this.startMoveX===this.moveX&&this.startMoveY===this.moveY&&(e=!1),t.touches.length||(this.zooming&&(this.moveX=(0,v.y1)(this.moveX,-this.maxMoveX,this.maxMoveX),this.moveY=(0,v.y1)(this.moveY,-this.maxMoveY,this.maxMoveY),this.zooming=!1),this.moving=!1,this.startMoveX=0,this.startMoveY=0,this.startScale=1,this.scale<1&&this.resetScale())),(0,g.wo)(t,e),this.checkTap(),this.resetTouchStatus()},checkTap:function(){var t=this;if(!(this.fingerNum>1)){var e=this.offsetX,i=void 0===e?0:e,s=this.offsetY,o=void 0===s?0:s,a=new Date-this.touchStartTime,n=250,r=5;i<r&&o<r&&a<n&&(this.doubleTapTimer?(clearTimeout(this.doubleTapTimer),this.doubleTapTimer=null,this.toggleScale()):this.doubleTapTimer=setTimeout(function(){t.$emit("close"),t.doubleTapTimer=null},n))}},onLoad:function(t){var e=t.target,i=e.naturalWidth,s=e.naturalHeight;this.imageRatio=s/i}},render:function(){var t=arguments[0],e={loading:function(){return t(p.A,{attrs:{type:"spinner"}})}};return t(A.A,{class:c("swipe-item")},[t(f.A,{attrs:{src:this.src,fit:"contain"},class:c("image",{vertical:this.vertical}),style:this.imageStyle,scopedSlots:e,on:{load:this.onLoad}})])}},I=r({mixins:[h.B,(0,l.i)({skipToggleEvent:!0}),(0,m.x)(function(t){t(window,"resize",this.resize,!0),t(window,"orientationchange",this.resize,!0)})],props:{className:null,closeable:Boolean,asyncClose:Boolean,overlayStyle:Object,showIndicators:Boolean,images:{type:Array,default:function(){return[]}},loop:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},minZoom:{type:[Number,String],default:1/3},maxZoom:{type:[Number,String],default:3},transition:{type:String,default:"van-fade"},showIndex:{type:Boolean,default:!0},swipeDuration:{type:[Number,String],default:300},startPosition:{type:[Number,String],default:0},overlayClass:{type:String,default:c("overlay")},closeIcon:{type:String,default:"clear"},closeOnPopstate:{type:Boolean,default:!0},closeIconPosition:{type:String,default:"top-right"}},data:function(){return{active:0,rootWidth:0,rootHeight:0,doubleClickTimer:null}},mounted:function(){this.resize()},watch:{startPosition:"setActive",value:function(t){var e=this;t?(this.setActive(+this.startPosition),this.$nextTick(function(){e.resize(),e.$refs.swipe.swipeTo(+e.startPosition,{immediate:!0})})):this.$emit("close",{index:this.active,url:this.images[this.active]})}},methods:{resize:function(){if(this.$el&&this.$el.getBoundingClientRect){var t=this.$el.getBoundingClientRect();this.rootWidth=t.width,this.rootHeight=t.height}},emitClose:function(){this.asyncClose||this.$emit("input",!1)},emitScale:function(t){this.$emit("scale",t)},setActive:function(t){t!==this.active&&(this.active=t,this.$emit("change",t))},genIndex:function(){var t=this.$createElement;if(this.showIndex)return t("div",{class:c("index")},[this.slots("index",{index:this.active})||this.active+1+" / "+this.images.length])},genCover:function(){var t=this.$createElement,e=this.slots("cover");if(e)return t("div",{class:c("cover")},[e])},genImages:function(){var t=this,e=this.$createElement;return e(u.A,{ref:"swipe",attrs:{lazyRender:!0,loop:this.loop,duration:this.swipeDuration,initialSwipe:this.startPosition,showIndicators:this.showIndicators,indicatorColor:"white"},class:c("swipe"),on:{change:this.setActive}},[this.images.map(function(i){return e(y,{attrs:{src:i,show:t.value,active:t.active,maxZoom:t.maxZoom,minZoom:t.minZoom,rootWidth:t.rootWidth,rootHeight:t.rootHeight},on:{scale:t.emitScale,close:t.emitClose}})})])},genClose:function(){var t=this.$createElement;if(this.closeable)return t(d.A,{attrs:{role:"button",name:this.closeIcon},class:c("close-icon",this.closeIconPosition),on:{click:this.emitClose}})},onClosed:function(){this.$emit("closed")},swipeTo:function(t,e){this.$refs.swipe&&this.$refs.swipe.swipeTo(t,e)}},render:function(){var t=arguments[0];return t("transition",{attrs:{name:this.transition},on:{afterLeave:this.onClosed}},[this.shouldRender?t("div",{directives:[{name:"show",value:this.value}],class:[c(),this.className]},[this.genClose(),this.genImages(),this.genIndex(),this.genCover()]):null])}}),S=i(33448),_={loop:!0,value:!0,images:[],maxZoom:3,minZoom:1/3,onClose:null,onChange:null,className:"",showIndex:!0,closeable:!1,closeIcon:"clear",asyncClose:!1,transition:"van-fade",getContainer:"body",overlayStyle:null,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeIconPosition:"top-right"},$=function(){w=new(o["default"].extend(I))({el:document.createElement("div")}),document.body.appendChild(w.$el),w.$on("change",function(t){w.onChange&&w.onChange(t)}),w.$on("scale",function(t){w.onScale&&w.onScale(t)})},x=function(t,e){if(void 0===e&&(e=0),!S.S$){w||$();var i=Array.isArray(t)?{images:t,startPosition:e}:t;return(0,s.A)(w,_,i),w.$once("input",function(t){w.value=t}),w.$once("closed",function(){w.images=[]}),i.onClose&&(w.$off("close"),w.$once("close",i.onClose)),w}};x.Component=I,x.install=function(){o["default"].use(I)};var M=x},90247:function(t,e,i){i(76952),i(69176),i(98992),i(22795),i(19523),i(65270),i(45396),i(84698),i(96002),i(83560)}}]);