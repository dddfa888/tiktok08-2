"use strict";(self["webpackChunkshop"]=self["webpackChunkshop"]||[]).push([[4325],{4624:function(t,i,e){e(76952),e(45396)},7287:function(t,i,e){e(76952),e(45396)},10339:function(t,i,e){var s=e(55685),n=e(73474),o=e(32486),a=e(2879),r=e(90689),l=(0,s.Y)("list"),h=l[0],c=l[1],u=l[2];i.A=h({mixins:[(0,a.x)(function(t){this.scroller||(this.scroller=(0,o.Rm)(this.$el)),t(this.scroller,"scroll",this.check)})],model:{prop:"loading"},props:{error:Boolean,loading:Boolean,finished:Boolean,errorText:String,loadingText:String,finishedText:String,immediateCheck:{type:Boolean,default:!0},offset:{type:[Number,String],default:300},direction:{type:String,default:"down"}},data:function(){return{innerLoading:this.loading}},updated:function(){this.innerLoading=this.loading},mounted:function(){this.immediateCheck&&this.check()},watch:{loading:"check",finished:"check"},methods:{check:function(){var t=this;this.$nextTick(function(){if(!(t.innerLoading||t.finished||t.error)){var i,e=t.$el,s=t.scroller,o=t.offset,a=t.direction;i=s.getBoundingClientRect?s.getBoundingClientRect():{top:0,bottom:s.innerHeight};var r=i.bottom-i.top;if(!r||(0,n.d)(e))return!1;var l=!1,h=t.$refs.placeholder.getBoundingClientRect();l="up"===a?i.top-h.top<=o:h.bottom-i.bottom<=o,l&&(t.innerLoading=!0,t.$emit("input",!0),t.$emit("load"))}})},clickErrorText:function(){this.$emit("update:error",!1),this.check()},genLoading:function(){var t=this.$createElement;if(this.innerLoading&&!this.finished)return t("div",{key:"loading",class:c("loading")},[this.slots("loading")||t(r.A,{attrs:{size:"16"}},[this.loadingText||u("loading")])])},genFinishedText:function(){var t=this.$createElement;if(this.finished){var i=this.slots("finished")||this.finishedText;if(i)return t("div",{class:c("finished-text")},[i])}},genErrorText:function(){var t=this.$createElement;if(this.error){var i=this.slots("error")||this.errorText;if(i)return t("div",{on:{click:this.clickErrorText},class:c("error-text")},[i])}}},render:function(){var t=arguments[0],i=t("div",{ref:"placeholder",key:"placeholder",class:c("placeholder")});return t("div",{class:c(),attrs:{role:"feed","aria-busy":this.innerLoading}},["down"===this.direction?this.slots():i,this.genLoading(),this.genFinishedText(),this.genErrorText(),"up"===this.direction?this.slots():i])}})},25481:function(t,i,e){e(76952)},29405:function(t,i,e){e.r(i),e.d(i,{default:function(){return C}});var s=function(){var t=this,i=t._self._c;return i("div",{staticClass:"all-reviews",staticStyle:{"min-height":"100vh"}},[i("van-nav-bar",{attrs:{"safe-area-inset-top":"",fixed:"",title:t.$t("所有评论"),"left-arrow":""},on:{"click-left":t.onClickLeft}}),i("div",{staticStyle:{width:"100%",height:"46px"}}),i("div",{staticClass:"top-total"},["Inchoi"!=t.itemName?i("p",[t._v(" "+t._s(t.$t("用户评价"))+" "),i("span",[t._v("("+t._s(t.evaluationNum)+")")])]):i("p",[t._v(" "+t._s(t.$t("用户评价"))+" ")]),i("p",[t._v(" "+t._s(t.$t("好评率"))+": "+t._s(Math.floor(t.positiveComments/t.evaluationNum*100)||100)+"% ")])]),i("div",{staticClass:"sort"},[i("span",{class:[t.isEn&&"en_span",-2===t.sort_index&&"active"],on:{click:function(i){t.sort_index=-2}}},[t._v(t._s(t.$t("有图"))+" ("+t._s(t.havePicture)+") ")]),i("span",{class:[t.isEn&&"en_span",1===t.sort_index&&"active"],on:{click:function(i){t.sort_index=1}}},[t._v(t._s(t.$t("好评"))+" ("+t._s(t.positiveComments)+") ")]),i("span",{class:[t.isEn&&"en_span",2===t.sort_index&&"active"],on:{click:function(i){t.sort_index=2}}},[t._v(t._s(t.$t("中评"))+" ("+t._s(t.mediumReview)+") ")]),i("span",{class:[t.isEn&&"en_span",3===t.sort_index&&"active"],on:{click:function(i){t.sort_index=3}}},[t._v(t._s(t.$t("差评"))+" ("+t._s(t.negativeComment)+") ")])]),i("van-pull-refresh",{staticStyle:{"min-height":"100vh"},attrs:{"pulling-text":t.$t("下拉即可刷新"),"loosing-text":t.$t("释放即可刷新"),"loading-text":t.$t("加载中")},on:{refresh:t.onRefresh},model:{value:t.refreshing,callback:function(i){t.refreshing=i},expression:"refreshing"}},[i("van-list",{attrs:{finished:t.finished,"loading-text":t.$t("加载中")},on:{load:t.onLoad},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},[i("div",{staticClass:"reviews-list"},[t._l(t.list,function(s,n){return i("div",{key:n,staticClass:"sheet-item"},[i("div",{staticClass:"top"},[i("img",{staticClass:"img",attrs:{src:e(96485)(`./${s.avatar||Math.floor(20*Math.random())}.png`)}}),i("div",{staticClass:"name-title"},[t._v(" "+t._s(s.userName)+" ")])]),i("div",{staticClass:"mid"},[i("van-rate",{staticClass:"rate-wrap",attrs:{"allow-half":"",size:15,color:t.mainColor,"void-icon":"star","void-color":"#eee",readonly:""},model:{value:s.rating,callback:function(i){t.$set(s,"rating",i)},expression:"item.rating"}}),i("span",[t._v(t._s(t.$t("订单已完成")))]),s.attributes?.[0]?.attrName?i("p",{staticClass:"sku"},t._l(s.attributes,function(e){return i("span",{key:e.sort},[t._v(" "+t._s(e.attrName)+"："+t._s(e.attrValue)+" ")])}),0):t._e()],1),i("p",{staticClass:"reviews"},[t._v(t._s(s.content||t.$t("用户未发表评论")))]),i("div",{staticClass:"comment_image"},t._l(s.images,function(e,n){return i("div",{key:n},[e?i("img",{attrs:{src:e,alt:""},on:{click:function(i){return t.ImagePreview({images:s.images,startPosition:n})}}}):t._e()])}),0),i("div",{staticClass:"btm_date"},[s?.countryName&&!["Inchoi","GreenMall"].includes(t.itemName)?i("span",[t._v(" "+t._s(s.countryName)+" >> ")]):t._e(),t._v(" "+t._s(s.evaluationTime?t.formatZoneDate(s.evaluationTime):t.formatZoneDate(s.createTime))+" ")])])}),0==t.list.length?i("van-empty",{attrs:{description:t.$t("暂无数据")}}):t._e()],2)])],1)],1)},n=[],o=(e(37302),e(76411)),a=(e(48041),e(54365)),r=(e(25481),e(49565)),l=(e(86291),e(34249)),h=(e(1751),e(29689)),c=(e(96356),e(162)),u=(e(93093),e(75187)),d=(e(18785),e(27017)),m=(e(63212),e(96874)),f=(e(4624),e(36790)),v=(e(7287),e(10339)),g=(e(64258),e(31864)),p=(e(90247),e(85432)),x=(e(44114),e(18111),e(7588),e(61701),e(77069)),y=e(23808),A={data(){return{formatZoneDate:y.Q9,itemName:"TikTokMall",mainColor:"#f89900",sort_index:"",list:[],page_no:0,refreshing:!1,loading:!1,finished:!1,evaluationNum:0,defaultAvatar:e(65315),havePicture:"0",mediumReview:"0",negativeComment:"0",positiveComments:"0",ImagePreview:p.A,isEn:"en"==(0,y.c7)("lang")}},components:{[g.A.name]:g.A,[v.A.name]:v.A,[f.A.name]:f.A,[m.A.name]:m.A,[d.A.name]:d.A,[u.A.name]:u.A,[c.A.name]:c.A,[h.A.name]:h.A,[l.A.name]:l.A,[r.A.name]:r.A,[a.A.name]:a.A,[o.A.name]:o.A},created(){this.list=[],(0,x.CS)({goodId:this.$route.query.sellerGoodsId}).then(t=>{const{havePicture:i,mediumReview:e,negativeComment:s,positiveComments:n}=t;this.havePicture=i,this.mediumReview=e,this.negativeComment=s,this.positiveComments=n}),this.getList()},methods:{handleList(t){const i=[];return Object.keys(t).forEach(e=>{-1!==e.indexOf("imgUrl")&&t[e]&&i.push(t[e])}),i},getList(){this.page_no++;let t={sellerGoodsId:this.$route.query.sellerGoodsId,pageNum:this.page_no,pageSize:10,evaluationType:this.sort_index};(0,x.bl)(t).then(t=>{this.evaluationNum=t.evaluationNum;for(let i=0;i<t.pageList.length;i++)this.list.push(t.pageList[i]);this.list=this.list.map(t=>{const i=[t.imgUrl1,t.imgUrl2,t.imgUrl3,t.imgUrl4,t.imgUrl5,t.imgUrl6,t.imgUrl7,t.imgUrl8,t.imgUrl9];return{...t,images:i.filter(t=>!!t)}}),this.loading=!1,0==t.pageList.length&&(this.finished=!0)})},onRefresh(){this.finished=!1,this.page_no=0,this.loading=!0,this.onLoad()},onLoad(){this.refreshing&&(this.list=[],this.refreshing=!1),this.getList()},onClickLeft(){this.$router.go(-1)}},watch:{sort_index(){this.list=[],this.page_no=0,this.getList()}}},S=A,w=e(81656),b=(0,w.A)(S,s,n,!1,null,"aad54dc0",null),C=b.exports},36790:function(t,i,e){e(44114);var s=e(55685),n=e(48499),o=e(32486),a=e(28722),r=e(90689),l=(0,s.Y)("pull-refresh"),h=l[0],c=l[1],u=l[2],d=50,m=["pulling","loosing","success"];i.A=h({mixins:[a.B],props:{disabled:Boolean,successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:[Number,String],value:{type:Boolean,required:!0},successDuration:{type:[Number,String],default:500},animationDuration:{type:[Number,String],default:300},headHeight:{type:[Number,String],default:d}},data:function(){return{status:"normal",distance:0,duration:0}},computed:{touchable:function(){return"loading"!==this.status&&"success"!==this.status&&!this.disabled},headStyle:function(){if(this.headHeight!==d)return{height:this.headHeight+"px"}}},watch:{value:function(t){this.duration=this.animationDuration,t?this.setStatus(+this.headHeight,!0):this.slots("success")||this.successText?this.showSuccessTip():this.setStatus(0,!1)}},mounted:function(){this.bindTouchEvent(this.$refs.track),this.scrollEl=(0,o.Rm)(this.$el)},methods:{checkPullStart:function(t){this.ceiling=0===(0,o.hY)(this.scrollEl),this.ceiling&&(this.duration=0,this.touchStart(t))},onTouchStart:function(t){this.touchable&&this.checkPullStart(t)},onTouchMove:function(t){this.touchable&&(this.ceiling||this.checkPullStart(t),this.touchMove(t),this.ceiling&&this.deltaY>=0&&"vertical"===this.direction&&((0,n.wo)(t),this.setStatus(this.ease(this.deltaY))))},onTouchEnd:function(){var t=this;this.touchable&&this.ceiling&&this.deltaY&&(this.duration=this.animationDuration,"loosing"===this.status?(this.setStatus(+this.headHeight,!0),this.$emit("input",!0),this.$nextTick(function(){t.$emit("refresh")})):this.setStatus(0))},ease:function(t){var i=+(this.pullDistance||this.headHeight);return t>i&&(t=t<2*i?i+(t-i)/2:1.5*i+(t-2*i)/4),Math.round(t)},setStatus:function(t,i){var e;e=i?"loading":0===t?"normal":t<(this.pullDistance||this.headHeight)?"pulling":"loosing",this.distance=t,e!==this.status&&(this.status=e)},genStatus:function(){var t=this.$createElement,i=this.status,e=this.distance,s=this.slots(i,{distance:e});if(s)return s;var n=[],o=this[i+"Text"]||u(i);return-1!==m.indexOf(i)&&n.push(t("div",{class:c("text")},[o])),"loading"===i&&n.push(t(r.A,{attrs:{size:"16"}},[o])),n},showSuccessTip:function(){var t=this;this.status="success",setTimeout(function(){t.setStatus(0)},this.successDuration)}},render:function(){var t=arguments[0],i={transitionDuration:this.duration+"ms",transform:this.distance?"translate3d(0,"+this.distance+"px, 0)":""};return t("div",{class:c()},[t("div",{ref:"track",class:c("track"),style:i},[t("div",{class:c("head"),style:this.headStyle},[this.genStatus()]),this.slots()])])}})},37302:function(t,i,e){e(76952)},48041:function(t,i,e){e(76952),e(98992),e(22795)},49565:function(t,i,e){var s=e(4250),n=e.n(s),o=e(55685),a=e(15827),r=e(56374),l=(0,o.Y)("cell-group"),h=l[0],c=l[1];function u(t,i,e,s){var o,l=t("div",n()([{class:[c({inset:i.inset}),(o={},o[r.pT]=i.border,o)]},(0,a.IL)(s,!0)]),[null==e.default?void 0:e.default()]);return i.title||e.title?t("div",{key:s.data.key},[t("div",{class:c("title",{inset:i.inset})},[e.title?e.title():i.title]),l]):l}u.props={title:String,inset:Boolean,border:{type:Boolean,default:!0}},i.A=h(u)},54365:function(t,i,e){e(44114),e(18111),e(7588),e(61701);var s=e(55685),n=e(83462),o=e(48499),a=e(28722),r=e(77965),l=e(96874),h=(0,s.Y)("rate"),c=h[0],u=h[1];function d(t,i,e){return t>=i?"full":t+.5>=i&&e?"half":"void"}i.A=c({mixins:[a.B,r.Y],props:{size:[Number,String],color:String,gutter:[Number,String],readonly:Boolean,disabled:Boolean,allowHalf:Boolean,voidColor:String,iconPrefix:String,disabledColor:String,value:{type:Number,default:0},icon:{type:String,default:"star"},voidIcon:{type:String,default:"star-o"},count:{type:[Number,String],default:5},touchable:{type:Boolean,default:!0}},computed:{list:function(){for(var t=[],i=1;i<=this.count;i++)t.push(d(this.value,i,this.allowHalf));return t},sizeWithUnit:function(){return(0,n._)(this.size)},gutterWithUnit:function(){return(0,n._)(this.gutter)}},mounted:function(){this.bindTouchEvent(this.$el)},methods:{select:function(t){this.disabled||this.readonly||t===this.value||(this.$emit("input",t),this.$emit("change",t))},onTouchStart:function(t){var i=this;if(!this.readonly&&!this.disabled&&this.touchable){this.touchStart(t);var e=this.$refs.items.map(function(t){return t.getBoundingClientRect()}),s=[];e.forEach(function(t,e){i.allowHalf?s.push({score:e+.5,left:t.left},{score:e+1,left:t.left+t.width/2}):s.push({score:e+1,left:t.left})}),this.ranges=s}},onTouchMove:function(t){if(!this.readonly&&!this.disabled&&this.touchable&&(this.touchMove(t),"horizontal"===this.direction)){(0,o.wo)(t);var i=t.touches[0].clientX;this.select(this.getScoreByPosition(i))}},getScoreByPosition:function(t){for(var i=this.ranges.length-1;i>0;i--)if(t>this.ranges[i].left)return this.ranges[i].score;return this.allowHalf?.5:1},genStar:function(t,i){var e,s=this,n=this.$createElement,o=this.icon,a=this.color,r=this.count,h=this.voidIcon,c=this.disabled,d=this.voidColor,m=this.disabledColor,f=i+1,v="full"===t,g="void"===t;return this.gutterWithUnit&&f!==+r&&(e={paddingRight:this.gutterWithUnit}),n("div",{ref:"items",refInFor:!0,key:i,attrs:{role:"radio",tabindex:"0","aria-setsize":r,"aria-posinset":f,"aria-checked":String(!g)},style:e,class:u("item")},[n(l.A,{attrs:{size:this.sizeWithUnit,name:v?o:h,color:c?m:v?a:d,classPrefix:this.iconPrefix,"data-score":f},class:u("icon",{disabled:c,full:v}),on:{click:function(){s.select(f)}}}),this.allowHalf&&n(l.A,{attrs:{size:this.sizeWithUnit,name:g?h:o,color:c?m:g?d:a,classPrefix:this.iconPrefix,"data-score":f-.5},class:u("icon",["half",{disabled:c,full:!g}]),on:{click:function(){s.select(f-.5)}}})])}},render:function(){var t=this,i=arguments[0];return i("div",{class:u({readonly:this.readonly,disabled:this.disabled}),attrs:{tabindex:"0",role:"radiogroup"}},[this.list.map(function(i,e){return t.genStar(i,e)})])}})},63212:function(t,i,e){e(76952),e(98992),e(22795)},65315:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAfCAMAAAAocOYLAAAAqFBMVEUAAADk8v/w9P7p8P/d7P/u8v7k7f/k7v/j6v/e6f/s8v/s8v/m7v7j7P/k7//v9P/u8/7t8//m7//m7v/n7//h7f/t9P/t8v/s8v7p8P/o8P/o8P/o7v7m7//i6//m7//l7f/f6f/h+f/n8P7n8P/o8P/j7f/2+P7U2u319/7y9f7c4fHw9P3s7/na3/DV2+709/7f5PPZ3u/u8frv8vvp7fjl6fXm6vbhpV3wAAAAJ3RSTlMABvm/EfV5TCQJ18uYbzbx6+dnZDAc9eDbw7eUkHxfVD8jFLirqH5ZNpboAAABR0lEQVQoz4WSV3bCMBBFxx3c6D1AIEVWcaXtf2exkTzIhJzcP+tKT++MBTozL/p2d3EfXmDE4UIwQghljjU+PuvexiQPWLDvhBiez0gH862v6WiAAiOsHvqJoxvcMFN6OqTkBYW6wrZQs1tZXhh22Mt0XDjzPElyLtQnDY7NcR8DeXKHY9y49h4ePyWKc7ti1T7E2y+tT9sVp24YYOG09Se8IAYYoReV1BUm0h2ANvdL3ug8JYgLIAhCU15VXGr0ndEXQuizpBHAkuhQ2tnuAawf6deSZxkvryfaNp4BuIUql+WJIs9Uh0Xzchw5+0Snkolh7Y0v+pc34/vvlxNK9fz7BNnGgIYt7fa7yX7UVy/MXr16P3TwDorDqvitnQiQw5o9++HYgAf2tvtGhaXCkennvGijmT+x4Rmj534s58IcBaGH9l9+AAwiaYe513xrAAAAAElFTkSuQmCC"},76411:function(t,i,e){e.d(i,{A:function(){return u}});var s=e(55685),n=e(83462),o="van-empty-network-",a={render:function(){var t=arguments[0],i=function(i,e,s){return t("stop",{attrs:{"stop-color":i,offset:e+"%","stop-opacity":s}})};return t("svg",{attrs:{viewBox:"0 0 160 160",xmlns:"http://www.w3.org/2000/svg"}},[t("defs",[t("linearGradient",{attrs:{id:o+"1",x1:"64.022%",y1:"100%",x2:"64.022%",y2:"0%"}},[i("#FFF",0,.5),i("#F2F3F5",100)]),t("linearGradient",{attrs:{id:o+"2",x1:"50%",y1:"0%",x2:"50%",y2:"84.459%"}},[i("#EBEDF0",0),i("#DCDEE0",100,0)]),t("linearGradient",{attrs:{id:o+"3",x1:"100%",y1:"0%",x2:"100%",y2:"100%"}},[i("#EAEDF0",0),i("#DCDEE0",100)]),t("linearGradient",{attrs:{id:o+"4",x1:"100%",y1:"100%",x2:"100%",y2:"0%"}},[i("#EAEDF0",0),i("#DCDEE0",100)]),t("linearGradient",{attrs:{id:o+"5",x1:"0%",y1:"43.982%",x2:"100%",y2:"54.703%"}},[i("#EAEDF0",0),i("#DCDEE0",100)]),t("linearGradient",{attrs:{id:o+"6",x1:"94.535%",y1:"43.837%",x2:"5.465%",y2:"54.948%"}},[i("#EAEDF0",0),i("#DCDEE0",100)]),t("radialGradient",{attrs:{id:o+"7",cx:"50%",cy:"0%",fx:"50%",fy:"0%",r:"100%",gradientTransform:"matrix(0 1 -.54835 0 .5 -.5)"}},[i("#EBEDF0",0),i("#FFF",100,0)])]),t("g",{attrs:{fill:"none","fill-rule":"evenodd"}},[t("g",{attrs:{opacity:".8"}},[t("path",{attrs:{d:"M0 124V46h20v20h14v58H0z",fill:"url(#"+o+"1)",transform:"matrix(-1 0 0 1 36 7)"}}),t("path",{attrs:{d:"M121 8h22.231v14H152v77.37h-31V8z",fill:"url(#"+o+"1)",transform:"translate(2 7)"}})]),t("path",{attrs:{fill:"url(#"+o+"7)",d:"M0 139h160v21H0z"}}),t("path",{attrs:{d:"M37 18a7 7 0 013 13.326v26.742c0 1.23-.997 2.227-2.227 2.227h-1.546A2.227 2.227 0 0134 58.068V31.326A7 7 0 0137 18z",fill:"url(#"+o+"2)","fill-rule":"nonzero",transform:"translate(43 36)"}}),t("g",{attrs:{opacity:".6","stroke-linecap":"round","stroke-width":"7"}},[t("path",{attrs:{d:"M20.875 11.136a18.868 18.868 0 00-5.284 13.121c0 5.094 2.012 9.718 5.284 13.12",stroke:"url(#"+o+"3)",transform:"translate(43 36)"}}),t("path",{attrs:{d:"M9.849 0C3.756 6.225 0 14.747 0 24.146c0 9.398 3.756 17.92 9.849 24.145",stroke:"url(#"+o+"3)",transform:"translate(43 36)"}}),t("path",{attrs:{d:"M57.625 11.136a18.868 18.868 0 00-5.284 13.121c0 5.094 2.012 9.718 5.284 13.12",stroke:"url(#"+o+"4)",transform:"rotate(-180 76.483 42.257)"}}),t("path",{attrs:{d:"M73.216 0c-6.093 6.225-9.849 14.747-9.849 24.146 0 9.398 3.756 17.92 9.849 24.145",stroke:"url(#"+o+"4)",transform:"rotate(-180 89.791 42.146)"}})]),t("g",{attrs:{transform:"translate(31 105)","fill-rule":"nonzero"}},[t("rect",{attrs:{fill:"url(#"+o+"5)",width:"98",height:"34",rx:"2"}}),t("rect",{attrs:{fill:"#FFF",x:"9",y:"8",width:"80",height:"18",rx:"1.114"}}),t("rect",{attrs:{fill:"url(#"+o+"6)",x:"15",y:"12",width:"18",height:"6",rx:"1.114"}})])])])}},r=(0,s.Y)("empty"),l=r[0],h=r[1],c=["error","search","default"],u=l({props:{imageSize:[Number,String],description:String,image:{type:String,default:"default"}},methods:{genImageContent:function(){var t=this.$createElement,i=this.slots("image");if(i)return i;if("network"===this.image)return t(a);var e=this.image;return-1!==c.indexOf(e)&&(e="https://img01.yzcdn.cn/vant/empty-image-"+e+".png"),t("img",{attrs:{src:e}})},genImage:function(){var t=this.$createElement,i={width:(0,n._)(this.imageSize),height:(0,n._)(this.imageSize)};return t("div",{class:h("image"),style:i},[this.genImageContent()])},genDescription:function(){var t=this.$createElement,i=this.slots("description")||this.description;if(i)return t("p",{class:h("description")},[i])},genBottom:function(){var t=this.$createElement,i=this.slots();if(i)return t("div",{class:h("bottom")},[i])}},render:function(){var t=arguments[0];return t("div",{class:h()},[this.genImage(),this.genDescription(),this.genBottom()])}})},77069:function(t,i,e){e.d(i,{$U:function(){return h},BS:function(){return d},CS:function(){return v},D6:function(){return u},DG:function(){return c},J$:function(){return l},O2:function(){return a},OX:function(){return m},RR:function(){return r},Rv:function(){return f},Tu:function(){return g},a9:function(){return n},bl:function(){return o}});var s=e(63793);const n=t=>(0,s.A)({url:"api/sellerGoods!info.action",method:"post",params:t}),o=t=>(0,s.A)({url:"/api/evaluation!list.action",method:"post",params:t}),a=t=>(0,s.A)({url:"api/seller!info.action",method:"post",params:t}),r=t=>(0,s.A)({url:"api/order!submit.action",method:"post",params:t}),l=t=>(0,s.A)({url:"api/order!pay.action",method:"post",params:t}),h=t=>(0,s.A)({url:"api/order!info.action",method:"post",params:t}),c=t=>(0,s.A)({url:"/seller/version!register.action",method:"post",params:t}),u=t=>(0,s.A)({url:"api/uploadimg!execute.action",method:"post",data:t}),d=t=>(0,s.A)({url:"api/kyc!get.action",method:"post",params:t}),m=t=>(0,s.A)({url:"api/keepGoods!add.action",method:"post",params:t}),f=t=>(0,s.A)({url:"api/keepGoods!del.action",method:"post",params:t}),v=t=>(0,s.A)({url:"api/evaluation!countType.action",method:"post",params:t}),g=t=>(0,s.A)({url:"api/sellerGoods!recommend_like.action",method:"post",params:t})},77965:function(t,i,e){e.d(i,{Y:function(){return s}});var s={inject:{vanField:{default:null}},watch:{value:function(){var t=this.vanField;t&&(t.resetValidation(),t.validateWithTrigger("onChange"))}},created:function(){var t=this.vanField;t&&!t.children&&(t.children=this)}}},83560:function(){},85432:function(t,i,e){e.d(i,{A:function(){return $}});var s=e(51137),n=e(66848),o=(e(18111),e(61701),e(55685)),a=(0,o.Y)("image-preview"),r=a[0],l=a[1],h=e(20105),c=e(28722),u=e(2879),d=e(96874),m=e(77235),f=e(21465),v=e(48499),g=e(76060),p=e(90689),x=e(36749);function y(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}var A,S={mixins:[c.B],props:{src:String,show:Boolean,active:Number,minZoom:[Number,String],maxZoom:[Number,String],rootWidth:Number,rootHeight:Number},data:function(){return{scale:1,moveX:0,moveY:0,moving:!1,zooming:!1,imageRatio:0,displayWidth:0,displayHeight:0}},computed:{vertical:function(){var t=this.rootWidth,i=this.rootHeight,e=i/t;return this.imageRatio>e},imageStyle:function(){var t=this.scale,i={transitionDuration:this.zooming||this.moving?"0s":".3s"};if(1!==t){var e=this.moveX/t,s=this.moveY/t;i.transform="scale("+t+", "+t+") translate("+e+"px, "+s+"px)"}return i},maxMoveX:function(){if(this.imageRatio){var t=this.vertical?this.rootHeight/this.imageRatio:this.rootWidth;return Math.max(0,(this.scale*t-this.rootWidth)/2)}return 0},maxMoveY:function(){if(this.imageRatio){var t=this.vertical?this.rootHeight:this.rootWidth*this.imageRatio;return Math.max(0,(this.scale*t-this.rootHeight)/2)}return 0}},watch:{active:"resetScale",show:function(t){t||this.resetScale()}},mounted:function(){this.bindTouchEvent(this.$el)},methods:{resetScale:function(){this.setScale(1),this.moveX=0,this.moveY=0},setScale:function(t){t=(0,f.y1)(t,+this.minZoom,+this.maxZoom),t!==this.scale&&(this.scale=t,this.$emit("scale",{scale:this.scale,index:this.active}))},toggleScale:function(){var t=this.scale>1?1:2;this.setScale(t),this.moveX=0,this.moveY=0},onTouchStart:function(t){var i=t.touches,e=this.offsetX,s=void 0===e?0:e;this.touchStart(t),this.touchStartTime=new Date,this.fingerNum=i.length,this.startMoveX=this.moveX,this.startMoveY=this.moveY,this.moving=1===this.fingerNum&&1!==this.scale,this.zooming=2===this.fingerNum&&!s,this.zooming&&(this.startScale=this.scale,this.startDistance=y(t.touches))},onTouchMove:function(t){var i=t.touches;if(this.touchMove(t),(this.moving||this.zooming)&&(0,v.wo)(t,!0),this.moving){var e=this.deltaX+this.startMoveX,s=this.deltaY+this.startMoveY;this.moveX=(0,f.y1)(e,-this.maxMoveX,this.maxMoveX),this.moveY=(0,f.y1)(s,-this.maxMoveY,this.maxMoveY)}if(this.zooming&&2===i.length){var n=y(i),o=this.startScale*n/this.startDistance;this.setScale(o)}},onTouchEnd:function(t){var i=!1;(this.moving||this.zooming)&&(i=!0,this.moving&&this.startMoveX===this.moveX&&this.startMoveY===this.moveY&&(i=!1),t.touches.length||(this.zooming&&(this.moveX=(0,f.y1)(this.moveX,-this.maxMoveX,this.maxMoveX),this.moveY=(0,f.y1)(this.moveY,-this.maxMoveY,this.maxMoveY),this.zooming=!1),this.moving=!1,this.startMoveX=0,this.startMoveY=0,this.startScale=1,this.scale<1&&this.resetScale())),(0,v.wo)(t,i),this.checkTap(),this.resetTouchStatus()},checkTap:function(){var t=this;if(!(this.fingerNum>1)){var i=this.offsetX,e=void 0===i?0:i,s=this.offsetY,n=void 0===s?0:s,o=new Date-this.touchStartTime,a=250,r=5;e<r&&n<r&&o<a&&(this.doubleTapTimer?(clearTimeout(this.doubleTapTimer),this.doubleTapTimer=null,this.toggleScale()):this.doubleTapTimer=setTimeout(function(){t.$emit("close"),t.doubleTapTimer=null},a))}},onLoad:function(t){var i=t.target,e=i.naturalWidth,s=i.naturalHeight;this.imageRatio=s/e}},render:function(){var t=arguments[0],i={loading:function(){return t(p.A,{attrs:{type:"spinner"}})}};return t(x.A,{class:l("swipe-item")},[t(g.A,{attrs:{src:this.src,fit:"contain"},class:l("image",{vertical:this.vertical}),style:this.imageStyle,scopedSlots:i,on:{load:this.onLoad}})])}},w=r({mixins:[c.B,(0,h.i)({skipToggleEvent:!0}),(0,u.x)(function(t){t(window,"resize",this.resize,!0),t(window,"orientationchange",this.resize,!0)})],props:{className:null,closeable:Boolean,asyncClose:Boolean,overlayStyle:Object,showIndicators:Boolean,images:{type:Array,default:function(){return[]}},loop:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},minZoom:{type:[Number,String],default:1/3},maxZoom:{type:[Number,String],default:3},transition:{type:String,default:"van-fade"},showIndex:{type:Boolean,default:!0},swipeDuration:{type:[Number,String],default:300},startPosition:{type:[Number,String],default:0},overlayClass:{type:String,default:l("overlay")},closeIcon:{type:String,default:"clear"},closeOnPopstate:{type:Boolean,default:!0},closeIconPosition:{type:String,default:"top-right"}},data:function(){return{active:0,rootWidth:0,rootHeight:0,doubleClickTimer:null}},mounted:function(){this.resize()},watch:{startPosition:"setActive",value:function(t){var i=this;t?(this.setActive(+this.startPosition),this.$nextTick(function(){i.resize(),i.$refs.swipe.swipeTo(+i.startPosition,{immediate:!0})})):this.$emit("close",{index:this.active,url:this.images[this.active]})}},methods:{resize:function(){if(this.$el&&this.$el.getBoundingClientRect){var t=this.$el.getBoundingClientRect();this.rootWidth=t.width,this.rootHeight=t.height}},emitClose:function(){this.asyncClose||this.$emit("input",!1)},emitScale:function(t){this.$emit("scale",t)},setActive:function(t){t!==this.active&&(this.active=t,this.$emit("change",t))},genIndex:function(){var t=this.$createElement;if(this.showIndex)return t("div",{class:l("index")},[this.slots("index",{index:this.active})||this.active+1+" / "+this.images.length])},genCover:function(){var t=this.$createElement,i=this.slots("cover");if(i)return t("div",{class:l("cover")},[i])},genImages:function(){var t=this,i=this.$createElement;return i(m.A,{ref:"swipe",attrs:{lazyRender:!0,loop:this.loop,duration:this.swipeDuration,initialSwipe:this.startPosition,showIndicators:this.showIndicators,indicatorColor:"white"},class:l("swipe"),on:{change:this.setActive}},[this.images.map(function(e){return i(S,{attrs:{src:e,show:t.value,active:t.active,maxZoom:t.maxZoom,minZoom:t.minZoom,rootWidth:t.rootWidth,rootHeight:t.rootHeight},on:{scale:t.emitScale,close:t.emitClose}})})])},genClose:function(){var t=this.$createElement;if(this.closeable)return t(d.A,{attrs:{role:"button",name:this.closeIcon},class:l("close-icon",this.closeIconPosition),on:{click:this.emitClose}})},onClosed:function(){this.$emit("closed")},swipeTo:function(t,i){this.$refs.swipe&&this.$refs.swipe.swipeTo(t,i)}},render:function(){var t=arguments[0];return t("transition",{attrs:{name:this.transition},on:{afterLeave:this.onClosed}},[this.shouldRender?t("div",{directives:[{name:"show",value:this.value}],class:[l(),this.className]},[this.genClose(),this.genImages(),this.genIndex(),this.genCover()]):null])}}),b=e(33448),C={loop:!0,value:!0,images:[],maxZoom:3,minZoom:1/3,onClose:null,onChange:null,className:"",showIndex:!0,closeable:!1,closeIcon:"clear",asyncClose:!1,transition:"van-fade",getContainer:"body",overlayStyle:null,startPosition:0,swipeDuration:300,showIndicators:!1,closeOnPopstate:!0,closeIconPosition:"top-right"},k=function(){A=new(n["default"].extend(w))({el:document.createElement("div")}),document.body.appendChild(A.$el),A.$on("change",function(t){A.onChange&&A.onChange(t)}),A.$on("scale",function(t){A.onScale&&A.onScale(t)})},T=function(t,i){if(void 0===i&&(i=0),!b.S$){A||k();var e=Array.isArray(t)?{images:t,startPosition:i}:t;return(0,s.A)(A,C,e),A.$once("input",function(t){A.value=t}),A.$once("closed",function(){A.images=[]}),e.onClose&&(A.$off("close"),A.$once("close",e.onClose)),A}};T.Component=w,T.install=function(){n["default"].use(w)};var $=T},90247:function(t,i,e){e(76952),e(69176),e(98992),e(22795),e(19523),e(65270),e(45396),e(84698),e(96002),e(83560)}}]);