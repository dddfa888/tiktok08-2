{"ast":null,"code":"import \"vant/es/notify/style\";\nimport _Notify from \"vant/es/notify\";\nimport \"vant/es/toast/style\";\nimport _Toast from \"vant/es/toast\";\nimport \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport router from \"@/router/router.js\";\nimport i18n from \"@/i18n\";\nimport multiItem from \"../store/modules/multiItem\";\naxios.defaults.headers.post[\"Content-Type\"] = \"application/x-www-form-urlencoded\";\n// 配置 环境的接口地址\nconst BASE_URL = process.env.NODE_ENV === \"production\" ? \"/wap\" : process.env.VUE_APP_BASE_URL;\n// 创建\nconst request = axios.create({\n  // baseURL: process.env.VUE_APP_IS_APP ? multiItem.state[process.env.VUE_APP_ITEM_NAME].app_url + '/wap' : BASE_URL,\n  // baseURL: BASE_URL,\n  baseURL: \"https://tk09.adsshopm.org/wap/\",\n  timeout: 100000,\n  // 超时时间\n  //   withCredentials: true,\n  headers: {\n    \"Content-Type\": \"application/json;charset=UTF-8\"\n  }\n  //   transformRequest: [function(data) {\n  //     return data\n  //   }]\n});\n\n// 拦截请求\nrequest.interceptors.request.use(config => {\n  if (config.loading) {\n    _Toast.loading({\n      duration: 0,\n      forbidClick: true\n    });\n  }\n  if (!config.params) {\n    // 放在哪里\n    config.params = {};\n  }\n  if (localStorage.getItem(\"token\")) {\n    config.params[\"token\"] = localStorage.getItem(\"token\");\n  }\n  if (!config.params.lang) {\n    // if (i18n.i18n.locale == 'en') {\n    //     config.params['lang'] = 'en'\n    // } else if (i18n.i18n.locale == 'cn') {\n    //     config.params['lang'] = 'cn'\n    // } else if (i18n.i18n.locale == 'tw') {\n    //     config.params['lang'] = 'tw'\n    // }\n    config.params[\"lang\"] = i18n.i18n.locale;\n  }\n  return config;\n}, error => {\n  Promise.reject(error);\n});\n\n/**\r\n * 烤猫, [7/27/2022 9:08 PM]\r\n * 0 成功\r\n1 直接显示\r\n105 直接提示“当前还需交易“ + 返回的金额值 + ”,才可提币\"\r\n401 是需要实名认证，问客户”未实名认证，是否认证？\"\r\n403 无登录信息，跳转登录页面\r\n506 \"帐户异常需要进行C3认证，请联系在线客服。\"\r\n */\n\n// 拦截响应\nrequest.interceptors.response.use(res => {\n  // 200开头的\n  if (res.config.loading) {\n    _Toast.clear();\n  }\n  const {\n    code,\n    data,\n    msg\n  } = res.data;\n  switch (code / 1) {\n    case 0:\n      return Promise.resolve(data);\n    case 403:\n      localStorage.removeItem(\"token\");\n      if (router.currentRoute.path !== \"/me\") {\n        router.push({\n          path: \"/login\"\n        });\n      }\n      return;\n    default:\n      _Notify({\n        type: \"danger\",\n        message: i18n.i18n.t(msg)\n      });\n      console.log(\"错误1\", res);\n      return Promise.reject(res.data);\n  }\n}, error => {\n  if (error && error.response) {\n    switch (error.response.status) {\n      case 400:\n        error.message = \"请求错误\";\n        break;\n      case 401:\n        error.message = \"未授权，请登录\";\n        break;\n      case 403:\n        error.message = \"拒绝访问\";\n        break;\n      case 404:\n        error.message = `请求地址不存在: ${error.response.config.url}`;\n        break;\n      case 408:\n        error.message = \"请求超时\";\n        break;\n      case 500:\n        error.message = \"服务器内部错误\";\n        break;\n      case 501:\n        error.message = \"服务未实现\";\n        break;\n      case 502:\n        error.message = \"网关错误\";\n        break;\n      case 503:\n        error.message = \"服务不可用\";\n        break;\n      case 504:\n        error.message = \"网关超时\";\n        break;\n      case 505:\n        error.message = \"HTTP版本不受支持\";\n        break;\n      default:\n        //     error.message = Toast.fail({\n        //     // icon: 'none',\n        //     // message: i18n.t(msg)\n        //     message: i18n.t('网络波动请刷新页面')\n        //   });\n        _Notify({\n          type: \"danger\",\n          message: i18n.i18n.t(\"网络波动请刷新页面\")\n        });\n        // Promise.reject(error)\n        break;\n    }\n  }\n  // eslint-disable-next-line prefer-promise-reject-errors\n  return Promise.reject(error);\n});\nexport default request;","map":{"version":3,"names":["axios","router","i18n","multiItem","defaults","headers","post","BASE_URL","process","env","NODE_ENV","VUE_APP_BASE_URL","request","create","baseURL","timeout","interceptors","use","config","loading","_Toast","duration","forbidClick","params","localStorage","getItem","lang","locale","error","Promise","reject","response","res","clear","code","data","msg","resolve","removeItem","currentRoute","path","push","_Notify","type","message","t","console","log","status","url"],"sources":["C:/Users/HP/Desktop/tiktok08-2/buyPhone/src/request/index.js"],"sourcesContent":["import axios from \"axios\";\r\nimport router from \"@/router/router.js\";\r\nimport { Toast, Notify } from \"vant\";\r\nimport i18n from \"@/i18n\";\r\nimport multiItem from \"../store/modules/multiItem\";\r\naxios.defaults.headers.post[\"Content-Type\"] =\r\n  \"application/x-www-form-urlencoded\";\r\n// 配置 环境的接口地址\r\nconst BASE_URL =\r\n  process.env.NODE_ENV === \"production\" ? \"/wap\" : process.env.VUE_APP_BASE_URL;\r\n// 创建\r\nconst request = axios.create({\r\n  // baseURL: process.env.VUE_APP_IS_APP ? multiItem.state[process.env.VUE_APP_ITEM_NAME].app_url + '/wap' : BASE_URL,\r\n  // baseURL: BASE_URL,\r\n  baseURL: \"https://tk09.adsshopm.org/wap/\",\r\n  timeout: 100000, // 超时时间\r\n  //   withCredentials: true,\r\n  headers: {\r\n    \"Content-Type\": \"application/json;charset=UTF-8\",\r\n  },\r\n  //   transformRequest: [function(data) {\r\n  //     return data\r\n  //   }]\r\n});\r\n\r\n// 拦截请求\r\nrequest.interceptors.request.use(\r\n  (config) => {\r\n    if (config.loading) {\r\n      Toast.loading({ duration: 0, forbidClick: true });\r\n    }\r\n    if (!config.params) {\r\n      // 放在哪里\r\n      config.params = {};\r\n    }\r\n    if (localStorage.getItem(\"token\")) {\r\n      config.params[\"token\"] = localStorage.getItem(\"token\");\r\n    }\r\n\r\n    if (!config.params.lang) {\r\n      // if (i18n.i18n.locale == 'en') {\r\n      //     config.params['lang'] = 'en'\r\n      // } else if (i18n.i18n.locale == 'cn') {\r\n      //     config.params['lang'] = 'cn'\r\n      // } else if (i18n.i18n.locale == 'tw') {\r\n      //     config.params['lang'] = 'tw'\r\n      // }\r\n      config.params[\"lang\"] = i18n.i18n.locale;\r\n    }\r\n\r\n    return config;\r\n  },\r\n  (error) => {\r\n    Promise.reject(error);\r\n  }\r\n);\r\n\r\n/**\r\n * 烤猫, [7/27/2022 9:08 PM]\r\n * 0 成功\r\n1 直接显示\r\n105 直接提示“当前还需交易“ + 返回的金额值 + ”,才可提币\"\r\n401 是需要实名认证，问客户”未实名认证，是否认证？\"\r\n403 无登录信息，跳转登录页面\r\n506 \"帐户异常需要进行C3认证，请联系在线客服。\"\r\n */\r\n\r\n// 拦截响应\r\nrequest.interceptors.response.use(\r\n  (res) => {\r\n    // 200开头的\r\n    if (res.config.loading) {\r\n      Toast.clear();\r\n    }\r\n    const { code, data, msg } = res.data;\r\n    switch (code / 1) {\r\n      case 0:\r\n        return Promise.resolve(data);\r\n      case 403:\r\n        localStorage.removeItem(\"token\");\r\n        if (router.currentRoute.path !== \"/me\") {\r\n          router.push({ path: \"/login\" });\r\n        }\r\n        return;\r\n      default:\r\n        Notify({ type: \"danger\", message: i18n.i18n.t(msg) });\r\n        console.log(\"错误1\", res);\r\n        return Promise.reject(res.data);\r\n    }\r\n  },\r\n  (error) => {\r\n    if (error && error.response) {\r\n      switch (error.response.status) {\r\n        case 400:\r\n          error.message = \"请求错误\";\r\n          break;\r\n        case 401:\r\n          error.message = \"未授权，请登录\";\r\n          break;\r\n        case 403:\r\n          error.message = \"拒绝访问\";\r\n          break;\r\n        case 404:\r\n          error.message = `请求地址不存在: ${error.response.config.url}`;\r\n          break;\r\n        case 408:\r\n          error.message = \"请求超时\";\r\n          break;\r\n        case 500:\r\n          error.message = \"服务器内部错误\";\r\n          break;\r\n        case 501:\r\n          error.message = \"服务未实现\";\r\n          break;\r\n        case 502:\r\n          error.message = \"网关错误\";\r\n          break;\r\n        case 503:\r\n          error.message = \"服务不可用\";\r\n          break;\r\n        case 504:\r\n          error.message = \"网关超时\";\r\n          break;\r\n        case 505:\r\n          error.message = \"HTTP版本不受支持\";\r\n          break;\r\n        default:\r\n          //     error.message = Toast.fail({\r\n          //     // icon: 'none',\r\n          //     // message: i18n.t(msg)\r\n          //     message: i18n.t('网络波动请刷新页面')\r\n          //   });\r\n          Notify({\r\n            type: \"danger\",\r\n            message: i18n.i18n.t(\"网络波动请刷新页面\"),\r\n          });\r\n          // Promise.reject(error)\r\n          break;\r\n      }\r\n    }\r\n    // eslint-disable-next-line prefer-promise-reject-errors\r\n    return Promise.reject(error);\r\n  }\r\n);\r\nexport default request;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}