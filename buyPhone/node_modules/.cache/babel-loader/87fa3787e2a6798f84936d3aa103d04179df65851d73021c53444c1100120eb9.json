{"ast":null,"code":"import \"vant/es/toast/style\";\nimport _Toast from \"vant/es/toast\";\nimport \"core-js/modules/es.array.push.js\";\nimport Vcode from \"vue-puzzle-vcode\";\nimport NationalityList from \"@/components/NationalityList\";\nimport { registerNoVerifcode, justShopRegister, apiSendCode } from \"@/API/user\";\nimport { isLogin } from \"@/utils/utis\";\nexport default {\n  name: \"LoginPage\",\n  components: {\n    NationalityList,\n    Vcode\n  },\n  data() {\n    return {\n      sms: \"\",\n      isLogin,\n      isShelves: !process.env.VUE_APP_PUT_ON_SHELVES,\n      itemName: process.env.VUE_APP_ITEM_NAME,\n      img1: require(\"@/assets/image/slider/1.png\"),\n      img2: require(\"@/assets/image/slider/2.png\"),\n      img3: require(\"@/assets/image/slider/3.png\"),\n      img4: require(\"@/assets/image/slider/4.png\"),\n      img5: require(\"@/assets/image/slider/5.png\"),\n      triangleDown: require(\"@/assets/image/me/triangle_down.png\"),\n      TabShow: 2,\n      codeBtnTxt: this.$t(\"码\"),\n      codeBtnTxt1: this.$t(\"码\"),\n      formData: {\n        username: \"\",\n        password: \"\",\n        re_password: \"\",\n        verifcode: \"\",\n        phone: \"\"\n      },\n      count: 60,\n      count1: 60,\n      interval: null,\n      interval1: null,\n      btnDisabled: false,\n      btnDisabled1: false,\n      show: false,\n      pageDiaCode: false,\n      dialCode: localStorage.getItem(\"dialCode\") || 1\n    };\n  },\n  created() {\n    if (this.isLogin()) {\n      this.$router.push(\"/\");\n    }\n  },\n  methods: {\n    getVerCode() {\n      console.log(\"获取验证码\");\n      if (this.formData.username === \"\") {\n        _Toast(this.$t(\"请输入手机号\"));\n        return;\n      }\n      const reg = /^[0-9]+[0-9]*$/;\n      if (!reg.test(this.formData.username)) {\n        _Toast(t.$t(\"手机号格式有误\"));\n        return;\n      }\n      _Toast.loading({\n        duration: 0,\n        message: this.$t(\"发送中\"),\n        forbidClick: true\n      });\n      const params = {\n        target: this.dialCode + this.formData.username\n      };\n      apiSendCode(params).then(() => {\n        _Toast.success(this.$t(\"发送成功\"));\n        this.timerFn();\n      }).catch(err => {\n        _Toast.clear();\n      });\n    },\n    getCode() {\n      if (this.formData.username === \"\") {\n        _Toast(this.$t(\"请输入邮箱\"));\n        return;\n      }\n      const reg = /^([A-Za-z0-9_\\-\\.\\w{3,}])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\n      if (!reg.test(this.formData.username)) {\n        _Toast(this.$t(\"邮箱格式有误\"));\n        return;\n      }\n      _Toast.loading({\n        duration: 0,\n        message: this.$t(\"发送中\"),\n        forbidClick: true\n      });\n      const params = {\n        target: this.formData.username\n      };\n      apiSendCode(params).then(() => {\n        _Toast.success(this.$t(\"发送成功\"));\n        this.timerFn1();\n      }).catch(err => {\n        _Toast.clear();\n      });\n    },\n    timerFn1() {\n      this.codeBtnTxt1 = `${this.$t(\"再次获取\")} ${this.count1} s`;\n      this.btnDisabled1 = true;\n      this.interval = setInterval(() => {\n        if (this.count1 === 1) {\n          this.count1 = 60;\n          this.codeBtnTxt1 = this.$t(\"再次获取\");\n          this.btnDisabled1 = false;\n          clearInterval(this.interval1);\n        } else {\n          this.count1 -= 1;\n          this.codeBtnTxt1 = `${this.$t(\"再次获取\")} ${this.count1} s`;\n        }\n      }, 1000);\n    },\n    timerFn() {\n      this.codeBtnTxt = `${this.$t(\"再次获取\")} ${this.count} s`;\n      this.btnDisabled = true;\n      this.interval = setInterval(() => {\n        if (this.count === 1) {\n          this.count = 60;\n          this.codeBtnTxt = this.$t(\"再次获取\");\n          this.btnDisabled = false;\n          clearInterval(this.interval);\n        } else {\n          this.count -= 1;\n          this.codeBtnTxt = `${this.$t(\"再次获取\")} ${this.count} s`;\n        }\n      }, 1000);\n    },\n    handleJump() {\n      const path = this.$store.state.multiItem[process.env.VUE_APP_ITEM_NAME].customer_service;\n      if (path) {\n        if (window.plus) {\n          window.plus.runtime.openURL(path);\n        } else {\n          window.open(path);\n        }\n      } else {\n        this.$router.push({\n          path: \"customerServiceIndex?path=customerService\"\n        });\n      }\n    },\n    TabClick(e) {\n      this.TabShow = e;\n      this.formData.username = \"\";\n      this.formData.password = \"\";\n      this.formData.re_password = \"\";\n      this.formData.verifcode = \"\";\n    },\n    post_form() {\n      const t = this;\n      if (this.TabShow === 1) {\n        if (this.formData.username === \"\") {\n          _Toast(t.$t(\"请输入手机号\"));\n          return;\n        } else {\n          const reg = /^[0-9]+[0-9]*$/;\n          if (!reg.test(this.formData.username)) {\n            _Toast(t.$t(\"手机号格式有误\"));\n            return;\n          }\n        }\n      }\n      if (this.TabShow === 2) {\n        if (this.formData.username === \"\") {\n          _Toast(t.$t(\"请输入邮箱\"));\n          return;\n        }\n        const reg = /^([A-Za-z0-9_\\-\\.\\w{3,}])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\n        if (!reg.test(this.formData.username)) {\n          _Toast(t.$t(\"邮箱格式有误\"));\n          return;\n        }\n      }\n      if (this.formData.password === \"\") {\n        _Toast(t.$t(\"请输入密码\"));\n        return;\n      }\n      const reg = /^[a-zA-Z0-9!@#$%^&*()_+{}\\[\\]:;'\"\\\\|,.<>?~`\\-=/]{6,12}$/;\n      if (!reg.test(this.formData.password)) {\n        _Toast(t.$t(\"请输入 6-12 位由数字或字母组成的密码\"));\n        return;\n      }\n      if (this.formData.password !== this.formData.re_password) {\n        _Toast(this.$t(\"两次密码输入不一致\"));\n        return;\n      }\n      // if (this.formData.verifcode === '') {\n      //         Toast(t.$t('请输入验证码'));\n      //         return\n      //     }\n      this.show = true;\n    },\n    onSuccess() {\n      this.registerSubmit();\n      this.show = false;\n    },\n    onFail() {\n      console.log(\"失败回调\");\n    },\n    async registerSubmit() {\n      // const requestFn = ['SM-wholesaleShop', 'FamilyShop'].includes(this.itemName) ? justShopRegister : registerNoVerifcode\n      const requestFn = registerNoVerifcode;\n      const params = {\n        password: encodeURIComponent(this.formData.password)?.trim(),\n        re_password: encodeURIComponent(this.formData.re_password)?.trim(),\n        // verifcode: encodeURIComponent(this.formData.verifcode)?.trim(),\n        type: this.TabShow\n      };\n      if (sessionStorage.getItem(\"ac_code\")) {\n        params.agentCode = sessionStorage.getItem(\"ac_code\");\n        sessionStorage.removeItem(\"ac_code\");\n      }\n      if ([\"SM-wholesaleShop\", \"FamilyShop\"].includes(this.itemName)) {\n        params.verifcode = this.formData.verifcode;\n        params.phone = this.formData.phone;\n        params.username = this.formData.username.trim();\n      } else {\n        params.username = this.TabShow === 1 ? `${this.dialCode} ${this.formData.username.trim()}` : this.formData.username.trim();\n      }\n      _Toast.loading({\n        duration: 0,\n        message: this.$t(\"提交中\"),\n        forbidClick: true\n      });\n      requestFn(params).then(async res => {\n        // Toast.success(this.$t('注册成功'))\n        // if(res.code=='1'){\n        //     this.$notify(this.$t('验证码错误'), 'success')\n        //     return\n        // }\n        _Toast.clear();\n        this.$notify(this.$t(\"注册成功\"), \"success\");\n        localStorage.setItem(\"token\", res.token);\n        let timeZone = this.dayjs.tz.guess();\n        localStorage.setItem(\"timeZone\", timeZone);\n        await this.$store.dispatch(\"getUserInfo\");\n        this.$router.push({\n          path: \"/\"\n        });\n      }).catch(err => {\n        // Toast.fail(err.msg)\n        _Toast.clear();\n      });\n    },\n    getName(params) {\n      if (!this.pageDiaCode) {\n        this.pageDiaCode = true;\n      } else {\n        this.dialCode = params[2];\n        localStorage.setItem(\"dialCode\", this.dialCode);\n      }\n    },\n    openNational() {\n      this.$refs.controlChild.open();\n    }\n  }\n};","map":{"version":3,"names":["Vcode","NationalityList","registerNoVerifcode","justShopRegister","apiSendCode","isLogin","name","components","data","sms","isShelves","process","env","VUE_APP_PUT_ON_SHELVES","itemName","VUE_APP_ITEM_NAME","img1","require","img2","img3","img4","img5","triangleDown","TabShow","codeBtnTxt","$t","codeBtnTxt1","formData","username","password","re_password","verifcode","phone","count","count1","interval","interval1","btnDisabled","btnDisabled1","show","pageDiaCode","dialCode","localStorage","getItem","created","$router","push","methods","getVerCode","console","log","_Toast","reg","test","t","loading","duration","message","forbidClick","params","target","then","success","timerFn","catch","err","clear","getCode","timerFn1","setInterval","clearInterval","handleJump","path","$store","state","multiItem","customer_service","window","plus","runtime","openURL","open","TabClick","e","post_form","onSuccess","registerSubmit","onFail","requestFn","encodeURIComponent","trim","type","sessionStorage","agentCode","removeItem","includes","res","$notify","setItem","token","timeZone","dayjs","tz","guess","dispatch","getName","openNational","$refs","controlChild"],"sources":["src/page/register/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"login\">\r\n    <nationality-list\r\n      ref=\"controlChild\"\r\n      :title=\"$t('选择区域码')\"\r\n      @getName=\"getName(arguments)\"\r\n    ></nationality-list>\r\n    <Vcode\r\n      style=\"direction: ltr\"\r\n      :imgs=\"[img1, img2, img3, img4, img5]\"\r\n      :show=\"show\"\r\n      @success=\"onSuccess\"\r\n      :canvasHeight=\"200\"\r\n      @fail=\"onFail\"\r\n      @close=\"show = false\"\r\n      :sliderText=\"$t('拖动滑块以完成拼图')\"\r\n      :successText=\"$t('验证通过!')\"\r\n      :failText=\"$t('验证失败,请重试')\"\r\n    />\r\n\r\n    <div class=\"lang-right\" v-if=\"isShelves\">\r\n      <router-link to=\"/language\">\r\n        <img class=\"lang-icon\" src=\"@/assets/image/public/feedback.png\" />\r\n      </router-link>\r\n    </div>\r\n    <div class=\"login-title\">{{ $t(\"注册\") }}</div>\r\n    <div\r\n      class=\"tab\"\r\n      v-if=\"!['SM-wholesaleShop', 'FamilyShop'].includes(itemName)\"\r\n    >\r\n      <!-- <div class=\"tab-button\" :class=\"TabShow === 1 ? 'tab-button-show2' : 'tab-button-show1'\" @click=\"TabClick(1)\">{{\r\n                $t('手机号') }}</div> -->\r\n      <div\r\n        class=\"tab-button\"\r\n        :class=\"TabShow === 2 ? 'tab-button-show2' : 'tab-button-show1'\"\r\n        @click=\"TabClick(2)\"\r\n      >\r\n        {{ $t(\"邮箱\") }}\r\n      </div>\r\n    </div>\r\n    <div class=\"phone_form\">\r\n      <div class=\"title-input m-t20 m-b10\">\r\n        {{ TabShow === 1 ? $t(\"手机号\") : $t(\"邮箱\") }}\r\n      </div>\r\n      <div v-if=\"TabShow === 1\" class=\"login-input\">\r\n        <el-input\r\n          :placeholder=\"$t('请输入手机号')\"\r\n          maxlength=\"20\"\r\n          v-model.trim=\"formData.username\"\r\n          clearable\r\n          @input=\"\r\n            () => (formData.username = formData.username.replace(/[^\\d]/g, ''))\r\n          \"\r\n        >\r\n          <div slot=\"prepend\" @click=\"openNational\">\r\n            <p>\r\n              +<span>{{ dialCode }}</span>\r\n              <img :src=\"triangleDown\" alt=\"\" class=\"icon\" />\r\n            </p>\r\n          </div>\r\n          <!-- <div slot=\"append\" class=\"code_btn_txt_1\" v-if=\"itemName == 'TikTok-Wholesale'\" :class=\"{ 'disabled': btnDisabled }\" @click=\"getVerCode\">{{ codeBtnTxt }}</div> -->\r\n        </el-input>\r\n\r\n        <!-- <div class=\"title-input m-t20 m-b10\">{{ $t('验证码') }}</div>\r\n                <div>\r\n                    <el-input :placeholder=\"$t('请输入验证码')\" maxlength=\"64\" v-model.trim=\"formData.verifcode\" clearable>\r\n\t\t\t\t\t\t<div slot=\"append\" class=\"code_btn_txt_1\" v-if=\"itemName == 'TikTok-Wholesale'\" :class=\"{ 'disabled': btnDisabled }\" @click=\"getVerCode\">{{ codeBtnTxt }}</div>\r\n                    </el-input>\r\n\t\t\t\t\t\r\n                </div> -->\r\n      </div>\r\n      <!-- {{ TikTok-Wholesale }} -->\r\n      <div v-if=\"TabShow === 2\" class=\"login-input code_wrap\">\r\n        <el-input\r\n          :placeholder=\"$t('请输入邮箱')\"\r\n          maxlength=\"64\"\r\n          v-model.trim=\"formData.username\"\r\n        >\r\n        </el-input>\r\n        <!-- <div class=\"title-input m-t20 m-b10\">{{ $t('验证码') }}</div>\r\n                <div>\r\n                    <el-input :placeholder=\"$t('请输入验证码')\" maxlength=\"64\" v-model.trim=\"formData.verifcode\" clearable>\r\n\t\t\t\t\t\t<div slot=\"append\" class=\"code_btn_txt_1\" v-if=\"itemName == 'TikTok-Wholesale'\" :class=\"{ 'disabled': btnDisabled }\" @click=\"getCode\">{{ codeBtnTxt1 }}</div>\r\n                    </el-input>\r\n\t\t\t\t\t\r\n                </div> -->\r\n      </div>\r\n      <!-- <div class=\"title-input m-t20 m-b10\">{{ $t('验证码') }}</div>\r\n                <div>\r\n                    <el-input :placeholder=\"$t('请输入验证码')\" maxlength=\"64\" v-model.trim=\"formData.verifcode\" clearable>\r\n                    </el-input>\r\n                </div>\r\n            </div> -->\r\n      <!-- <div>\r\n                <div class=\"title-input m-t20 m-b10\">{{ $t('验证码') }}</div>\r\n                <div>\r\n                    <el-input :placeholder=\"$t('请输入验证码')\" maxlength=\"64\" v-model.trim=\"formData.verifcode\" clearable>\r\n                    </el-input>\r\n                </div>\r\n                <div class=\"title-input m-t20 m-b10\">{{ $t('手机号') }}</div>\r\n                <div class=\"login-input\">\r\n                    <el-input :placeholder=\"$t('请输入手机号')\" maxlength=\"20\" v-model.trim=\"formData.phone\" clearable\r\n                        @input=\"() => formData.phone = formData.phone.replace(/[^\\d]/g, '')\">\r\n                        <div slot=\"prepend\" @click=\"openNational\">\r\n                            <p>+<span>{{ dialCode }}</span> <img :src=\"triangleDown\" alt=\"\" class=\"icon\" /></p>\r\n                        </div>\r\n                    </el-input>\r\n                </div>\r\n            </div> -->\r\n      <div class=\"title-input m-t20 m-b10\">{{ $t(\"密码\") }}</div>\r\n      <div class=\"login-input\">\r\n        <el-input\r\n          :placeholder=\"$t('请输入 6-12 位由数字或字母组成的密码')\"\r\n          maxlength=\"20\"\r\n          v-model.trim=\"formData.password\"\r\n          show-password\r\n          clearable\r\n        >\r\n        </el-input>\r\n      </div>\r\n      <div class=\"title-input m-t20 m-b10\">{{ $t(\"确认密码\") }}</div>\r\n      <div class=\"login-input\">\r\n        <el-input\r\n          :placeholder=\"$t('请再次输入密码')\"\r\n          maxlength=\"20\"\r\n          v-model.trim=\"formData.re_password\"\r\n          show-password\r\n          clearable\r\n        >\r\n        </el-input>\r\n      </div>\r\n    </div>\r\n    <div class=\"tijiao\" @click=\"post_form\">{{ $t(\"注册\") }}</div>\r\n    <div class=\"zhuce\">\r\n      <div class=\"zhuce-flex\"></div>\r\n      <div class=\"zhuce-text1\">{{ $t(\"已有账号？\") }}</div>\r\n      <div class=\"zhuce-text2\" @click=\"$router.push('/login')\">\r\n        {{ $t(\"去登录\") }}\r\n      </div>\r\n      <div class=\"zhuce-flex\"></div>\r\n    </div>\r\n\r\n    <div class=\"servece_box\" @click=\"handleJump\">\r\n      <img src=\"@/assets/image/me/kefu.png\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Toast } from \"vant\";\r\nimport Vcode from \"vue-puzzle-vcode\";\r\nimport NationalityList from \"@/components/NationalityList\";\r\nimport { registerNoVerifcode, justShopRegister, apiSendCode } from \"@/API/user\";\r\nimport { isLogin } from \"@/utils/utis\";\r\nexport default {\r\n  name: \"LoginPage\",\r\n  components: {\r\n    NationalityList,\r\n    Vcode,\r\n  },\r\n  data() {\r\n    return {\r\n      sms: \"\",\r\n      isLogin,\r\n      isShelves: !process.env.VUE_APP_PUT_ON_SHELVES,\r\n      itemName: process.env.VUE_APP_ITEM_NAME,\r\n      img1: require(\"@/assets/image/slider/1.png\"),\r\n      img2: require(\"@/assets/image/slider/2.png\"),\r\n      img3: require(\"@/assets/image/slider/3.png\"),\r\n      img4: require(\"@/assets/image/slider/4.png\"),\r\n      img5: require(\"@/assets/image/slider/5.png\"),\r\n      triangleDown: require(\"@/assets/image/me/triangle_down.png\"),\r\n      TabShow: 2,\r\n      codeBtnTxt: this.$t(\"码\"),\r\n      codeBtnTxt1: this.$t(\"码\"),\r\n      formData: {\r\n        username: \"\",\r\n        password: \"\",\r\n        re_password: \"\",\r\n        verifcode: \"\",\r\n        phone: \"\",\r\n      },\r\n      count: 60,\r\n      count1: 60,\r\n      interval: null,\r\n      interval1: null,\r\n      btnDisabled: false,\r\n      btnDisabled1: false,\r\n      show: false,\r\n      pageDiaCode: false,\r\n      dialCode: localStorage.getItem(\"dialCode\") || 1,\r\n    };\r\n  },\r\n  created() {\r\n    if (this.isLogin()) {\r\n      this.$router.push(\"/\");\r\n    }\r\n  },\r\n  methods: {\r\n    getVerCode() {\r\n      console.log(\"获取验证码\");\r\n      if (this.formData.username === \"\") {\r\n        Toast(this.$t(\"请输入手机号\"));\r\n        return;\r\n      }\r\n      const reg = /^[0-9]+[0-9]*$/;\r\n      if (!reg.test(this.formData.username)) {\r\n        Toast(t.$t(\"手机号格式有误\"));\r\n        return;\r\n      }\r\n      Toast.loading({\r\n        duration: 0,\r\n        message: this.$t(\"发送中\"),\r\n        forbidClick: true,\r\n      });\r\n      const params = {\r\n        target: this.dialCode + this.formData.username,\r\n      };\r\n      apiSendCode(params)\r\n        .then(() => {\r\n          Toast.success(this.$t(\"发送成功\"));\r\n          this.timerFn();\r\n        })\r\n        .catch((err) => {\r\n          Toast.clear();\r\n        });\r\n    },\r\n    getCode() {\r\n      if (this.formData.username === \"\") {\r\n        Toast(this.$t(\"请输入邮箱\"));\r\n        return;\r\n      }\r\n      const reg =\r\n        /^([A-Za-z0-9_\\-\\.\\w{3,}])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\r\n      if (!reg.test(this.formData.username)) {\r\n        Toast(this.$t(\"邮箱格式有误\"));\r\n        return;\r\n      }\r\n\r\n      Toast.loading({\r\n        duration: 0,\r\n        message: this.$t(\"发送中\"),\r\n        forbidClick: true,\r\n      });\r\n\r\n      const params = {\r\n        target: this.formData.username,\r\n      };\r\n      apiSendCode(params)\r\n        .then(() => {\r\n          Toast.success(this.$t(\"发送成功\"));\r\n          this.timerFn1();\r\n        })\r\n        .catch((err) => {\r\n          Toast.clear();\r\n        });\r\n    },\r\n    timerFn1() {\r\n      this.codeBtnTxt1 = `${this.$t(\"再次获取\")} ${this.count1} s`;\r\n      this.btnDisabled1 = true;\r\n      this.interval = setInterval(() => {\r\n        if (this.count1 === 1) {\r\n          this.count1 = 60;\r\n          this.codeBtnTxt1 = this.$t(\"再次获取\");\r\n          this.btnDisabled1 = false;\r\n          clearInterval(this.interval1);\r\n        } else {\r\n          this.count1 -= 1;\r\n          this.codeBtnTxt1 = `${this.$t(\"再次获取\")} ${this.count1} s`;\r\n        }\r\n      }, 1000);\r\n    },\r\n    timerFn() {\r\n      this.codeBtnTxt = `${this.$t(\"再次获取\")} ${this.count} s`;\r\n      this.btnDisabled = true;\r\n      this.interval = setInterval(() => {\r\n        if (this.count === 1) {\r\n          this.count = 60;\r\n          this.codeBtnTxt = this.$t(\"再次获取\");\r\n          this.btnDisabled = false;\r\n          clearInterval(this.interval);\r\n        } else {\r\n          this.count -= 1;\r\n          this.codeBtnTxt = `${this.$t(\"再次获取\")} ${this.count} s`;\r\n        }\r\n      }, 1000);\r\n    },\r\n    handleJump() {\r\n      const path =\r\n        this.$store.state.multiItem[process.env.VUE_APP_ITEM_NAME]\r\n          .customer_service;\r\n      if (path) {\r\n        if (window.plus) {\r\n          window.plus.runtime.openURL(path);\r\n        } else {\r\n          window.open(path);\r\n        }\r\n      } else {\r\n        this.$router.push({\r\n          path: \"customerServiceIndex?path=customerService\",\r\n        });\r\n      }\r\n    },\r\n    TabClick(e) {\r\n      this.TabShow = e;\r\n      this.formData.username = \"\";\r\n      this.formData.password = \"\";\r\n      this.formData.re_password = \"\";\r\n      this.formData.verifcode = \"\";\r\n    },\r\n    post_form() {\r\n      const t = this;\r\n      if (this.TabShow === 1) {\r\n        if (this.formData.username === \"\") {\r\n          Toast(t.$t(\"请输入手机号\"));\r\n          return;\r\n        } else {\r\n          const reg = /^[0-9]+[0-9]*$/;\r\n          if (!reg.test(this.formData.username)) {\r\n            Toast(t.$t(\"手机号格式有误\"));\r\n            return;\r\n          }\r\n        }\r\n      }\r\n      if (this.TabShow === 2) {\r\n        if (this.formData.username === \"\") {\r\n          Toast(t.$t(\"请输入邮箱\"));\r\n          return;\r\n        }\r\n        const reg =\r\n          /^([A-Za-z0-9_\\-\\.\\w{3,}])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\r\n        if (!reg.test(this.formData.username)) {\r\n          Toast(t.$t(\"邮箱格式有误\"));\r\n          return;\r\n        }\r\n      }\r\n\r\n      if (this.formData.password === \"\") {\r\n        Toast(t.$t(\"请输入密码\"));\r\n        return;\r\n      }\r\n\r\n      const reg = /^[a-zA-Z0-9!@#$%^&*()_+{}\\[\\]:;'\"\\\\|,.<>?~`\\-=/]{6,12}$/;\r\n      if (!reg.test(this.formData.password)) {\r\n        Toast(t.$t(\"请输入 6-12 位由数字或字母组成的密码\"));\r\n        return;\r\n      }\r\n\r\n      if (this.formData.password !== this.formData.re_password) {\r\n        Toast(this.$t(\"两次密码输入不一致\"));\r\n        return;\r\n      }\r\n      // if (this.formData.verifcode === '') {\r\n      //         Toast(t.$t('请输入验证码'));\r\n      //         return\r\n      //     }\r\n      this.show = true;\r\n    },\r\n    onSuccess() {\r\n      this.registerSubmit();\r\n      this.show = false;\r\n    },\r\n    onFail() {\r\n      console.log(\"失败回调\");\r\n    },\r\n\r\n    async registerSubmit() {\r\n      // const requestFn = ['SM-wholesaleShop', 'FamilyShop'].includes(this.itemName) ? justShopRegister : registerNoVerifcode\r\n      const requestFn = registerNoVerifcode;\r\n      const params = {\r\n        password: encodeURIComponent(this.formData.password)?.trim(),\r\n        re_password: encodeURIComponent(this.formData.re_password)?.trim(),\r\n        // verifcode: encodeURIComponent(this.formData.verifcode)?.trim(),\r\n        type: this.TabShow,\r\n      };\r\n\r\n      if (sessionStorage.getItem(\"ac_code\")) {\r\n        params.agentCode = sessionStorage.getItem(\"ac_code\");\r\n        sessionStorage.removeItem(\"ac_code\");\r\n      }\r\n\r\n      if ([\"SM-wholesaleShop\", \"FamilyShop\"].includes(this.itemName)) {\r\n        params.verifcode = this.formData.verifcode;\r\n        params.phone = this.formData.phone;\r\n        params.username = this.formData.username.trim();\r\n      } else {\r\n        params.username =\r\n          this.TabShow === 1\r\n            ? `${this.dialCode} ${this.formData.username.trim()}`\r\n            : this.formData.username.trim();\r\n      }\r\n      Toast.loading({\r\n        duration: 0,\r\n        message: this.$t(\"提交中\"),\r\n        forbidClick: true,\r\n      });\r\n      requestFn(params)\r\n        .then(async (res) => {\r\n          // Toast.success(this.$t('注册成功'))\r\n          // if(res.code=='1'){\r\n          //     this.$notify(this.$t('验证码错误'), 'success')\r\n          //     return\r\n          // }\r\n          Toast.clear();\r\n          this.$notify(this.$t(\"注册成功\"), \"success\");\r\n          localStorage.setItem(\"token\", res.token);\r\n          let timeZone = this.dayjs.tz.guess();\r\n          localStorage.setItem(\"timeZone\", timeZone);\r\n          await this.$store.dispatch(\"getUserInfo\");\r\n          this.$router.push({ path: \"/\" });\r\n        })\r\n        .catch((err) => {\r\n          // Toast.fail(err.msg)\r\n          Toast.clear();\r\n        });\r\n    },\r\n\r\n    getName(params) {\r\n      if (!this.pageDiaCode) {\r\n        this.pageDiaCode = true;\r\n      } else {\r\n        this.dialCode = params[2];\r\n        localStorage.setItem(\"dialCode\", this.dialCode);\r\n      }\r\n    },\r\n\r\n    openNational() {\r\n      this.$refs.controlChild.open();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n/deep/.el-input-group__append {\r\n  background-color: #f89900;\r\n  color: #fff;\r\n}\r\n\r\n.code_wrap {\r\n  position: relative;\r\n\r\n  .code_btn_txt {\r\n    padding: 0 20px;\r\n    height: 40px;\r\n    position: absolute;\r\n    right: 0;\r\n    bottom: 0;\r\n    font-size: 14px;\r\n\r\n    color: var(--main-color);\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    &.disabled {\r\n      pointer-events: none;\r\n      opacity: 0.9;\r\n    }\r\n  }\r\n}\r\n\r\n.login {\r\n  width: 100%;\r\n  height: 100%;\r\n  padding: 0 15px;\r\n  box-sizing: border-box;\r\n\r\n  /deep/ .el-input {\r\n    input:focus {\r\n      // border-color: var(--main-color);\r\n      border-color: var(--main-color);\r\n    }\r\n  }\r\n\r\n  .wrapper {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    height: 100%;\r\n  }\r\n\r\n  .lang-right {\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: end;\r\n\r\n    .lang-icon {\r\n      padding: 12px 0 12px 10px;\r\n      width: 20px;\r\n      height: 20px;\r\n    }\r\n  }\r\n\r\n  .login-title {\r\n    font-style: normal;\r\n    font-weight: 700;\r\n    font-size: 30px;\r\n    line-height: 35px;\r\n\r\n    color: #333333;\r\n    margin-top: 10px;\r\n  }\r\n\r\n  .tab {\r\n    margin-top: 30px;\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: left;\r\n\r\n    .tab-button {\r\n      border-radius: 4px;\r\n      //padding: 8px 10px;\r\n      padding: 0 10px;\r\n      min-width: 64px;\r\n      height: 34px;\r\n      text-align: center;\r\n      margin-right: 10px;\r\n      line-height: 34px;\r\n    }\r\n\r\n    .tab-button-show1 {\r\n      background: #eeeeee;\r\n      font-style: normal;\r\n      font-weight: 400;\r\n      font-size: 12px;\r\n      //line-height: 14px;\r\n      /* identical to box height, or 117% */\r\n      color: #333333;\r\n    }\r\n\r\n    .tab-button-show2 {\r\n      background: var(--main-color);\r\n      font-style: normal;\r\n      font-weight: 400;\r\n      font-size: 12px;\r\n      //line-height: 12px;\r\n      /* identical to box height, or 100% */\r\n      color: #ffffff;\r\n    }\r\n  }\r\n\r\n  .title-input {\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    font-size: 14px;\r\n    line-height: 16px;\r\n    color: #333333;\r\n  }\r\n\r\n  .wangjimima {\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    font-size: 12px;\r\n    line-height: 14px;\r\n    /* identical to box height */\r\n    color: #1d91ff;\r\n    margin-top: 10px;\r\n  }\r\n\r\n  .tijiao {\r\n    margin-top: 20px;\r\n    width: 345px;\r\n    height: 44px;\r\n    background: var(--main-color);\r\n    border-radius: 4px;\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    font-size: 16px;\r\n    line-height: 44px;\r\n    /* identical to box height, or 100% */\r\n\r\n    text-align: center;\r\n\r\n    color: #ffffff;\r\n  }\r\n\r\n  .zhuce {\r\n    margin-top: 16px;\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n\r\n  .zhuce-flex {\r\n    flex: 1;\r\n  }\r\n\r\n  .zhuce-text1 {\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    font-size: 14px;\r\n    line-height: 16px;\r\n    margin-right: 5px;\r\n    color: #333333;\r\n  }\r\n\r\n  .zhuce-text2 {\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    font-size: 14px;\r\n    line-height: 16px;\r\n    color: #4aa8ff;\r\n  }\r\n\r\n  .kefu-icon {\r\n    position: fixed;\r\n    width: 50px;\r\n    height: 50px;\r\n    right: 28px;\r\n    bottom: 32px;\r\n  }\r\n}\r\n\r\n.phone_form {\r\n  /deep/ .el-input-group--prepend {\r\n    .el-input-group__prepend {\r\n      background-color: transparent !important;\r\n      color: #000 !important;\r\n      border-right: none !important;\r\n      padding: 0 15px !important;\r\n\r\n      .icon {\r\n        width: 10px;\r\n        height: auto;\r\n        position: relative;\r\n        top: -1px;\r\n        margin-left: 5px;\r\n      }\r\n    }\r\n\r\n    .el-input__inner {\r\n      border-left-color: #fff;\r\n    }\r\n  }\r\n}\r\n\r\n.login-input {\r\n  &.code {\r\n    position: relative;\r\n\r\n    > .btn {\r\n      padding: 0 20px;\r\n      height: 40px;\r\n      position: absolute;\r\n      right: 0;\r\n      bottom: 0;\r\n      font-size: 14px;\r\n\r\n      color: var(--main-color);\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n\r\n      &.disabled {\r\n        pointer-events: none;\r\n        opacity: 0.9;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}