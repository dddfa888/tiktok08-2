{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport store from '@/store';\n/*!\r\n * @author atongmu <zhounianlai@teacher.com.cn>\r\n * date 11/07/2019\r\n * description The project tool function file.\r\n */\n\n/**\r\n * @description 时间格式处理\r\n */\nexport const formatData = data => {\n  let thisData = formatTime(new Date(), \"yyyy-MM-dd\");\n  let myData = data.substr(0, 10);\n  if (thisData == myData) {\n    let Time = data.substr(11, 5);\n    return Time;\n  } else {\n    if (thisData.substr(0, 4) == myData.substr(0, 4) && thisData != myData) {\n      let Data = data.substr(5, 11);\n      return Data;\n    } else {\n      let Year = myData;\n      return Year;\n    }\n  }\n};\n\n/**\r\n * @description 时间格式转化\r\n * @param {String} date 日期\r\n * @param {String} fmt 需要的格式\r\n */\nexport const formatTime = (date, fmt) => {\n  let o = {\n    \"M+\": date.getMonth() + 1,\n    //月份\n    \"d+\": date.getDate(),\n    //日\n    \"h+\": date.getHours(),\n    //小时\n    \"m+\": date.getMinutes(),\n    //分\n    \"s+\": date.getSeconds(),\n    //秒\n    \"q+\": Math.floor((date.getMonth() + 3) / 3),\n    //季度\n    \"S\": date.getMilliseconds() //毫秒\n  };\n  if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (date.getFullYear() + \"\").substr(4 - RegExp.$1.length));\n  for (let k in o) if (new RegExp(\"(\" + k + \")\").test(fmt)) fmt = fmt.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : (\"00\" + o[k]).substr((\"\" + o[k]).length));\n  return fmt;\n};\n\n/**\r\n * @description 验证手机号格式是否正确\r\n * @param {String} mobile 电话号码\r\n */\nexport const checkMobileformat = mobile => /^1[345789]\\d{9}$/.test(mobile);\n\n/**\r\n * @description Array clear empty item.\r\n * @param {Array} array\r\n */\nexport const arrayClearEmptyItem = array => {\n  return array.filter(item => item);\n};\n\n/**\r\n * @description 判断一个日期是过去还是未来\r\n * @param {String} d 要判断的日期\r\n * @returns past => false   future => true\r\n */\nexport const judgeDateIsPastOrFuture = d => {\n  if (!d) {\n    return false;\n  }\n  const nowDate = new Date();\n  const nowTimeStamp = nowDate.getTime();\n  const date = new Date(d.replace(/-/g, \"/\"));\n  const dateTimeStamp = date.getTime();\n  return nowTimeStamp < dateTimeStamp;\n};\n\n/**\r\n * @description 判断一个字符串中是否有重复的项（0-9, a-z, A-Z）\r\n * @param {String} str 判断的目标字符串\r\n * @returns {Boolean} true: 有重复项   false: 无重复项\r\n */\nexport const strIsReplace = str => {\n  const passwordRule = /[0-9a-zA-Z]/;\n  const arr = str.split(\"\");\n  for (let i = 0; i < arr.length; i++) {\n    const element = arr[i];\n    if (passwordRule.test(element)) {\n      if (i === arr.length - 1) {\n        return false;\n      }\n      if (str.includes(element, i + 1)) {\n        return true;\n      }\n    }\n  }\n  return false;\n};\n// 设置localStorage\nexport const setStorage = function (key, obj) {\n  console.log('obj ->', obj);\n  // let json = JSON.stringify(obj)\n  localStorage.setItem(key, obj);\n};\n\n// 获取localStorage\nexport const getStorage = function (key) {\n  const str = localStorage.getItem(key);\n  if (!str) {\n    return null;\n  }\n  return str;\n};\n\n// 移除localStorage\nexport const removeStorage = function (key) {\n  window.localStorage.removeItem(key);\n};\n\n// 获取浏览器默认语言\nexport const getBrowserLang = function () {\n  let browserLang = navigator.language ? navigator.language : navigator.browserLanguage;\n  let defaultBrowserLang = '';\n  if (browserLang.toLowerCase() === 'cn' || browserLang.toLowerCase() === 'zh' || browserLang.toLowerCase() === 'zh-cn') {\n    defaultBrowserLang = 'zh-CN';\n  } else {\n    defaultBrowserLang = 'en-US';\n  }\n  return defaultBrowserLang;\n};\n\n// 是否登录\nexport const isLogin = () => {\n  return store.getters.userInfo && localStorage.getItem('token');\n};\n\n// 图片地址\nexport const getImgUrl = path => {\n  return `https://rfbhabkjk.com/wap/public/showimg!showImg.action?imagePath=${path}`;\n};\nexport const is_mobile = () => {\n  var regex_match = /(nokia|iphone|android|motorola|^mot-|softbank|foma|docomo|kddi|up.browser|up.link|htc|dopod|blazer|netfront|helio|hosin|huawei|novarra|CoolPad|webos|techfaith|palmsource|blackberry|alcatel|amoi|ktouch|nexian|samsung|^sam-|s[cg]h|^lge|ericsson|philips|sagem|wellcom|bunjalloo|maui|symbian|smartphone|midp|wap|phone|windows ce|iemobile|^spice|^bird|^zte-|longcos|pantech|gionee|^sie-|portalmmm|jigs browser|hiptop|^benq|haier|^lct|operas*mobi|opera*mini|320x320|240x320|176x220)/i;\n  var u = navigator.userAgent;\n  if (null == u) {\n    return true;\n  }\n  var result = regex_match.exec(u);\n  if (null == result) {\n    return false;\n  } else {\n    return true;\n  }\n};\nexport const dateFormat = (date, format = 'YYYY-MM-DD HH:mm:ss') => {\n  const dateTime = new Date(date);\n  const o = {\n    'M+': dateTime.getMonth() + 1,\n    // month\n    'D+': dateTime.getDate(),\n    // day\n    'H+': dateTime.getHours(),\n    // hour\n    'm+': dateTime.getMinutes(),\n    // minute\n    's+': dateTime.getSeconds(),\n    // second\n    'q+': Math.floor((dateTime.getMonth() + 3) / 3),\n    // quarter\n    S: dateTime.getMilliseconds() // millisecond\n  };\n  if (/(Y+)/.test(format)) {\n    format = format.replace(RegExp.$1, `${dateTime.getFullYear()}`.substr(4 - RegExp.$1.length));\n  }\n  Object.keys(o).forEach(k => {\n    if (new RegExp(`(${k})`).test(format)) {\n      format = format.replace(RegExp.$1, RegExp.$1.length === 1 ? o[k] : `00${o[k]}`.substr(`${o[k]}`.length));\n    }\n  });\n  return format;\n};\nexport const loadJs = src => {\n  return new Promise((resolve, reject) => {\n    let script = document.createElement('script');\n    script.type = \"text/javascript\";\n    script.src = src;\n    document.body.appendChild(script);\n    script.onload = () => {\n      resolve();\n    };\n    script.onerror = () => {\n      reject();\n    };\n  });\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}