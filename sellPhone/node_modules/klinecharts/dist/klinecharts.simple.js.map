{"version":3,"file":"klinecharts.simple.js","sources":["../src/store/extension.js","../node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/@babel/runtime/helpers/esm/typeof.js","../src/utils/typeChecks.js","../src/options/styleOptions.js","../src/utils/format.js","../src/utils/logger.js","../src/utils/number.js","../src/enum/ActionType.js","../src/store/TimeScaleStore.js","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/@babel/runtime/helpers/typeof.js","../node_modules/@babel/runtime/helpers/regeneratorRuntime.js","../node_modules/@babel/runtime/regenerator/index.js","../src/component/technicalindicator/TechnicalIndicator.js","../src/store/TechnicalIndicatorStore.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../src/component/overlay/Overlay.js","../src/renderer/circle.js","../src/extension/shape/shapeHelper.js","../src/renderer/path.js","../src/renderer/line.js","../src/utils/canvas.js","../src/component/overlay/Shape.js","../src/enum/InvalidateLevel.js","../src/store/ShapeStore.js","../src/store/AnnotationStore.js","../src/store/TagStore.js","../src/store/CrosshairStore.js","../src/store/ActionStore.js","../src/store/ChartStore.js","../node_modules/@babel/runtime/helpers/esm/superPropBase.js","../node_modules/@babel/runtime/helpers/esm/get.js","../src/utils/element.js","../src/enum/ContainerPosition.js","../src/pane/Pane.js","../src/widget/Widget.js","../src/utils/compatible.js","../src/view/View.js","../src/view/TechnicalIndicatorView.js","../src/renderer/text.js","../src/view/TechnicalIndicatorOverlayView.js","../src/widget/TechnicalIndicatorWidget.js","../src/renderer/rect.js","../src/view/YAxisView.js","../src/view/YAxisOverlayView.js","../src/widget/YAxisWidget.js","../src/component/axis/Axis.js","../src/component/axis/YAxis.js","../src/pane/TechnicalIndicatorPane.js","../src/view/CandleView.js","../src/view/CandleOverlayView.js","../src/widget/CandleWidget.js","../src/pane/CandlePane.js","../src/view/XAxisView.js","../src/view/XAxisOverlayView.js","../src/widget/XAxisWidget.js","../src/component/axis/XAxis.js","../src/pane/XAxisPane.js","../src/utils/id.js","../src/event/eventTypeChecks.js","../src/event/EventBase.js","../src/pane/SeparatorPane.js","../src/event/EventHandler.js","../src/event/ZoomScrollEventHandler.js","../src/event/OverlayEventHandler.js","../src/event/KeyBoardEventHandler.js","../src/event/ChartEvent.js","../src/utils/performance.js","../src/renderer/diamond.js","../src/renderer/triangle.js","../src/component/overlay/Annotation.js","../src/component/overlay/Tag.js","../src/pane/ChartPane.js","../src/Chart.js","../src/core.js","../src/index.simple.js"],"sourcesContent":["/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport default {\n  technicalIndicatorExtensions: {},\n  shapeExtensions: {},\n  addTechnicalIndicatorTemplate (template) {\n    if (template) {\n      ([].concat(template)).forEach(\n        tmp => {\n          if (tmp.name) {\n            this.technicalIndicatorExtensions[tmp.name] = tmp\n          }\n        }\n      )\n    }\n  },\n  addShapeTemplate (template) {\n    if (template) {\n      ([].concat(template)).forEach(\n        tmp => {\n          if (tmp.name) {\n            this.shapeExtensions[tmp.name] = tmp\n          }\n        }\n      )\n    }\n  }\n}\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * ÂêàÂπ∂\n * @param target\n * @param source\n */\nexport function merge (target, source) {\n  if (!isObject(target) || !isObject(source)) {\n    return\n  }\n  for (const key in source) {\n    if (Object.prototype.hasOwnProperty.call(source, key) && (key in target)) {\n      const targetProp = target[key]\n      const sourceProp = source[key]\n      if (\n        isObject(sourceProp) &&\n        isObject(targetProp) &&\n        !isArray(sourceProp) &&\n        !isArray(targetProp)\n      ) {\n        merge(targetProp, sourceProp)\n      } else {\n        if (isValid(source[key])) {\n          target[key] = source[key]\n        }\n      }\n    }\n  }\n}\n\n/**\n * ÂÖãÈöÜ\n * @param target\n * @return {{}|*}\n */\nexport function clone (target) {\n  if (!isObject(target)) {\n    return target\n  }\n\n  let copy\n  if (isArray(target)) {\n    copy = []\n  } else {\n    copy = {}\n  }\n  for (const key in target) {\n    if (Object.prototype.hasOwnProperty.call(target, key)) {\n      const v = target[key]\n      if (isObject(v)) {\n        copy[key] = clone(v)\n      } else {\n        copy[key] = v\n      }\n    }\n  }\n  return copy\n}\n\n/**\n * ÊòØÂê¶ÊòØÊï∞ÁªÑ\n * @param value\n * @return {boolean}\n */\nexport function isArray (value) {\n  return Object.prototype.toString.call(value) === '[object Array]'\n}\n\n/**\n * ÊòØÂê¶ÊòØÊñπÊ≥ï\n * @param {*} value\n * @return {boolean}\n */\nexport function isFunction (value) {\n  return value && typeof value === 'function'\n}\n\n/**\n * ÊòØÂê¶ÊòØÂØπË±°\n * @param {*} value\n * @return {boolean}\n */\nexport function isObject (value) {\n  return (!!value && typeof value === 'object')\n}\n\n/**\n * Âà§Êñ≠ÊòØÂê¶ÊòØÊï∞Â≠ó\n * @param value\n * @returns {boolean}\n */\nexport function isNumber (value) {\n  return typeof value === 'number' && !isNaN(value)\n}\n\n/**\n * Âà§Êñ≠ÊòØÂê¶ÊúâÊïà\n * @param value\n * @returns {boolean}\n */\nexport function isValid (value) {\n  return value !== null && value !== undefined\n}\n\n/**\n * Âà§Êñ≠ÊòØÂê¶ÊòØboolean\n * @param value\n * @returns {boolean}\n */\nexport function isBoolean (value) {\n  return typeof value === 'boolean'\n}\n\n/**\n * ÊòØÂê¶ÊòØÂ≠óÁ¨¶‰∏≤\n * @param value\n * @return {boolean}\n */\nexport function isString (value) {\n  return typeof value === 'string'\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Â°´ÂÖÖÁ©∫ÂøÉÊ†∑ÂºèÁ±ªÂûã\n */\nexport const StrokeFillStyle = {\n  STROKE: 'stroke',\n  FILL: 'fill'\n}\n\n/**\n * Á∫øÁöÑÊ†∑Âºè\n * @type {{DASH: string, SOLID: string}}\n */\nexport const LineStyle = {\n  DASH: 'dash',\n  SOLID: 'solid'\n}\n\n/**\n * yËΩ¥‰ΩçÁΩÆ\n * @type {{LEFT: string, RIGHT: string}}\n */\nexport const YAxisPosition = {\n  LEFT: 'left',\n  RIGHT: 'right'\n}\n\n/**\n * yËΩ¥Á±ªÂûã\n * @type {{PERCENTAGE: string, LOG: string, NORMAL: string}}\n */\nexport const YAxisType = {\n  NORMAL: 'normal',\n  PERCENTAGE: 'percentage',\n  LOG: 'log'\n}\n\n/**\n * Ëú°ÁÉõÂõæÊ†∑Âºè\n * @type {{AREA: string, OHLC: string, CANDLE_STROKE: string, CANDLE_SOLID: string, CANDLE_DOWN_STROKE: string, CANDLE_UP_STROKE: string}}\n */\nexport const CandleType = {\n  CANDLE_SOLID: 'candle_solid',\n  CANDLE_STROKE: 'candle_stroke',\n  CANDLE_UP_STROKE: 'candle_up_stroke',\n  CANDLE_DOWN_STROKE: 'candle_down_stroke',\n  OHLC: 'ohlc',\n  AREA: 'area'\n}\n\n/**\n * ËØ¥ÊòéÊòæÁ§∫ËßÑÂàô\n * @type {{FOLLOW_CROSS: string, NONE: string, ALWAYS: string}}\n */\nexport const TooltipShowRule = {\n  ALWAYS: 'always',\n  FOLLOW_CROSS: 'follow_cross',\n  NONE: 'none'\n}\n\n/**\n * Êï∞ÊçÆÊèêÁ§∫ÊòæÁ§∫Á±ªÂûã\n * @type {{RECT: string, STANDARD: string}}\n */\nexport const TooltipShowType = {\n  RECT: 'rect',\n  STANDARD: 'standard'\n}\n\n/**\n * Ê≥®Ëß£Ê†áËØÜÁ±ª‰ºº\n * @type {{RECT: string, TRIANGLE: string, DIAMOND: string, CUSTOM: string, NONE: string, CIRCLE: string}}\n */\nexport const AnnotationSymbolType = {\n  CIRCLE: 'circle',\n  RECT: 'rect',\n  TRIANGLE: 'triangle',\n  DIAMOND: 'diamond',\n  CUSTOM: 'custom',\n  NONE: 'none'\n}\n\n/**\n * Ë¶ÜÁõñÁâ©‰ΩçÁΩÆ\n * @type {{TOP: string, BOTTOM: string, POINT: string}}\n */\nexport const OverlayPosition = {\n  POINT: 'point',\n  TOP: 'top',\n  BOTTOM: 'bottom'\n}\n\n/**\n * ÈªòËÆ§ÁΩëÊ†ºÈÖçÁΩÆ\n * @type {{horizontal: {size: number, color: string, dashValue: number[], show: boolean, style: string}, show: boolean, vertical: {size: number, color: string, dashValue: number[], show: boolean, style: string}}}\n */\nconst defaultGrid = {\n  show: true,\n  horizontal: {\n    show: true,\n    size: 1,\n    color: '#EDEDED',\n    style: LineStyle.DASH,\n    dashValue: [2, 2]\n  },\n  vertical: {\n    show: true,\n    size: 1,\n    color: '#EDEDED',\n    style: LineStyle.DASH,\n    dashValue: [2, 2]\n  }\n}\n\n/**\n * ÈªòËÆ§Ëú°ÁÉõÊü±ÂõæÊ†∑ÂºèÈÖçÁΩÆ\n * @type {{area: {backgroundColor: [{offset: number, color: string}, {offset: number, color: string}], lineColor: string, lineSize: number, value: string}, bar: {noChangeColor: string, upColor: string, downColor: string}, tooltip: {rect: {offsetTop: number, fillColor: string, borderColor: string, paddingBottom: number, borderRadius: number, paddingRight: number, borderSize: number, offsetLeft: number, paddingTop: number, paddingLeft: number, offsetRight: number}, showRule: string, values: null, showType: string, text: {marginRight: number, size: number, color: string, weight: string, marginBottom: number, family: string, marginTop: number, marginLeft: number}, labels: string[]}, type: string, priceMark: {high: {textMargin: number, textSize: number, color: string, textFamily: string, show: boolean, textWeight: string}, last: {noChangeColor: string, upColor: string, line: {dashValue: number[], size: number, show: boolean, style: string}, show: boolean, text: {paddingBottom: number, size: number, color: string, paddingRight: number, show: boolean, weight: string, paddingTop: number, family: string, paddingLeft: number}, downColor: string}, low: {textMargin: number, textSize: number, color: string, textFamily: string, show: boolean, textWeight: string}, show: boolean}}}\n */\nconst defaultCandle = {\n  margin: {\n    top: 0.2,\n    bottom: 0.1\n  },\n  type: CandleType.CANDLE_SOLID,\n  bar: {\n    /**\n     * ‰∏äÊ∂®È¢úËâ≤\n     */\n    upColor: '#26A69A',\n    /**\n     * ‰∏ãË∑åÈ¢úËâ≤\n     */\n    downColor: '#EF5350',\n    /**\n     * Êó†ÂèòÂåñÊó∂È¢úËâ≤\n     */\n    noChangeColor: '#999999'\n  },\n  area: {\n    lineSize: 2,\n    lineColor: '#2196F3',\n    value: 'close',\n    backgroundColor: [{\n      offset: 0,\n      color: 'rgba(33, 150, 243, 0.01)'\n    }, {\n      offset: 1,\n      color: 'rgba(33, 150, 243, 0.2)'\n    }]\n  },\n  priceMark: {\n    show: true,\n    high: {\n      show: true,\n      color: '#76808F',\n      textMargin: 5,\n      textSize: 10,\n      textFamily: 'Helvetica Neue',\n      textWeight: 'normal'\n    },\n    low: {\n      show: true,\n      color: '#76808F',\n      textMargin: 5,\n      textSize: 10,\n      textFamily: 'Helvetica Neue',\n      textWeight: 'normal'\n    },\n    last: {\n      show: true,\n      upColor: '#26A69A',\n      downColor: '#EF5350',\n      noChangeColor: '#888888',\n      line: {\n        show: true,\n        style: LineStyle.DASH,\n        dashValue: [4, 4],\n        size: 1\n      },\n      text: {\n        show: true,\n        size: 12,\n        paddingLeft: 2,\n        paddingTop: 2,\n        paddingRight: 2,\n        paddingBottom: 2,\n        color: '#FFFFFF',\n        family: 'Helvetica Neue',\n        weight: 'normal',\n        borderRadius: 2\n      }\n    }\n  },\n  tooltip: {\n    showRule: TooltipShowRule.ALWAYS,\n    showType: TooltipShowType.STANDARD,\n    labels: ['Êó∂Èó¥: ', 'ÂºÄ: ', 'Êî∂: ', 'È´ò: ', '‰Ωé: ', 'Êàê‰∫§Èáè: '],\n    values: null,\n    defaultValue: 'n/a',\n    rect: {\n      paddingLeft: 0,\n      paddingRight: 0,\n      paddingTop: 0,\n      paddingBottom: 6,\n      offsetLeft: 8,\n      offsetTop: 8,\n      offsetRight: 8,\n      borderRadius: 4,\n      borderSize: 1,\n      borderColor: '#F2F3F5',\n      backgroundColor: '#FEFEFE'\n    },\n    text: {\n      size: 12,\n      family: 'Helvetica Neue',\n      weight: 'normal',\n      color: '#76808F',\n      marginLeft: 8,\n      marginTop: 6,\n      marginRight: 8,\n      marginBottom: 0\n    }\n  }\n}\n\n/**\n * ÈªòËÆ§ÁöÑÊäÄÊúØÊåáÊ†áÊ†∑ÂºèÈÖçÁΩÆ\n * @type {{bar: {noChangeColor: string, upColor: string, downColor: string}, line: {size: number, colors: [string, string, string, string, string]}, tooltip: {showParams: boolean, showName: boolean, showRule: string, text: {marginRight: number, size: number, color: string, weight: string, marginBottom: number, family: string, marginTop: number, marginLeft: number}}, circle: {noChangeColor: string, upColor: string, downColor: string}, lastValueMark: {show: boolean, text: {paddingBottom: number, color: string, size: number, paddingRight: number, show: boolean, weight: string, paddingTop: number, family: string, paddingLeft: number}}}}\n */\nconst defaultTechnicalIndicator = {\n  margin: {\n    top: 0.2,\n    bottom: 0.1\n  },\n  bar: {\n    upColor: 'rgba(38, 166, 154, .65)',\n    downColor: 'rgba(239, 83, 80, .65)',\n    noChangeColor: '#888888'\n  },\n  line: {\n    size: 1,\n    dashValue: [2, 2],\n    colors: ['#FF9600', '#9D65C9', '#2196F3', '#E11D74', '#01C5C4']\n  },\n  circle: {\n    upColor: 'rgba(38, 166, 154, .65)',\n    downColor: 'rgba(239, 83, 80, .65)',\n    noChangeColor: '#888888'\n  },\n  lastValueMark: {\n    show: false,\n    text: {\n      show: false,\n      color: '#FFFFFF',\n      size: 12,\n      family: 'Helvetica Neue',\n      weight: 'normal',\n      paddingLeft: 3,\n      paddingTop: 2,\n      paddingRight: 3,\n      paddingBottom: 2,\n      borderRadius: 2\n    }\n  },\n  tooltip: {\n    showRule: TooltipShowRule.ALWAYS,\n    showType: TooltipShowType.STANDARD,\n    showName: true,\n    showParams: true,\n    defaultValue: 'n/a',\n    text: {\n      size: 12,\n      family: 'Helvetica Neue',\n      weight: 'normal',\n      color: '#76808F',\n      marginTop: 6,\n      marginRight: 8,\n      marginBottom: 0,\n      marginLeft: 8\n    }\n  }\n}\n\n/**\n * ÈªòËÆ§xËΩ¥ÈÖçÁΩÆ\n * @type {{axisLine: {color: string, size: number, show: boolean}, show: boolean, tickText: {paddingBottom: number, color: string, size: number, show: boolean, weight: string, paddingTop: number, family: string}, height: null, tickLine: {size: number, color: string, show: boolean, length: number}}}\n */\nconst defaultXAxis = {\n  /**\n   * ÊòØÂê¶ÊòæÁ§∫Êï¥‰∏™ËΩ¥\n   */\n  show: true,\n  /**\n   * È´òÂ∫¶\n   */\n  height: null,\n  /**\n   * ËΩ¥Á∫øÈÖçÁΩÆ\n   */\n  axisLine: {\n    show: true,\n    color: '#DDDDDD',\n    size: 1\n  },\n\n  /**\n   * tickÊñáÂ≠ó\n   */\n  tickText: {\n    show: true,\n    color: '#76808F',\n    size: 12,\n    family: 'Helvetica Neue',\n    weight: 'normal',\n    paddingTop: 3,\n    paddingBottom: 6\n  },\n  // tickÁ∫ø\n  tickLine: {\n    show: true,\n    size: 1,\n    length: 3,\n    color: '#DDDDDD'\n  }\n}\n\n/**\n * ÈªòËÆ§yËΩ¥ÈÖçÁΩÆ\n * @type {{axisLine: {color: string, size: number, show: boolean}, show: boolean, width: null, position: string, tickText: {color: string, size: number, paddingRight: number, show: boolean, weight: string, family: string, paddingLeft: number}, type: string, inside: boolean, tickLine: {size: number, color: string, show: boolean, length: number}}}\n */\nconst defaultYAxis = {\n  /**\n   * ÊòØÂê¶ÊòæÁ§∫Êï¥‰∏™ËΩ¥\n   */\n  show: true,\n  /**\n   * ÂÆΩÂ∫¶\n   */\n  width: null,\n  /**\n   * yËΩ¥Á±ªÂûã\n   */\n  type: YAxisType.NORMAL,\n  /**\n   * ËΩ¥‰ΩçÁΩÆ\n   */\n  position: YAxisPosition.RIGHT,\n  /**\n   * ËΩ¥ÊòØÂê¶Âú®ÂÜÖÈÉ®\n   */\n  inside: false,\n  /**\n   * ËΩ¥ÊòØÂê¶ÂèçËΩ¨\n   */\n  reverse: false,\n  /**\n   * ËΩ¥Á∫øÈÖçÁΩÆ\n   */\n  axisLine: {\n    show: true,\n    color: '#DDDDDD',\n    size: 1\n  },\n\n  /**\n   * tickÊñáÂ≠ó\n   */\n  tickText: {\n    show: true,\n    color: '#76808F',\n    size: 12,\n    family: 'Helvetica Neue',\n    weight: 'normal',\n    paddingLeft: 3,\n    paddingRight: 6\n  },\n  // tickÁ∫ø\n  tickLine: {\n    show: true,\n    size: 1,\n    length: 3,\n    color: '#DDDDDD'\n  }\n}\n\nconst defaultCrosshair = {\n  show: true,\n  horizontal: {\n    show: true,\n    line: {\n      show: true,\n      style: LineStyle.DASH,\n      dashValue: [4, 2],\n      size: 1,\n      color: '#76808F'\n    },\n    text: {\n      show: true,\n      color: '#FFFFFF',\n      size: 12,\n      family: 'Helvetica Neue',\n      weight: 'normal',\n      paddingLeft: 2,\n      paddingRight: 2,\n      paddingTop: 2,\n      paddingBottom: 2,\n      borderSize: 1,\n      borderColor: '#686D76',\n      borderRadius: 2,\n      backgroundColor: '#686D76'\n    }\n  },\n  vertical: {\n    show: true,\n    line: {\n      show: true,\n      style: LineStyle.DASH,\n      dashValue: [4, 2],\n      size: 1,\n      color: '#76808F'\n    },\n    text: {\n      show: true,\n      color: '#FFFFFF',\n      size: 12,\n      family: 'Helvetica Neue',\n      weight: 'normal',\n      paddingLeft: 2,\n      paddingRight: 2,\n      paddingTop: 2,\n      paddingBottom: 2,\n      borderSize: 1,\n      borderRadius: 2,\n      borderColor: '#686D76',\n      backgroundColor: '#686D76'\n    }\n  }\n}\n\n/**\n * ÈªòËÆ§ÂõæÂΩ¢ÈÖçÁΩÆ\n * @type {{arc: {style: string, color: string, size: number}, polygon: {style: string, color: string, size: number}, line: {style: string, color: string, size: number, dashValue: number[]}, text: {style: string, marginRight: number, color: string, size: number, weight: string, marginBottom: number, family: string, marginTop: number, marginLeft: number}, point: {backgroundColor: string, borderColor: string, activeBorderSize: number, activeRadius: number, activeBorderColor: string, activeBackgroundColor: string, borderSize: number, radius: number}}}\n */\nconst defaultShape = {\n  point: {\n    backgroundColor: '#2196F3',\n    borderColor: 'rgba(33, 150, 243, 0.35)',\n    borderSize: 1,\n    radius: 5,\n    activeBackgroundColor: '#2196F3',\n    activeBorderColor: 'rgba(33, 150, 243, 0.35)',\n    activeBorderSize: 3,\n    activeRadius: 5\n  },\n  line: {\n    style: LineStyle.SOLID,\n    color: '#2196F3',\n    size: 1,\n    dashValue: [2, 2]\n  },\n  polygon: {\n    style: StrokeFillStyle.STROKE,\n    stroke: {\n      style: LineStyle.SOLID,\n      size: 1,\n      color: '#2196F3',\n      dashValue: [2, 2]\n    },\n    fill: {\n      color: '#2196F3'\n    }\n  },\n  arc: {\n    style: StrokeFillStyle.STROKE,\n    stroke: {\n      style: LineStyle.SOLID,\n      size: 1,\n      color: '#2196F3',\n      dashValue: [2, 2]\n    },\n    fill: {\n      color: '#2196F3'\n    }\n  },\n  text: {\n    style: StrokeFillStyle.FILL,\n    color: '#2196F3',\n    size: 12,\n    family: 'Helvetica Neue',\n    weight: 'normal',\n    offset: [0, 0]\n  }\n}\n\n/**\n * ÈªòËÆ§Ê≥®Ëß£‰ø°ÊÅØÈÖçÁΩÆ\n * @type {{}}\n */\nconst defaultAnnotation = {\n  position: OverlayPosition.TOP,\n  offset: [20, 0],\n  symbol: {\n    type: AnnotationSymbolType.DIAMOND,\n    size: 8,\n    color: '#2196F3',\n    activeSize: 10,\n    activeColor: '#FF9600'\n  }\n}\n\nconst defaultTag = {\n  position: OverlayPosition.POINT,\n  offset: 0,\n  line: {\n    show: true,\n    style: LineStyle.DASH,\n    dashValue: [4, 2],\n    size: 1,\n    color: '#2196F3'\n  },\n  text: {\n    color: '#FFFFFF',\n    backgroundColor: '#2196F3',\n    size: 12,\n    family: 'Helvetica Neue',\n    weight: 'normal',\n    paddingLeft: 2,\n    paddingRight: 2,\n    paddingTop: 2,\n    paddingBottom: 2,\n    borderRadius: 2,\n    borderSize: 1,\n    borderColor: '#2196F3'\n  },\n  mark: {\n    offset: 0,\n    color: '#FFFFFF',\n    backgroundColor: '#2196F3',\n    size: 12,\n    family: 'Helvetica Neue',\n    weight: 'normal',\n    paddingLeft: 2,\n    paddingRight: 2,\n    paddingTop: 2,\n    paddingBottom: 2,\n    borderRadius: 2,\n    borderSize: 1,\n    borderColor: '#2196F3'\n  }\n}\n\n/**\n * ÂõæË°®‰πãÈó¥ÈªòËÆ§ÂàÜÂâ≤ÈÖçÁΩÆ\n * @type {{size: number, color: string}}\n */\nconst defaultSeparator = {\n  size: 1,\n  color: '#DDDDDD',\n  fill: true,\n  activeBackgroundColor: 'rgba(33, 150, 243, 0.08)'\n}\n\nexport const defaultStyleOptions = {\n  grid: defaultGrid,\n  candle: defaultCandle,\n  technicalIndicator: defaultTechnicalIndicator,\n  xAxis: defaultXAxis,\n  yAxis: defaultYAxis,\n  separator: defaultSeparator,\n  crosshair: defaultCrosshair,\n  shape: defaultShape,\n  annotation: defaultAnnotation,\n  tag: defaultTag\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isNumber, isObject, isValid } from './typeChecks'\n\n/**\n * Ê†ºÂºèÂåñÂÄº\n * @param data\n * @param key\n * @param defaultValue\n * @returns {string|*}\n */\nexport function formatValue (data, key, defaultValue = '--') {\n  if (isObject(data)) {\n    const value = data[key]\n    if (isValid(value)) {\n      return value\n    }\n  }\n  return defaultValue\n}\n\n/**\n * Ê†ºÂºèÂåñÊó∂Èó¥\n * @param dateTimeFormat\n * @param timestamp\n * @param format\n * @returns {string}\n */\nexport function formatDate (dateTimeFormat, timestamp, format = 'MM-DD hh:mm') {\n  if (isNumber(timestamp)) {\n    const dateTimeString = dateTimeFormat.format(new Date(timestamp))\n    const dateTimeStringArray = dateTimeString.split(', ')\n    const dateStringArray = dateTimeStringArray[0].split('/')\n    const date = {\n      YYYY: dateStringArray[2],\n      MM: dateStringArray[0],\n      DD: dateStringArray[1],\n      'hh:mm': dateTimeStringArray[1].match(/^[\\d]{2}/)[0] === '24'\n        ? dateTimeStringArray[1].replace(/^[\\d]{2}/, '00')\n        : dateTimeStringArray[1]\n    }\n    return format.replace(/YYYY|MM|DD|(hh:mm)/g, key => date[key])\n  }\n  return '--'\n}\n\n/**\n * Ê†ºÂºèÂåñÁ≤æÂ∫¶\n */\nexport function formatPrecision (value, precision = 2) {\n  const v = +value\n  if ((v || v === 0) && isNumber(v)) {\n    return v.toFixed(precision)\n  }\n  return `${v}`\n}\n\n/**\n * Ê†ºÂºèÂåñÂ§ßÊï∞ÊçÆ\n * @param value\n */\nexport function formatBigNumber (value) {\n  if (isNumber(+value)) {\n    if (value > 1000000000) {\n      return `${+((value / 1000000000).toFixed(3))}B`\n    }\n    if (value > 1000000) {\n      return `${+((value / 1000000).toFixed(3))}M`\n    }\n    if (value > 1000) {\n      return `${+((value / 1000).toFixed(3))}K`\n    }\n    return value\n  }\n  return '--'\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst DEV = '__BUILD_ENV__' === 'development'\n\n/**\n * ÊâìÂç∞Ë≠¶ÂëäÊó•Âøó\n * @param api\n * @param invalidParam\n * @param append\n */\nexport function logWarn (api, invalidParam, append = '') {\n  if (DEV) {\n    console.log(\n      '%cüòë klinecharts warning: \\n%s%s%s',\n      'color:#fcaf17;font-weight:bold',\n      api ? `Call api ${api}${invalidParam || append ? ', ' : '.'}` : '',\n      invalidParam ? `invalid parameter ${invalidParam}${append ? ', ' : '.'}` : '',\n      append ? `${append}` : ''\n    )\n  }\n}\n\n/**\n * ÊâìÂç∞ÈîôËØØÊó•Âøó\n * @param api\n * @param invalidParam\n * @param append\n */\nexport function logError (api, invalidParam, append = '') {\n  if (DEV) {\n    console.log(\n      '%cüòü klinecharts error: \\n%s%s%s',\n      'color:#ed1941;font-weight:bold',\n      api ? `Call api ${api}${invalidParam || append ? ', ' : '.'},` : '',\n      invalidParam ? `invalid parameter ${invalidParam}${append ? ', ' : '.'}` : '',\n      append ? `${append}` : ''\n    )\n  }\n}\n\n/**\n * ÊâìÂç∞Ê†áËØÜ\n */\nexport function logTag () {\n  if (DEV) {\n    console.log(\n      '%c‚ù§Ô∏è Welcome to klinecharts. Version is __BUILD_VERSION__',\n      'border-radius:2px;border:dashed 1px #2196F3;padding:26px 20px;font-size:14px;color:#2196F3'\n    )\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * ‰∫åÂàÜÊü•ÊâæÊúÄÊé•ËøëÁöÑÊï∞\n * @param dataList\n * @param valueKey\n * @param targetValue\n * @return {number}\n */\nexport function binarySearchNearest (dataList, valueKey, targetValue) {\n  let left = 0\n  let right = 0\n  for (right = dataList.length - 1; left !== right;) {\n    const midIndex = Math.floor((right + left) / 2)\n    const mid = right - left\n    const midValue = dataList[midIndex][valueKey]\n    if (targetValue === dataList[left][valueKey]) {\n      return left\n    }\n    if (targetValue === dataList[right][valueKey]) {\n      return right\n    }\n    if (targetValue === midValue) {\n      return midIndex\n    }\n\n    if (targetValue > midValue) {\n      left = midIndex\n    } else {\n      right = midIndex\n    }\n\n    if (mid <= 2) {\n      break\n    }\n  }\n  return left\n}\n\n/**\n * ‰ºòÂåñÊï∞Â≠ó\n * @param value\n * @return {number|number}\n */\nexport function nice (value) {\n  const exponent = Math.floor(log10(value))\n  const exp10 = index10(exponent)\n  const f = value / exp10 // 1 <= f < 10\n  let nf = 0\n  if (f < 1.5) {\n    nf = 1\n  } else if (f < 2.5) {\n    nf = 2\n  } else if (f < 3.5) {\n    nf = 3\n  } else if (f < 4.5) {\n    nf = 4\n  } else if (f < 5.5) {\n    nf = 5\n  } else if (f < 6.5) {\n    nf = 6\n  } else {\n    nf = 8\n  }\n  value = nf * exp10\n  return exponent >= -20 ? +value.toFixed(exponent < 0 ? -exponent : 0) : value\n}\n\n/**\n * ÂõõËàç‰∫îÂÖ•\n * @param value\n * @param precision\n * @return {number}\n */\nexport function round (value, precision) {\n  if (precision == null) {\n    precision = 10\n  }\n  precision = Math.min(Math.max(0, precision), 20)\n  value = (+value).toFixed(precision)\n  return +value\n}\n\n/**\n * Ëé∑ÂèñÂ∞èÊï∞‰ΩçÊï∞\n * @param value\n * @return {number|number}\n */\nexport function getPrecision (value) {\n  const str = value.toString()\n  const eIndex = str.indexOf('e')\n  if (eIndex > 0) {\n    const precision = +str.slice(eIndex + 1)\n    return precision < 0 ? -precision : 0\n  } else {\n    const dotIndex = str.indexOf('.')\n    return dotIndex < 0 ? 0 : str.length - 1 - dotIndex\n  }\n}\n\n/**\n * 10‰∏∫Â∫ïÁöÑÂØπÊï∞ÂáΩÊï∞\n * @param value\n * @return {number}\n */\nexport function log10 (value) {\n  return Math.log(value) / Math.log(10)\n}\n\n/**\n * 10ÁöÑÊåáÊï∞ÂáΩÊï∞\n * @param value\n * @return {number}\n */\nexport function index10 (value) {\n  return Math.pow(10, value)\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * ÂõæË°®Âä®‰Ωú\n */\nconst ActionType = {\n  ZOOM: 'zoom',\n  SCROLL: 'scroll',\n  CROSSHAIR: 'crosshair',\n  TOOLTIP: 'tooltip',\n  PANE_DRAG: 'pane_drag'\n}\n\nexport function hasAction (type) {\n  return Object.values(ActionType).indexOf(type) > -1\n}\n\nexport default ActionType\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isFunction, isValid } from '../utils/typeChecks'\nimport { formatValue } from '../utils/format'\nimport { logWarn } from '../utils/logger'\nimport { binarySearchNearest } from '../utils/number'\n\nimport ActionType from '../enum/ActionType'\n\n// ÊúÄÂ∞èÂçïÊù°Êï∞ÊçÆÂÆΩÂ∫¶\nconst MIN_DATA_SPACE = 1\n\n// ÊúÄÂ§ßÂçïÊù°Êï∞ÊçÆÂÆΩÂ∫¶\nconst MAX_DATA_SPACE = 50\n\nexport default class TimeScaleStore {\n  constructor (chartStore) {\n    this._chartStore = chartStore\n    this._dateTimeFormat = new Intl.DateTimeFormat(\n      'en', {\n        hour12: false, year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit'\n      }\n    )\n\n    // ÊòØÂê¶ÂèØ‰ª•Áº©Êîæ\n    this._zoomEnabled = true\n    // ÊòØÂê¶ÂèØ‰ª•ÊãñÊãΩÊªëÂä®\n    this._scrollEnabled = true\n\n    // ÊòØÂê¶Âú®Âä†ËΩΩ‰∏≠\n    this._loading = true\n    // Âä†ËΩΩÊõ¥Â§öÂõûË∞É\n    this._loadMoreCallback = null\n    // ËøòÊúâÊõ¥Â§ö\n    this._more = true\n\n    // ÂèØËßÅÂå∫ÂüüÊï∞ÊçÆÂç†Áî®ÁöÑÁ©∫Èó¥\n    this._totalDataSpace = 0\n    // ÊØè‰∏ÄÊù°Êï∞ÊçÆÁöÑÁ©∫Èó¥\n    this._dataSpace = 6\n    // barÁöÑÁ©∫Èó¥\n    this._barSpace = this._calcBarSpace()\n    // ÂêëÂè≥ÂÅèÁßªÁöÑÁ©∫Èó¥\n    this._offsetRightSpace = 50\n    // ÂêëÂè≥ÂÅèÁßªÁöÑÊï∞Èáè\n    this._offsetRightBarCount = this._offsetRightSpace / this._dataSpace\n    // Â∑¶ËæπÊúÄÂ∞èÂèØËßÅbarÁöÑ‰∏™Êï∞\n    this._leftMinVisibleBarCount = 2\n    // Âè≥ËæπÊúÄÂ∞èÂèØËßÅbarÁöÑ‰∏™Êï∞\n    this._rightMinVisibleBarCount = 2\n    // ÂºÄÂßãÁªòÂà∂ÁöÑÁ¥¢Âºï\n    this._from = 0\n    // ÁªìÊùüÁöÑÁ¥¢Âºï\n    this._to = 0\n\n    // Áî®Êù•ËÆ∞ÂΩïÂºÄÂßãÊãñÊãΩÊó∂ÂêëÂè≥ÂÅèÁßªÁöÑÊï∞Èáè\n    this._preOffsetRightBarCount = 0\n  }\n\n  /**\n   * ËÆ°ÁÆó‰∏ÄÊù°Êü±Â≠êÁöÑÁ©∫Èó¥\n   * @returns {number}\n   * @private\n   */\n  _calcBarSpace () {\n    const rateBarSpace = Math.floor(this._dataSpace * 0.82)\n    const floorBarSpace = Math.floor(this._dataSpace)\n    const optimalBarSpace = Math.min(rateBarSpace, floorBarSpace - 1)\n    return Math.max(1, optimalBarSpace)\n  }\n\n  /**\n   * Ë∞ÉÊï¥ÁªòÂà∂Ëµ∑ÁÇπÁªàÁÇπ‰ΩçÁΩÆ\n   * @private\n   */\n  adjustFromTo () {\n    const dataSize = this._chartStore.dataList().length\n    const barLength = this._totalDataSpace / this._dataSpace\n    const maxRightOffsetBarCount = barLength - Math.min(this._leftMinVisibleBarCount, dataSize)\n    if (this._offsetRightBarCount > maxRightOffsetBarCount) {\n      this._offsetRightBarCount = maxRightOffsetBarCount\n    }\n\n    const minRightOffsetBarCount = -dataSize + Math.min(this._rightMinVisibleBarCount, dataSize)\n\n    if (this._offsetRightBarCount < minRightOffsetBarCount) {\n      this._offsetRightBarCount = minRightOffsetBarCount\n    }\n    this._to = Math.round(this._offsetRightBarCount + dataSize + 0.5)\n    this._from = Math.round(this._to - barLength) - 1\n    if (this._to > dataSize) {\n      this._to = dataSize\n    }\n    if (this._from < 0) {\n      this._from = 0\n    }\n    this._chartStore.adjustVisibleDataList()\n    // Â§ÑÁêÜÂä†ËΩΩÊõ¥Â§öÔºåÊúâÊõ¥Â§öÂπ∂‰∏îÊ≤°ÊúâÂú®Âä†ËΩΩÂàôÂéªÂä†ËΩΩÊõ¥Â§ö\n    if (this._from === 0 && this._more && !this._loading && isFunction(this._loadMoreCallback)) {\n      this._loading = true\n      this._loadMoreCallback(formatValue(this._chartStore.dataList()[0], 'timestamp'))\n    }\n  }\n\n  /**\n   * ËÆæÁΩÆÊòØÂê¶ÊúâÊõ¥Â§ö\n   * @param more\n   */\n  setMore (more) {\n    this._more = more\n  }\n\n  /**\n   * ËÆæÁΩÆÊòØÂê¶Âú®Âä†ËΩΩ\n   */\n  setLoading (loading) {\n    this._loading = loading\n  }\n\n  /**\n   * Ëé∑ÂèñÊó∂Èó¥Ê†ºÂºèÂåñ\n   * @returns {Intl.DateTimeFormat | Intl.DateTimeFormat}\n   */\n  dateTimeFormat () {\n    return this._dateTimeFormat\n  }\n\n  /**\n   * ËÆæÁΩÆÊó∂Âå∫\n   * @param timezone\n   */\n  setTimezone (timezone) {\n    let dateTimeFormat\n    try {\n      dateTimeFormat = new Intl.DateTimeFormat(\n        'en', {\n          hour12: false, timeZone: timezone, year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit'\n        }\n      )\n    } catch (e) {\n      logWarn('', '', 'Timezone is error!!!')\n    }\n    if (dateTimeFormat) {\n      this._dateTimeFormat = dateTimeFormat\n    }\n  }\n\n  /**\n   * Ëé∑ÂèñÊó∂Âå∫\n   * @returns {null}\n   */\n  timezone () {\n    return this._dateTimeFormat.resolvedOptions().timeZone\n  }\n\n  /**\n   * Ëé∑Âèñ‰∏ÄÊù°Êï∞ÊçÆÁöÑÁ©∫Èó¥\n   * @returns {number}\n   */\n  dataSpace () {\n    return this._dataSpace\n  }\n\n  /**\n   * Ëé∑ÂèñÁªòÂà∂‰∏ÄÊù°Êï∞ÊçÆÁöÑÁ©∫Èó¥Ôºà‰∏çÂåÖÊã¨bar‰πãÈó¥ÁöÑÈó¥ÈöôÔºâ\n   * @returns {*}\n   */\n  barSpace () {\n    return this._barSpace\n  }\n\n  /**\n   * Ëé∑ÂèñÁªòÂà∂‰∏ÄÊù°Êï∞ÊçÆ‰∏ÄÂçäÁöÑÁ©∫Èó¥Ôºà‰∏çÂåÖÊã¨bar‰πãÈó¥ÁöÑÈó¥ÈöôÔºâ\n   * @returns\n   */\n  halfBarSpace () {\n    return this._barSpace / 2\n  }\n\n  /**\n   * ËÆæÁΩÆ‰∏ÄÊù°Êï∞ÊçÆÁöÑÁ©∫Èó¥\n   * @param dataSpace\n   * @param adjustBeforeFuc\n   */\n  setDataSpace (dataSpace, adjustBeforeFuc) {\n    if (dataSpace < MIN_DATA_SPACE || dataSpace > MAX_DATA_SPACE || this._dataSpace === dataSpace) {\n      return\n    }\n    this._dataSpace = dataSpace\n    this._barSpace = this._calcBarSpace()\n    adjustBeforeFuc && adjustBeforeFuc()\n    this.adjustFromTo()\n    this._chartStore.crosshairStore().recalculate(true)\n    this._chartStore.invalidate()\n  }\n\n  /**\n   * ËÆæÁΩÆÂèØËßÅÂå∫ÂüüÊï∞ÊçÆÂç†Áî®ÁöÑÊÄªÁ©∫Èó¥\n   * @param totalSpace\n   */\n  setTotalDataSpace (totalSpace) {\n    if (this._totalDataSpace === totalSpace) {\n      return\n    }\n    this._totalDataSpace = totalSpace\n    this.adjustFromTo()\n    this._chartStore.crosshairStore().recalculate(true)\n  }\n\n  /**\n   * ËÆæÁΩÆÂè≥ËæπÂèØ‰ª•ÂÅèÁßªÁöÑÁ©∫Èó¥\n   * @param space\n   * @param invalidate\n   */\n  setOffsetRightSpace (space, invalidate) {\n    this._offsetRightSpace = space\n    this._offsetRightBarCount = space / this._dataSpace\n    if (invalidate) {\n      this.adjustFromTo()\n      this._chartStore.crosshairStore().recalculate(true)\n      this._chartStore.invalidate()\n    }\n  }\n\n  /**\n   * ÈáçÁΩÆÂè≥ËæπÂèØ‰ª•ÂÅèÁßªÁöÑÁ©∫Èó¥\n   */\n  resetOffsetRightSpace () {\n    this.setOffsetRightSpace(this._offsetRightSpace)\n  }\n\n  /**\n   * Âè≥ÂÅèÁßªË∑ùÁ¶ª\n   * @return {number}\n   */\n  offsetRightSpace () {\n    return this._offsetRightSpace\n  }\n\n  /**\n   * Âè≥ÂÅèÁßªbarÊï∞Èáè\n   * @return {*|number}\n   */\n  offsetRightBarCount () {\n    return this._offsetRightBarCount\n  }\n\n  /**\n   * ËÆæÁΩÆÂè≥ÂÅèÁßªbarÊï∞Èáè\n   * @param barCount\n   */\n  setOffsetRightBarCount (barCount) {\n    this._offsetRightBarCount = barCount\n  }\n\n  /**\n   * ËÆæÁΩÆÂ∑¶ËæπÂèØËßÅÁöÑÊúÄÂ∞èbarÊï∞Èáè\n   * @param barCount\n   */\n  setLeftMinVisibleBarCount (barCount) {\n    this._leftMinVisibleBarCount = barCount\n  }\n\n  /**\n   * ËÆæÁΩÆÂè≥ËæπÂèØËßÅÁöÑÊúÄÂ∞èbarÊï∞Èáè\n   * @param barCount\n   */\n  setRightMinVisibleBarCount (barCount) {\n    this._rightMinVisibleBarCount = barCount\n  }\n\n  /**\n   * Ëé∑ÂèñÊï∞ÊçÆÁªòÂà∂Ëµ∑ÁÇπ\n   * @returns {number}\n   */\n  from () {\n    return this._from\n  }\n\n  /**\n   * Ëé∑ÂèñÊï∞ÊçÆÁªòÂà∂ÁªàÁÇπ\n   * @returns {number}\n   */\n  to () {\n    return this._to\n  }\n\n  /**\n   * ÂºÄÂßãÊªöÂä®\n   */\n  startScroll () {\n    this._preOffsetRightBarCount = this._offsetRightBarCount\n  }\n\n  /**\n   * ÊªöÂä®\n   * @param distance\n   * @param crosshair\n   */\n  scroll (distance, crosshair) {\n    if (!this._scrollEnabled) {\n      return\n    }\n    const distanceBarCount = distance / this._dataSpace\n    this._chartStore.actionStore().execute(ActionType.SCROLL, { barCount: distanceBarCount, distance })\n    this._offsetRightBarCount = this._preOffsetRightBarCount - distanceBarCount\n    this.adjustFromTo()\n    const cross = crosshair || this._chartStore.crosshairStore().get()\n    this._chartStore.crosshairStore().set(cross, true)\n    this._chartStore.invalidate()\n  }\n\n  /**\n   * Ê†πÊçÆÁ¥¢ÂºïËé∑ÂèñÊï∞ÊçÆ\n   * @param dataIndex\n   */\n  getDataByDataIndex (dataIndex) {\n    return this._chartStore.dataList()[dataIndex]\n  }\n\n  /**\n   * xËΩ¨Êç¢ÊàêÊµÆÁÇπÊï∞ÁöÑ‰ΩçÁΩÆ\n   * @param x\n   * @returns {number}\n   */\n  coordinateToFloatIndex (x) {\n    const dataSize = this._chartStore.dataList().length\n    const deltaFromRight = (this._totalDataSpace - x) / this._dataSpace\n    const index = dataSize + this._offsetRightBarCount - deltaFromRight\n    return Math.round(index * 1000000) / 1000000\n  }\n\n  /**\n   * Êï∞ÊçÆÁ¥¢ÂºïËΩ¨Êç¢ÊàêÊó∂Èó¥Êà≥\n   * @param dataIndex\n   * @return {*}\n   */\n  dataIndexToTimestamp (dataIndex) {\n    const data = this.getDataByDataIndex(dataIndex)\n    if (data) {\n      return data.timestamp\n    }\n  }\n\n  /**\n   * Â∞ÜÊó∂Èó¥Êà≥ËΩ¨Êç¢ÊàêÊï∞ÊçÆÁ¥¢Âºï‰ΩçÁΩÆ\n   * @param timestamp\n   * @return {number}\n   */\n  timestampToDataIndex (timestamp) {\n    if (this._chartStore.dataList().length === 0) {\n      return 0\n    }\n    return binarySearchNearest(this._chartStore.dataList(), 'timestamp', timestamp)\n  }\n\n  /**\n   * Êï∞ÊçÆÁ¥¢ÂºïËΩ¨Êç¢ÊàêÂùêÊ†á\n   * @param dataIndex\n   */\n  dataIndexToCoordinate (dataIndex) {\n    const dataSize = this._chartStore.dataList().length\n    const deltaFromRight = dataSize + this._offsetRightBarCount - dataIndex\n    return this._totalDataSpace - (deltaFromRight - 0.5) * this._dataSpace\n  }\n\n  /**\n   * ÂùêÊ†áÊç¢ÊàêÊï∞ÊçÆÁ¥¢ÂºïËΩ¨\n   * @param pixel\n   */\n  coordinateToDataIndex (pixel) {\n    return Math.ceil(this.coordinateToFloatIndex(pixel)) - 1\n  }\n\n  /**\n   * Áº©Êîæ\n   * @param scale\n   * @param coordinate\n   */\n  zoom (scale, coordinate) {\n    if (!this._zoomEnabled) {\n      return\n    }\n    if (!coordinate || !isValid(coordinate.x)) {\n      const crosshair = this._chartStore.crosshairStore().get()\n      coordinate = { x: isValid(crosshair.x) ? crosshair.x : this._totalDataSpace / 2 }\n    }\n    this._chartStore.actionStore().execute(ActionType.ZOOM, { coordinate, scale })\n    const floatIndex = this.coordinateToFloatIndex(coordinate.x)\n    const dataSpace = this._dataSpace + scale * (this._dataSpace / 10)\n    this.setDataSpace(dataSpace, () => {\n      this._offsetRightBarCount += (floatIndex - this.coordinateToFloatIndex(coordinate.x))\n    })\n  }\n\n  /**\n   * ËÆæÁΩÆÊòØÂê¶ÂèØ‰ª•Áº©Êîæ\n   * @param enabled\n   */\n  setZoomEnabled (enabled) {\n    this._zoomEnabled = enabled\n  }\n\n  /**\n   * Ëé∑ÂèñÊòØÂê¶ÂèØ‰ª•Áº©Êîæ\n   * @return {boolean}\n   */\n  zoomEnabled () {\n    return this._zoomEnabled\n  }\n\n  /**\n   * ËÆæÁΩÆÊòØÂê¶ÂèØ‰ª•ÊãñÊãΩÊªöÂä®\n   * @param enabled\n   */\n  setScrollEnabled (enabled) {\n    this._scrollEnabled = enabled\n  }\n\n  /**\n   * Ëé∑ÂèñÊòØÂê¶ÂèØ‰ª•ÊãñÊãΩÊªöÂä®\n   * @return {boolean}\n   */\n  scrollEnabled () {\n    return this._scrollEnabled\n  }\n\n  /**\n   * ËÆæÁΩÆÂä†ËΩΩÊõ¥Â§ö\n   * @param callback\n   */\n  setLoadMoreCallback (callback) {\n    this._loadMoreCallback = callback\n  }\n\n  /**\n   * Ê∏ÖÈô§Êï∞ÊçÆ\n   */\n  clear () {\n    this._more = true\n    this._loading = true\n    this._from = 0\n    this._to = 0\n  }\n}\n","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function value(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n      return ContinueSentinel;\n    }\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) {\n              if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            }\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { clone, isArray, isBoolean, isNumber, merge, isObject, isFunction, isValid } from '../../utils/typeChecks'\n\n/**\n * ÁªòÂà∂Á±ªÂûã\n * @type {{BAR: string, LINE: string, CIRCLE: string}}\n */\nexport const TechnicalIndicatorPlotType = {\n  LINE: 'line',\n  BAR: 'bar',\n  CIRCLE: 'circle'\n}\n\n/**\n * Á≥ªÂàó\n */\nexport const TechnicalIndicatorSeries = {\n  PRICE: 'price',\n  VOLUME: 'volume',\n  NORMAL: 'normal'\n}\n\n/**\n * Ëé∑ÂèñÊåáÊ†áÈÖçÁΩÆÈ°πÊ†∑Âºè\n * @param kLineDataList\n * @param techDataList\n * @param dataIndex\n * @param plot\n * @param techStyles\n * @param defaultStyle\n * @returns\n */\nexport function getTechnicalIndicatorPlotStyle (\n  kLineDataList, techDataList, dataIndex, plot, techStyles, defaultStyle\n) {\n  let color = defaultStyle.color\n  let isStroke = defaultStyle.isStroke\n  let isDashed = defaultStyle.isDashed\n  const cbData = {\n    prev: { kLineData: kLineDataList[dataIndex - 1], technicalIndicatorData: techDataList[dataIndex - 1] },\n    current: { kLineData: kLineDataList[dataIndex], technicalIndicatorData: techDataList[dataIndex] },\n    next: { kLineData: kLineDataList[dataIndex + 1], technicalIndicatorData: techDataList[dataIndex + 1] }\n  }\n  if (isValid(plot.color)) {\n    if (isFunction(plot.color)) {\n      color = plot.color(cbData, techStyles) || defaultStyle.color\n    } else {\n      color = plot.color || defaultStyle.color\n    }\n  }\n  if (isValid(plot.isStroke)) {\n    if (isFunction(plot.isStroke)) {\n      isStroke = plot.isStroke(cbData)\n    } else {\n      isStroke = plot.isStroke\n    }\n  }\n  if (isValid(plot.isDashed)) {\n    if (isFunction(plot.isDashed)) {\n      isDashed = plot.isDashed(cbData)\n    } else {\n      isDashed = plot.isDashed\n    }\n  }\n  return { color, isStroke, isDashed }\n}\n\nexport default class TechnicalIndicator {\n  constructor ({\n    name, shortName, series, calcParams, plots, precision,\n    shouldCheckParamCount, shouldOhlc, shouldFormatBigNumber,\n    minValue, maxValue, styles, extendData\n  }) {\n    // ÊåáÊ†áÂêç\n    this.name = name || ''\n    // ÊåáÊ†áÁÆÄÁü≠ÂêçÁß∞ÔºåÁî®‰∫éÊòæÁ§∫\n    this.shortName = isValid(shortName) ? shortName : name\n    // Á≥ªÂàó\n    this.series = Object.values(TechnicalIndicatorSeries).indexOf(series) !== -1 ? series : TechnicalIndicatorSeries.NORMAL\n    // Á≤æÂ∫¶\n    this.precision = isNumber(precision) && precision >= 0 ? precision : 4\n    // Á≤æÂ∫¶ËÆæÁΩÆÊ†áËØÜ\n    this._precisionFlag = false\n    // ËÆ°ÁÆóÂèÇÊï∞\n    this.calcParams = isArray(calcParams) ? calcParams : []\n    // Êï∞ÊçÆ‰ø°ÊÅØ\n    this.plots = isArray(plots) ? plots : []\n    // ÊòØÂê¶ÈúÄË¶ÅÊ£ÄÊü•ÂèÇÊï∞\n    this.shouldCheckParamCount = isBoolean(shouldCheckParamCount) ? shouldCheckParamCount : true\n    // ÊòØÂê¶ÈúÄË¶Åohlc\n    this.shouldOhlc = isBoolean(shouldOhlc) ? shouldOhlc : false\n    // ÊòØÂê¶ÈúÄË¶ÅÊ†ºÂºèÂåñÂ§ßÊï∞ÊçÆÂÄºÔºå‰ªé1000ÂºÄÂßãÊ†ºÂºèÂåñÔºåÊØîÂ¶Ç100000ÊòØÂê¶ÈúÄË¶ÅÊ†ºÂºèÂåñ100K\n    this.shouldFormatBigNumber = isBoolean(shouldFormatBigNumber) ? shouldFormatBigNumber : false\n    // ÊåáÂÆöÁöÑÊúÄÂ∞èÂÄº\n    this.minValue = minValue\n    // ÊåáÂÆöÁöÑÊúÄÂ§ßÂÄº\n    this.maxValue = maxValue\n    // Ê†∑Âºè\n    this.styles = styles\n    // Êâ©Â±ïÊï∞ÊçÆ\n    this.extendData = extendData\n    // ÁªìÊûú\n    this.result = []\n  }\n\n  _createParams (calcParams) {\n    return calcParams.map(param => {\n      if (isObject(param)) {\n        return param.value\n      }\n      return param\n    })\n  }\n\n  /**\n   * ËÆæÁΩÆÁÆÄÁü≠ÂêçÁß∞\n   * @param shortName\n   * @returns\n   */\n  setShortName (shortName) {\n    if (isValid(shortName) && this.shortName !== shortName) {\n      this.shortName = shortName\n      return true\n    }\n    return false\n  }\n\n  /**\n   * ËÆæÁΩÆÁ≤æÂ∫¶\n   * @param precision\n   * @param flag\n   * @returns\n   */\n  setPrecision (precision, flag) {\n    if (isNumber(precision) && precision >= 0 && (!flag || (flag && !this._precisionFlag))) {\n      this.precision = parseInt(precision, 10)\n      if (!flag) {\n        this._precisionFlag = true\n      }\n      return true\n    }\n    return false\n  }\n\n  /**\n   * ËÆæÁΩÆËÆ°ÁÆóÂèÇÊï∞\n   * @param params\n   * @returns\n   */\n  setCalcParams (params) {\n    if (!isArray(params)) {\n      return false\n    }\n    if (this.shouldCheckParamCount && params.length !== this.calcParams.length) {\n      return false\n    }\n    const calcParams = []\n    for (let i = 0; i < params.length; i++) {\n      const param = params[i]\n      let v\n      let allowDecimal\n      if (isObject(param)) {\n        v = param.value\n        allowDecimal = param.allowDecimal\n      } else {\n        v = param\n        allowDecimal = false\n      }\n      const oldParam = this.calcParams[i]\n      if (isObject(oldParam) && isBoolean(oldParam.allowDecimal)) {\n        allowDecimal = oldParam.allowDecimal\n      }\n      if (\n        !isNumber(v) ||\n        (!allowDecimal && parseInt(v, 10) !== v)\n      ) {\n        return false\n      }\n      calcParams.push({ allowDecimal, value: v })\n    }\n    this.calcParams = calcParams\n    const plots = this.regeneratePlots(this._createParams(calcParams))\n    if (plots && isArray(plots)) {\n      this.plots = plots\n    }\n    return true\n  }\n\n  setShouldOhlc (shouldOhlc) {\n    if (isBoolean(shouldOhlc) && this.shouldOhlc !== shouldOhlc) {\n      this.shouldOhlc = shouldOhlc\n      return true\n    }\n    return false\n  }\n\n  setShouldFormatBigNumber (shouldFormatBigNumber) {\n    if (isBoolean(shouldFormatBigNumber) && this.shouldFormatBigNumber !== shouldFormatBigNumber) {\n      this.shouldFormatBigNumber = shouldFormatBigNumber\n      return true\n    }\n    return false\n  }\n\n  setStyles (styles, defaultStyles) {\n    if (!isObject(styles)) {\n      return false\n    }\n    if (!this.styles) {\n      this.styles = {\n        margin: clone(defaultStyles.margin),\n        bar: clone(defaultStyles.bar),\n        line: clone(defaultStyles.line),\n        circle: clone(defaultStyles.circle)\n      }\n    }\n    merge(this.styles, styles)\n    return true\n  }\n\n  setExtendData (extendData) {\n    if (extendData !== undefined && this.extendData !== extendData) {\n      this.extendData = extendData\n      return true\n    }\n    return false\n  }\n\n  /**\n   * ËÆ°ÁÆó\n   * @param dataList\n   * @return {*}\n   */\n  async calc (dataList) {\n    this.result = await this.calcTechnicalIndicator(dataList, {\n      params: this._createParams(this.calcParams),\n      plots: this.plots,\n      extendData: this.extendData\n    }) || []\n  }\n\n  /**\n   * ËÆ°ÁÆóÊäÄÊúØÊåáÊ†á\n   */\n  calcTechnicalIndicator (dataList, options) {}\n\n  /**\n   * ÈáçÊñ∞ÁîüÊàêÂêÑÈ°πÊï∞ÊçÆ\n   * @param params\n   */\n  regeneratePlots (params) {}\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport extension from './extension'\n\nimport { isFunction, isValid, isObject, clone, merge } from '../utils/typeChecks'\nimport { logWarn } from '../utils/logger'\n\nimport TechnicalIndicator, { TechnicalIndicatorSeries } from '../component/technicalindicator/TechnicalIndicator'\n\nexport default class TechnicalIndicatorStore {\n  constructor (chartStore) {\n    this._chartStore = chartStore\n    // ÊåáÊ†áÊ®°Êùø\n    this._templates = this._createTemplates()\n    this._instances = new Map()\n  }\n\n  /**\n   * Ëé∑ÂèñÊåáÊ†á‰ø°ÊÅØ\n   * @param tech\n   * @return {{ calcParams, series, precision, name, shortName, shouldCheckParamCount, shouldOhlc, shouldFormatBigNumber, styles }}\n   */\n  _createTechInfo (tech) {\n    return {\n      name: tech.name,\n      shortName: tech.shortName,\n      series: tech.series,\n      calcParams: tech.calcParams,\n      shouldCheckParamCount: tech.shouldCheckParamCount,\n      shouldOhlc: tech.shouldOhlc,\n      shouldFormatBigNumber: tech.shouldFormatBigNumber,\n      precision: tech.precision,\n      styles: tech.styles,\n      plots: tech.plots,\n      result: tech.result || []\n    }\n  }\n\n  /**\n   * ÂàõÂª∫ÊäÄÊúØÊåáÊ†áÊ®°Êùø\n   * @return {{}}\n   */\n  _createTemplates () {\n    const mapping = {}\n    const extensions = extension.technicalIndicatorExtensions\n    for (const name in extensions) {\n      const templateInstance = this._createTemplateInstance(extensions[name])\n      if (templateInstance) {\n        mapping[name] = templateInstance\n      }\n    }\n    return mapping\n  }\n\n  /**\n   * ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÊäÄÊúØÊåáÊ†á\n   * @param name\n   * @param shortName\n   * @param series\n   * @param calcParams\n   * @param plots\n   * @param precision\n   * @param shouldCheckParamCount\n   * @param shouldOhlc\n   * @param shouldFormatBigNumber\n   * @param minValue\n   * @param maxValue\n   * @param styles\n   * @param calcTechnicalIndicator\n   * @param regeneratePlots\n   * @param render\n   * @returns {templateInstance|null}\n   */\n  _createTemplateInstance ({\n    name, shortName, series, calcParams, plots, precision,\n    shouldCheckParamCount, shouldOhlc, shouldFormatBigNumber,\n    minValue, maxValue, styles, extendData,\n    calcTechnicalIndicator, regeneratePlots, createToolTipDataSource, render\n  }) {\n    if (!name || !isFunction(calcTechnicalIndicator)) {\n      logWarn('', '', 'The required attribute \"name\" and method \"calcTechnicalIndicator\" are missing, and new technical indicator cannot be generated!!!')\n      return null\n    }\n    let defaultStyles\n    if (isObject(styles)) {\n      const techOptions = this._chartStore.styleOptions().technicalIndicator\n      defaultStyles = {\n        margin: clone(techOptions.margin),\n        bar: clone(techOptions.bar),\n        line: clone(techOptions.line),\n        circle: clone(techOptions.circle)\n      }\n      merge(defaultStyles, styles)\n    }\n    class Template extends TechnicalIndicator {\n      constructor () {\n        super(\n          {\n            name,\n            shortName,\n            series,\n            calcParams,\n            plots,\n            precision,\n            shouldCheckParamCount,\n            shouldOhlc,\n            shouldFormatBigNumber,\n            minValue,\n            maxValue,\n            defaultStyles,\n            extendData\n          }\n        )\n      }\n    }\n    Template.prototype.calcTechnicalIndicator = calcTechnicalIndicator\n    if (isFunction(regeneratePlots)) {\n      Template.prototype.regeneratePlots = regeneratePlots\n    }\n    if (isFunction(createToolTipDataSource)) {\n      Template.prototype.createToolTipDataSource = createToolTipDataSource\n    }\n    if (isFunction(render)) {\n      Template.prototype.render = render\n    }\n    return new Template()\n  }\n\n  /**\n   * Ê∑ªÂä†ÊåáÊ†áÊ®°Êùø\n   * @param templates\n   */\n  addTemplate (templates) {\n    templates.forEach(tmp => {\n      const instance = this._createTemplateInstance(tmp || {})\n      if (instance) {\n        // Â∞ÜÁîüÊàêÁöÑÊñ∞ÁöÑÊåáÊ†áÁ±ªÊîæÂÖ•ÈõÜÂêà\n        this._templates[instance.name] = instance\n      }\n    })\n  }\n\n  /**\n   * Ê®°ÊùøÊòØÂê¶Â≠òÂú®\n   * @param {*} name\n   * @returns\n   */\n  hasTemplate (name) {\n    return !!this._templates[name]\n  }\n\n  /**\n   * Ëé∑ÂèñÊäÄÊúØÊåáÊ†áÊ®°Êùø‰ø°ÊÅØ\n   * @param name\n   * @return {{}|{calcParams: *, precision: *, name: *}}\n   */\n  getTemplateInfo (name) {\n    if (isValid(name)) {\n      const template = this._templates[name]\n      if (template) {\n        return this._createTechInfo(template)\n      }\n    } else {\n      const templateInfos = {}\n      for (const name in this._templates) {\n        const template = this._templates[name]\n        templateInfos[name] = this._createTechInfo(template)\n      }\n      return templateInfos\n    }\n    return {}\n  }\n\n  /**\n   * Ê∑ªÂä†ÊäÄÊúØÊåáÊ†áÂÆû‰æã\n   * @param paneId\n   * @param tech\n   * @param isStack\n   * @returns\n   */\n  addInstance (paneId, tech, isStack) {\n    const { name, calcParams, precision, shouldOhlc, shouldFormatBigNumber, styles, extendData } = tech\n    let paneInstances = this._instances.get(paneId)\n    if (paneInstances && paneInstances.has(name)) {\n      return\n    }\n    if (!paneInstances) {\n      paneInstances = new Map()\n      this._instances.set(paneId, paneInstances)\n    }\n    const template = this._templates[name]\n    const instance = Object.create(Object.getPrototypeOf(template))\n    for (const key in template) {\n      if (Object.prototype.hasOwnProperty.call(template, key)) {\n        instance[key] = template[key]\n      }\n    }\n    instance.setCalcParams(calcParams)\n    instance.setPrecision(precision)\n    instance.setShouldOhlc(shouldOhlc)\n    instance.setShouldFormatBigNumber(shouldFormatBigNumber)\n    instance.setStyles(styles, this._chartStore.styleOptions().technicalIndicator)\n    instance.setExtendData(extendData)\n    if (!isStack) {\n      paneInstances.clear()\n    }\n    paneInstances.set(name, instance)\n    return instance.calc(this._chartStore.dataList())\n  }\n\n  /**\n   * Ëé∑ÂèñÂÆû‰æã\n   * @param {*} paneId\n   * @returns\n   */\n  instances (paneId) {\n    return this._instances.get(paneId) || new Map()\n  }\n\n  /**\n   * ÁßªÈô§ÊäÄÊúØÊåáÊ†á\n   * @param paneId\n   * @param name\n   * @return {boolean}\n   */\n  removeInstance (paneId, name) {\n    let removed = false\n    if (this._instances.has(paneId)) {\n      const paneInstances = this._instances.get(paneId)\n      if (isValid(name)) {\n        if (paneInstances.has(name)) {\n          paneInstances.delete(name)\n          removed = true\n        }\n      } else {\n        paneInstances.clear()\n        removed = true\n      }\n      if (paneInstances.size === 0) {\n        this._instances.delete(paneId)\n      }\n    }\n    return removed\n  }\n\n  /**\n   * ÊòØÂê¶ÊúâÂÆû‰æã\n   * @param paneId\n   * @returns\n   */\n  hasInstance (paneId) {\n    return this._instances.has(paneId)\n  }\n\n  /**\n   * ÂÆû‰æãËÆ°ÁÆó\n   * @param paneId\n   * @param name\n   */\n  calcInstance (name, paneId) {\n    const tasks = []\n    if (isValid(name)) {\n      if (isValid(paneId)) {\n        const paneInstances = this._instances.get(paneId)\n        if (paneInstances && paneInstances.has(name)) {\n          tasks.push(paneInstances.get(name).calc(this._chartStore.dataList()))\n        }\n      } else {\n        this._instances.forEach(paneInstances => {\n          if (paneInstances.has(name)) {\n            tasks.push(paneInstances.get(name).calc(this._chartStore.dataList()))\n          }\n        })\n      }\n    } else {\n      this._instances.forEach(paneInstances => {\n        paneInstances.forEach(instance => {\n          tasks.push(instance.calc(this._chartStore.dataList()))\n        })\n      })\n    }\n    return Promise.all(tasks)\n  }\n\n  /**\n   * Ëé∑ÂèñÂÆû‰æã‰ø°ÊÅØ\n   * @param paneId\n   * @param name\n   * @returns\n   */\n  getInstanceInfo (paneId, name) {\n    const info = (paneInstances) => {\n      const instanceInfos = []\n      for (const entry of paneInstances) {\n        const instance = entry[1]\n        if (instance) {\n          const instanceInfo = this._createTechInfo(instance)\n          if (instance.name === name) {\n            return instanceInfo\n          }\n          instanceInfos.push(instanceInfo)\n        }\n      }\n      return instanceInfos\n    }\n\n    if (isValid(paneId)) {\n      if (this._instances.has(paneId)) {\n        return info(this._instances.get(paneId))\n      }\n    } else {\n      const infos = {}\n      this._instances.forEach((paneInstance, paneId) => {\n        infos[paneId] = info(paneInstance)\n      })\n      return infos\n    }\n    return {}\n  }\n\n  /**\n   * ËÆæÁΩÆÁ≥ªÂàóÁ≤æÂ∫¶\n   * @param pricePrecision\n   * @param volumePrecision\n   */\n  setSeriesPrecision (pricePrecision, volumePrecision) {\n    const setPrecision = (tech) => {\n      if (tech.series === TechnicalIndicatorSeries.PRICE) {\n        tech.setPrecision(pricePrecision, true)\n      }\n      if (tech.series === TechnicalIndicatorSeries.VOLUME) {\n        tech.setPrecision(volumePrecision, true)\n      }\n    }\n    for (const key in this._templates) {\n      setPrecision(this._templates[key])\n    }\n    this._instances.forEach(paneInstances => {\n      paneInstances.forEach(instance => {\n        setPrecision(instance)\n      })\n    })\n  }\n\n  /**\n   * Ë¶ÜÁõñ\n   * @param techOverride\n   * @param paneId\n   * @returns\n   */\n  override (techOverride, paneId) {\n    const { name, shortName, calcParams, precision, shouldOhlc, shouldFormatBigNumber, styles, extendData } = techOverride\n    const defaultTechStyleOptions = this._chartStore.styleOptions().technicalIndicator\n    let instances = new Map()\n    if (isValid(paneId)) {\n      if (this._instances.has(paneId)) {\n        instances.set(paneId, this._instances.get(paneId))\n      }\n    } else {\n      instances = this._instances\n      const template = this._templates[name]\n      if (template) {\n        template.setCalcParams(calcParams)\n        template.setShortName(shortName)\n        template.setPrecision(precision)\n        template.setShouldOhlc(shouldOhlc)\n        template.setShouldFormatBigNumber(shouldFormatBigNumber)\n        template.setStyles(styles, defaultTechStyleOptions)\n        template.setExtendData(extendData)\n      }\n    }\n    let overiderSuccss = false\n    const tasks = []\n    instances.forEach(paneInstances => {\n      if (paneInstances.has(name)) {\n        const tech = paneInstances.get(name)\n        const shortNameSuccess = tech.setShortName(shortName)\n        const calcParamsSuccess = tech.setCalcParams(calcParams)\n        const precisionSuccess = tech.setPrecision(precision)\n        const shouldOhlcSuccess = tech.setShouldOhlc(shouldOhlc)\n        const shouldFormatBigNumberSuccess = tech.setShouldFormatBigNumber(shouldFormatBigNumber)\n        const styleSuccess = tech.setStyles(styles, defaultTechStyleOptions)\n        const extendDataSuccess = tech.setExtendData(extendData)\n        if (shortNameSuccess || calcParamsSuccess || precisionSuccess || shouldOhlcSuccess || shouldFormatBigNumberSuccess || styleSuccess || extendDataSuccess) {\n          overiderSuccss = true\n        }\n        if (calcParamsSuccess) {\n          tasks.push(tech.calc(this._chartStore.dataList()))\n        }\n      }\n    })\n    if (overiderSuccss) {\n      return Promise.all(tasks)\n    }\n  }\n}\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isFunction, isObject, clone, merge } from '../../utils/typeChecks'\n\n/**\n * ÂÆåÂñÑË¶ÜÁõñÁâ©ÂÆû‰æã\n * @param overlay Ë¶ÜÁõñÁâ©ÂÆû‰æã\n * @param options ÂèÇÊï∞\n */\nexport function perfectOverlayFunc (overlay, funcs) {\n  funcs.forEach(({ key, fn }) => {\n    if (isFunction(fn)) {\n      overlay[key] = fn\n    }\n  })\n}\n\n/**\n * Ë¶ÜÁõñÁâ©\n */\nexport default class Overlay {\n  constructor ({\n    id, chartStore, points, xAxis, yAxis\n  }) {\n    this._id = id\n    this._chartStore = chartStore\n    this._points = points\n    this._xAxis = xAxis\n    this._yAxis = yAxis\n    this._styles = null\n  }\n\n  /**\n   * ÁªòÂà∂\n   * @param ctx\n   */\n  draw (ctx) {}\n\n  /**\n   * ËÆæÁΩÆÊ†∑Âºè\n   * @param styles\n   * @param defaultStyles\n   */\n  setStyles (styles, defaultStyles) {\n    if (!isObject(styles)) {\n      return false\n    }\n    if (!this._styles) {\n      this._styles = clone(defaultStyles)\n    }\n    merge(this._styles, styles)\n    return true\n  }\n\n  /**\n   * Ëé∑Âèñid\n   * @return {*}\n   */\n  id () {\n    return this._id\n  }\n\n  /**\n   * Ëé∑ÂèñÊ†∑Âºè\n   * @return {null}\n   */\n  styles () {\n    return this._styles\n  }\n\n  /**\n   * Ëé∑ÂèñÁÇπ‰ø°ÊÅØ\n   */\n  points () {\n    return this._points\n  }\n\n  /**\n   * ËÆæÁΩÆyËΩ¥\n   * @param yAxis\n   */\n  setYAxis (yAxis) {\n    if (yAxis) {\n      this._yAxis = yAxis\n    }\n  }\n\n  /**\n   * Ê£ÄÊü•Èº†Ê†áÁÇπÊòØÂê¶Âú®ÂõæÂΩ¢‰∏ä\n   * @param coordinate\n   */\n  checkEventCoordinateOn (coordinate) {}\n\n  // -------------------- ‰∫ã‰ª∂ÂºÄÂßã -------------------\n\n  /**\n   * ÁÇπÂáª‰∫ã‰ª∂\n   * @param id\n   * @param points\n   * @param event\n   */\n  onClick ({ id, points, event }) {}\n\n  /**\n   * Âè≥Âáª‰∫ã‰ª∂\n   * @param id\n   * @param points\n   * @param event\n   */\n  onRightClick ({ id, points, event }) {}\n\n  /**\n   * Èº†Ê†áËøõÂÖ•‰∫ã‰ª∂\n   * @param id\n   * @param points\n   * @param event\n   */\n  onMouseEnter ({ id, points, event }) {}\n\n  /**\n   * Èº†Ê†áÁ¶ªÂºÄ‰∫ã‰ª∂\n   * @param id\n   * @param points\n   * @param event\n   */\n  onMouseLeave ({ id, points, event }) {}\n\n  // -------------------- ‰∫ã‰ª∂ÁªìÊùü -------------------\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * ÁªòÂà∂ËæπÊ°ÜÂúÜ\n * @param ctx\n * @param borderColor\n * @param borderSize\n * @param circleCoordinate\n * @param radius\n */\nexport function renderStrokeCircle (ctx, borderColor, borderSize, circleCoordinate, radius) {\n  ctx.lineWidth = borderSize\n  ctx.strokeStyle = borderColor\n  ctx.beginPath()\n  ctx.arc(circleCoordinate.x, circleCoordinate.y, radius, 0, Math.PI * 2)\n  ctx.closePath()\n  ctx.stroke()\n}\n\n/**\n * ÁªòÂà∂ÂÆûÂøÉÂúÜ\n * @param ctx\n * @param fillColor\n * @param circleCoordinate\n * @param radius\n */\nexport function renderFillCircle (ctx, fillColor, circleCoordinate, radius) {\n  ctx.fillStyle = fillColor\n  ctx.beginPath()\n  ctx.arc(circleCoordinate.x, circleCoordinate.y, radius, 0, Math.PI * 2)\n  ctx.closePath()\n  ctx.fill()\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const DEVIATION = 2\n\n/**\n * Ëé∑Âèñ‰∏§ÁÇπ‰πãÈó¥ÁöÑË∑ùÁ¶ª\n * @param coordinate\n * @param coordinate2\n * @return {number}\n */\nexport function getDistance (coordinate1, coordinate2) {\n  const xDif = coordinate1.x - coordinate2.x\n  const yDif = coordinate1.y - coordinate2.y\n  return Math.sqrt(xDif * xDif + yDif * yDif)\n}\n\n/**\n * Ê†πÊçÆ‰∏âËßíÂΩ¢‰∏â‰∏™ÁÇπËé∑Âèñ‰∏âËßíÂΩ¢Èù¢ÁßØ\n * @param coordinate1\n * @param coordinate2\n * @param coordinate3\n * @return {number}\n */\nexport function getTriangleSquare (coordinate1, coordinate2, coordinate3) {\n  const x1 = Math.abs(coordinate2.x - coordinate1.x)\n  const y1 = Math.abs(coordinate2.y - coordinate1.y)\n  const x2 = Math.abs(coordinate3.x - coordinate1.x)\n  const y2 = Math.abs(coordinate3.y - coordinate1.y)\n  return Math.abs(x1 * y2 - x2 * y1) / 2\n}\n\n/**\n * Ëé∑Âèñ‰∏ÄÁÇπÁªïÂè¶‰∏ÄÁÇπÊóãËΩ¨‰∏ÄÂÆöËßíÂ∫¶ÂêéÊñ∞ÁöÑÁÇπÂùêÊ†á\n * @param coordinate ÊóãËΩ¨ÁÇπ\n * @param targetCoordinate ÂèÇÁÖßÁÇπ\n * @param angle ËßíÂ∫¶\n * @return {{x: *, y: *}}\n */\nexport function getRotateCoordinate (coordinate, targetCoordinate, angle) {\n  const x = (coordinate.x - targetCoordinate.x) * Math.cos(angle) - (coordinate.y - targetCoordinate.y) * Math.sin(angle) + targetCoordinate.x\n  const y = (coordinate.x - targetCoordinate.x) * Math.sin(angle) + (coordinate.y - targetCoordinate.y) * Math.cos(angle) + targetCoordinate.y\n  return { x, y }\n}\n\n/**\n * Ëé∑Âèñ‰∏ÄÊ¨°ÂáΩÊï∞ÊñúÁéáÂíåÊà™Ë∑ùÔºåÂç≥ y = kx + b ‰∏≠ÁöÑkÂÄºÂíåbÂÄº\n * @param coordinate1\n * @param coordinate2\n */\nexport function getLinearSlopeIntercept (coordinate1, coordinate2) {\n  const difX = (coordinate1.x - coordinate2.x)\n  if (difX !== 0) {\n    const k = (coordinate1.y - coordinate2.y) / difX\n    const b = coordinate1.y - k * coordinate1.x\n    return { k, b }\n  }\n}\n\n/**\n * Ëé∑ÂèñÁÇπÂú®‰∏§ÁÇπÂÜ≥ÂÆöÁöÑ‰∏ÄÊ¨°ÂáΩÊï∞‰∏äÁöÑyÂÄº\n * @param coordinate1\n * @param coordinate2\n * @param targetCoordinate\n */\nexport function getLinearYFromCoordinates (coordinate1, coordinate2, targetCoordinate) {\n  const kb = getLinearSlopeIntercept(coordinate1, coordinate2)\n  return getLinearYFromSlopeIntercept(kb, targetCoordinate)\n}\n\n/**\n * Ëé∑ÂèñÁÇπÂú®ÊñúÁéáÂíåÊà™Ë∑ùÁ°ÆÂÆöÁöÑÁ∫ø‰∏äÁöÑyÂÄº\n * @param kb\n * @param targetCoordinate\n */\nexport function getLinearYFromSlopeIntercept (kb, targetCoordinate) {\n  if (kb) {\n    return targetCoordinate.x * kb.k + kb.b\n  }\n  return targetCoordinate.y\n}\n\n/**\n * ÁÇπÊòØÂê¶Âú®Á∫ø‰∏ä\n * @param coordinate1\n * @param coordinate2\n * @param targetCoordinate\n */\nexport function checkCoordinateOnStraightLine (coordinate1, coordinate2, targetCoordinate) {\n  if (!targetCoordinate || !coordinate1 || !coordinate2) {\n    return false\n  }\n  if (coordinate1.x === coordinate2.x) {\n    return Math.abs(targetCoordinate.x - coordinate1.x) < DEVIATION\n  }\n  const kb = getLinearSlopeIntercept(coordinate1, coordinate2)\n  const y = getLinearYFromSlopeIntercept(kb, targetCoordinate)\n  const yDif = Math.abs(y - targetCoordinate.y)\n  return yDif * yDif / (kb.k * kb.k + 1) < DEVIATION * DEVIATION\n}\n\n/**\n * ÁÇπÊòØÂê¶Âú®Á∫øÊÆµ‰∏ä\n * @param coordinate1\n * @param coordinate2\n * @param targetCoordinate\n * @returns {boolean}\n */\nexport function checkCoordinateOnRayLine (coordinate1, coordinate2, targetCoordinate) {\n  if (checkCoordinateOnStraightLine(coordinate1, coordinate2, targetCoordinate)) {\n    if (coordinate1.x === coordinate2.x) {\n      if (coordinate1.y < coordinate2.y) {\n        return coordinate1.y - targetCoordinate.y < DEVIATION\n      } else {\n        return targetCoordinate.y - coordinate1.y < DEVIATION\n      }\n    }\n    if (coordinate1.x < coordinate2.x) {\n      return coordinate1.x - targetCoordinate.x < DEVIATION\n    } else {\n      return targetCoordinate.x - coordinate1.x < DEVIATION\n    }\n  }\n  return false\n}\n\n/**\n * Âà§Êñ≠ÁÇπÊòØÂê¶Âú®Á∫øÊÆµ‰∏äÈù¢\n * @param coordinate1\n * @param coordinate2\n * @param targetCoordinate\n */\nexport function checkCoordinateOnSegment (coordinate1, coordinate2, targetCoordinate) {\n  if (checkCoordinateOnStraightLine(coordinate1, coordinate2, targetCoordinate)) {\n    if (coordinate1.x === coordinate2.x) {\n      return Math.abs(coordinate1.y - targetCoordinate.y) + Math.abs(coordinate2.y - targetCoordinate.y) - Math.abs(coordinate1.y - coordinate2.y) < DEVIATION * 2\n    }\n    return Math.abs(coordinate1.x - targetCoordinate.x) + Math.abs(coordinate2.x - targetCoordinate.x) - Math.abs(coordinate1.x - coordinate2.x) < DEVIATION * 2\n  }\n  return false\n}\n\n/**\n * ÁÇπÊòØÂê¶Âú®ÂúÜÂÜÖ\n * @param circleCenterCoordinate\n * @param radius\n * @param targetCoordinate\n * @returns {boolean}\n */\nexport function checkCoordinateInCircle (circleCenterCoordinate, radius, targetCoordinate) {\n  if (!targetCoordinate) {\n    return false\n  }\n  const difX = targetCoordinate.x - circleCenterCoordinate.x\n  const difY = targetCoordinate.y - circleCenterCoordinate.y\n  return !(difX * difX + difY * difY > radius * radius)\n}\n\n/**\n * ÁÇπÊòØÂê¶Âú®ÂúÜ‰∏ä\n * @param circleCenterCoordinate\n * @param radius\n * @param targetCoordinate\n * @return {boolean}\n */\nexport function checkCoordinateOnCircle (circleCenterCoordinate, radius, targetCoordinate) {\n  if (!targetCoordinate) {\n    return false\n  }\n  return Math.abs(getDistance(targetCoordinate, circleCenterCoordinate) - radius) < DEVIATION\n}\n\n/**\n * Ê£ÄÊü•ÁÇπÊòØÂê¶Âú®ÂúÜÂºß‰∏ä\n * @param circleCenterCoordinate\n * @param radius\n * @param startAngle\n * @param endAngle\n * @param targetCoordinate\n * @return {boolean}\n */\nexport function checkCoordinateOnArc (circleCenterCoordinate, radius, startAngle, endAngle, targetCoordinate) {\n  if (checkCoordinateOnCircle(circleCenterCoordinate, radius, targetCoordinate)) {\n    const startCoordinateX = radius * Math.cos(startAngle) + circleCenterCoordinate.x\n    const startCoordinateY = radius * Math.sin(startAngle) + circleCenterCoordinate.y\n    const endCoordinateX = radius * Math.cos(endAngle) + circleCenterCoordinate.x\n    const endCoordinateY = radius * Math.sin(endAngle) + circleCenterCoordinate.y\n    return (\n      targetCoordinate.x <= Math.max(startCoordinateX, endCoordinateX) + DEVIATION &&\n      targetCoordinate.x >= Math.min(startCoordinateX, endCoordinateX) - DEVIATION &&\n      targetCoordinate.y <= Math.max(startCoordinateY, endCoordinateY) + DEVIATION &&\n      targetCoordinate.y >= Math.min(startCoordinateY, endCoordinateY) - DEVIATION\n    )\n  }\n}\n\n/**\n * Ê£ÄÊü•ÁÇπÊòØÂê¶Âú®‰∏âËßíÂΩ¢ÂÜÖÈÉ®\n * @param triangleCoordinates\n * @param targetCoordinate\n * @return {boolean}\n */\nexport function checkCoordinateInTriangle (triangleCoordinates, targetCoordinate) {\n  const square = getTriangleSquare(triangleCoordinates[0], triangleCoordinates[1], triangleCoordinates[2])\n  const compareSquare =\n    getTriangleSquare(triangleCoordinates[0], triangleCoordinates[1], targetCoordinate) +\n    getTriangleSquare(triangleCoordinates[0], triangleCoordinates[2], targetCoordinate) +\n    getTriangleSquare(triangleCoordinates[1], triangleCoordinates[2], targetCoordinate)\n  return Math.abs(square - compareSquare) < DEVIATION\n}\n\n/**\n * Ê£ÄÊü•ÁÇπÊòØÂê¶Âú®‰∏âËßíÂΩ¢Ëè±ÂΩ¢ÂÜÖÈÉ®\n * @param centerCoordinate\n * @param width\n * @param height\n * @param targetCoordinate\n * @return {boolean}\n */\nexport function checkCoordinateInDiamond (centerCoordinate, width, height, targetCoordinate) {\n  const xDis = Math.abs(centerCoordinate.x - targetCoordinate.x)\n  const yDis = Math.abs(centerCoordinate.y - targetCoordinate.y)\n  return xDis * height + yDis * width < width * height / 2 + DEVIATION\n}\n\n/**\n * Ê£ÄÊü•ÁÇπÊòØÂê¶Âú®Áü©ÂΩ¢ÂÜÖÈÉ®\n * @param coordinate1\n * @param coordinate2\n * @param targetCoordinate\n * @return {boolean}\n */\nexport function checkCoordinateInRect (coordinate1, coordinate2, targetCoordinate) {\n  return targetCoordinate.x >= coordinate1.x && targetCoordinate.x <= coordinate2.x && targetCoordinate.y >= coordinate1.y && targetCoordinate.y <= coordinate2.y\n}\n\n/**\n * Ê†πÊçÆ‰∏§ÁÇπËé∑Âèñ‰∏ÄÊù°Â∞ÑÁ∫ø\n * @param coordinate1\n * @param coordinate2\n * @param xyMax\n * @return {(*|{x: *, y: *})[]|*[]}\n */\nexport function getRayLine (coordinate1, coordinate2, xyMax) {\n  if (coordinate1 && coordinate2) {\n    let coordinate\n    if (coordinate1.x === coordinate2.x && coordinate1.y !== coordinate2.y) {\n      if (coordinate1.y < coordinate2.y) {\n        coordinate = {\n          x: coordinate1.x,\n          y: xyMax.y\n        }\n      } else {\n        coordinate = {\n          x: coordinate1.x,\n          y: 0\n        }\n      }\n    } else if (coordinate1.x > coordinate2.x) {\n      coordinate = {\n        x: 0,\n        y: getLinearYFromCoordinates(coordinate1, coordinate2, { x: 0, y: coordinate1.y })\n      }\n    } else {\n      coordinate = {\n        x: xyMax.x,\n        y: getLinearYFromCoordinates(coordinate1, coordinate2, { x: xyMax.x, y: coordinate1.y })\n      }\n    }\n    return [coordinate1, coordinate]\n  }\n  return []\n}\n\n/**\n * Ëé∑ÂèñÂπ≥Ë°åÁ∫ø\n * @param coordinates\n * @param xyMax\n * @param extendParallelLineCount\n * @returns {Array}\n */\nexport function getParallelLines (coordinates, xyMax, extendParallelLineCount = 0) {\n  const lines = []\n  if (coordinates.length > 1) {\n    if (coordinates[0].x === coordinates[1].x) {\n      const startY = 0\n      const endY = xyMax.y\n      lines.push([{ x: coordinates[0].x, y: startY }, { x: coordinates[0].x, y: endY }])\n      if (coordinates.length > 2) {\n        lines.push([{ x: coordinates[2].x, y: startY }, { x: coordinates[2].x, y: endY }])\n        const distance = coordinates[0].x - coordinates[2].x\n        for (let i = 0; i < extendParallelLineCount; i++) {\n          const d = distance * (i + 1)\n          lines.push([{ x: coordinates[0].x + d, y: startY }, { x: coordinates[0].x + d, y: endY }])\n        }\n      }\n    } else {\n      const startX = 0\n      const endX = xyMax.x\n      const kb = getLinearSlopeIntercept(coordinates[0], coordinates[1])\n      const k = kb.k\n      const b = kb.b\n      lines.push([{ x: startX, y: startX * k + b }, { x: endX, y: endX * k + b }])\n      if (coordinates.length > 2) {\n        const b1 = coordinates[2].y - k * coordinates[2].x\n        lines.push([{ x: startX, y: startX * k + b1 }, { x: endX, y: endX * k + b1 }])\n        const distance = b - b1\n        for (let i = 0; i < extendParallelLineCount; i++) {\n          const b2 = b + distance * (i + 1)\n          lines.push([{ x: startX, y: startX * k + b2 }, { x: endX, y: endX * k + b2 }])\n        }\n      }\n    }\n  }\n  return lines\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * ÁªòÂà∂Ë∑ØÂæÑ\n * @param ctx\n * @param coordinates\n * @param strokeFill\n */\nexport function renderPath (ctx, coordinates, strokeFill) {\n  ctx.save()\n  if (ctx.lineWidth % 2) {\n    ctx.translate(0.5, 0.5)\n  }\n  ctx.beginPath()\n  let move = true\n  coordinates.forEach(coordinate => {\n    if (coordinate) {\n      if (move) {\n        ctx.moveTo(coordinate.x, coordinate.y)\n        move = false\n      } else {\n        ctx.lineTo(coordinate.x, coordinate.y)\n      }\n    }\n  })\n  strokeFill()\n  ctx.restore()\n}\n\nexport function renderCloseStrokePath (ctx, coordinates) {\n  renderPath(ctx, coordinates, () => {\n    ctx.closePath()\n    ctx.stroke()\n  })\n}\n\n/**\n * Ê∏≤ÊüìÂ°´ÂÖÖË∑ØÂæÑ\n * @param ctx\n * @param coordinates\n */\nexport function renderCloseFillPath (ctx, coordinates) {\n  renderPath(ctx, coordinates, () => {\n    ctx.closePath()\n    ctx.fill()\n  })\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { renderPath } from './path'\n\n/**\n * ÁªòÂà∂Ê∞¥Âπ≥Áõ¥Á∫ø\n * @param ctx\n * @param y\n * @param left\n * @param right\n */\nexport function renderHorizontalLine (ctx, y, left, right) {\n  ctx.beginPath()\n  const correction = (ctx.lineWidth % 2) ? 0.5 : 0\n  ctx.moveTo(left, y + correction)\n  ctx.lineTo(right, y + correction)\n  ctx.stroke()\n  ctx.closePath()\n}\n\n/**\n * ÁªòÂà∂ÂûÇÁõ¥Áõ¥Á∫ø\n * @param ctx\n * @param x\n * @param top\n * @param bottom\n */\nexport function renderVerticalLine (ctx, x, top, bottom) {\n  ctx.beginPath()\n  const correction = (ctx.lineWidth % 2) ? 0.5 : 0\n  ctx.moveTo(x + correction, top)\n  ctx.lineTo(x + correction, bottom)\n  ctx.stroke()\n  ctx.closePath()\n}\n\n/**\n * ÁªòÂà∂Á∫ø\n * @param ctx\n * @param coordinates\n */\nexport function renderLine (ctx, coordinates) {\n  renderPath(ctx, coordinates, () => {\n    ctx.stroke()\n    ctx.closePath()\n  })\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Ëé∑ÂèñÂ±èÂπïÊØî\n * @param canvas\n * @returns {number}\n */\nexport function getPixelRatio (canvas) {\n  return (canvas.ownerDocument && canvas.ownerDocument.defaultView && canvas.ownerDocument.defaultView.devicePixelRatio) || 2\n}\n\n/**\n * ÊµãÈáèÊñáÂ≠óÁöÑÂÆΩÂ∫¶\n * @param ctx\n * @param text\n * @returns {number}\n */\nexport function calcTextWidth (ctx, text) {\n  return Math.round(ctx.measureText(text).width)\n}\n\n/**\n * ÂàõÂª∫Â≠ó‰Ωì\n * @param fontSize\n * @param fontFamily\n * @param fontWeight\n * @returns {string}\n */\nexport function createFont (fontSize = 12, fontWeight = 'normal', fontFamily = 'Helvetica Neue') {\n  return `${fontWeight} ${fontSize}px ${fontFamily}`\n}\n\n/**\n * Ëé∑ÂèñÊñáÂ≠óÊ°ÜÂÆΩÂ∫¶\n * @param ctx\n * @param text\n * @param options\n * @returns {number}\n */\nexport function getTextRectWidth (ctx, text, options) {\n  ctx.font = createFont(options.size, options.weight, options.family)\n  const textWidth = calcTextWidth(ctx, text)\n  return options.paddingLeft + options.paddingRight + textWidth + (options.borderSize || 0) * 2\n}\n\n/**\n * Ëé∑ÂèñÊñáÂ≠óÊ°ÜÈ´òÂ∫¶\n * @param options\n * @returns {number}\n */\nexport function getTextRectHeight (options) {\n  return options.paddingTop + options.paddingBottom + options.size + (options.borderSize || 0) * 2\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Overlay from './Overlay'\n\nimport { renderFillCircle } from '../../renderer/circle'\nimport { checkCoordinateInCircle } from '../../extension/shape/shapeHelper'\nimport { renderHorizontalLine, renderLine, renderVerticalLine } from '../../renderer/line'\nimport { renderCloseStrokePath, renderCloseFillPath } from '../../renderer/path'\nimport { isArray, isValid, clone } from '../../utils/typeChecks'\nimport { createFont } from '../../utils/canvas'\n\nimport { StrokeFillStyle, LineStyle } from '../../options/styleOptions'\n\n// Ê†áËÆ∞ÂõæÂΩ¢ÁªòÂà∂Ê≠•È™§ÂºÄÂßã\nconst SHAPE_DRAW_STEP_START = 1\n\n// Ê†áËÆ∞ÂõæÂΩ¢ÁªòÂà∂Ê≠•È™§ÁªìÊùü\nconst SHAPE_DRAW_STEP_FINISHED = -1\n\n/**\n * ‰∫ã‰ª∂Êìç‰ΩúÂÖÉÁ¥†Á±ªÂûã\n * @type {{OTHER: string, POINT: string, NONE: string}}\n */\nexport const ShapeEventOperateElement = {\n  OTHER: 'other',\n  POINT: 'point',\n  NONE: 'none'\n}\n\n/**\n * ÁªòÂà∂Á±ªÂûã\n * @type {{ARC: string, POLYGON: string, LINE: string, CONTINUOUS_LINE: string, TEXT: string}}\n */\nconst ShapeElementType = {\n  LINE: 'line',\n  TEXT: 'text',\n  CONTINUOUS_LINE: 'continuous_line',\n  POLYGON: 'polygon',\n  ARC: 'arc'\n}\n\n/**\n * Á∫øÁ±ªÂûã\n * @type {{VERTICAL: number, COMMON: number, HORIZONTAL: number}}\n */\nconst LineType = {\n  COMMON: 0,\n  HORIZONTAL: 1,\n  VERTICAL: 2\n}\n\n/**\n * ÂõæÂΩ¢Ê®°Âºè\n */\nconst ShapeMode = {\n  NORMAL: 'normal',\n  WEAK_MAGNET: 'weak_magnet',\n  STRONG_MAGNET: 'strong_magnet'\n}\n\n/**\n * Ëé∑ÂèñÁªòÂà∂Á∫øÁ±ªÂûã\n * @param coordinate1\n * @param coordinate2\n * @private\n */\nfunction getLineType (coordinate1, coordinate2) {\n  if (coordinate1.x === coordinate2.x) {\n    return LineType.VERTICAL\n  }\n  if (coordinate1.y === coordinate2.y) {\n    return LineType.HORIZONTAL\n  }\n  return LineType.COMMON\n}\n\n/**\n * Ê†áËÆ∞ÂõæÂΩ¢\n */\nexport default class Shape extends Overlay {\n  constructor ({\n    id, name, totalStep,\n    chartStore, xAxis, yAxis,\n    points = [], styles, lock, mode, data\n  }) {\n    super({ id, chartStore, points, xAxis, yAxis })\n    this._name = name\n    this._totalStep = totalStep\n    this._lock = lock\n    this._mode = ShapeMode.NORMAL\n    this.setMode(mode)\n    this._data = data\n    this._drawStep = SHAPE_DRAW_STEP_START\n    this.setPoints(points)\n    this.setStyles(styles, chartStore.styleOptions().shape)\n    this._prevPressPoint = null\n    this._prevPoints = null\n    this._coordinates = []\n  }\n\n  /**\n   * Âä†ËΩΩÁÇπ\n   * @param points\n   * @return {undefined|boolean}\n   */\n  setPoints (points) {\n    if (isArray(points) && points.length > 0) {\n      let repeatTotalStep\n      if (points.length >= this._totalStep - 1) {\n        this._drawStep = SHAPE_DRAW_STEP_FINISHED\n        this._points = points.slice(0, this._totalStep - 1)\n        repeatTotalStep = this._totalStep - 1\n      } else {\n        this._drawStep = points.length + 1\n        this._points = clone(points)\n        repeatTotalStep = points.length\n      }\n      // ÈáçÊñ∞ÊºîÁªÉÁªòÂà∂‰∏ÄÈÅçÔºåÈò≤Ê≠¢Âõ†‰∏∫ÁÇπ‰∏çÂØπËÄåÁªòÂà∂Âá∫ÈîôËØØÁöÑÂõæÂΩ¢\n      for (let i = 0; i < repeatTotalStep; i++) {\n        this.performEventMoveForDrawing({\n          step: i + 2,\n          mode: this._mode,\n          points: this._points,\n          movePoint: this._points[i],\n          xAxis: this._xAxis,\n          yAxis: this._yAxis\n        })\n      }\n      if (this._drawStep === SHAPE_DRAW_STEP_FINISHED) {\n        this.performEventPressedMove({\n          mode: this._mode,\n          points: this._points,\n          pressPointIndex: this._points.length - 1,\n          pressPoint: this._points[this._points.length - 1],\n          xAxis: this._xAxis,\n          yAxis: this._yAxis\n        })\n      }\n      // ËÆæÁΩÆÁÇπÂêéÈúÄË¶ÅÈáçÁªòÔºåËøîÂõûÈáçÁªòÊ†áËØÜ\n      return true\n    }\n  }\n\n  /**\n   * Êó∂Èó¥Êà≥ËΩ¨Êç¢ÊàêxËΩ¥‰∏äÁÇπÁöÑ‰ΩçÁΩÆ\n   * @param point\n   * @return {*|number}\n   * @private\n   */\n  _timestampOrDataIndexToCoordinateX ({ timestamp, dataIndex }) {\n    if (timestamp) {\n      dataIndex = this._chartStore.timeScaleStore().timestampToDataIndex(timestamp)\n    }\n    return this._xAxis.convertToPixel(dataIndex)\n  }\n\n  /**\n   * ÁªòÂà∂Á∫ø\n   * @param ctx\n   * @param lines\n   * @param styles\n   * @param defaultStyles\n   * @private\n   */\n  _drawLines (ctx, lines, styles, defaultStyles) {\n    ctx.save()\n    ctx.strokeStyle = styles.color || defaultStyles.color\n    ctx.lineWidth = styles.size || defaultStyles.size\n    if (styles.style === LineStyle.DASH) {\n      ctx.setLineDash(styles.dashValue || defaultStyles.dashValue)\n    }\n    lines.forEach(coordinates => {\n      if (coordinates.length > 1) {\n        const lineType = getLineType(coordinates[0], coordinates[1])\n        switch (lineType) {\n          case LineType.COMMON: {\n            renderLine(ctx, coordinates)\n            break\n          }\n          case LineType.HORIZONTAL: {\n            renderHorizontalLine(ctx, coordinates[0].y, coordinates[0].x, coordinates[1].x)\n            break\n          }\n          case LineType.VERTICAL: {\n            renderVerticalLine(ctx, coordinates[0].x, coordinates[0].y, coordinates[1].y)\n            break\n          }\n          default: { break }\n        }\n      }\n    })\n    ctx.restore()\n  }\n\n  /**\n   * ÁªòÂà∂ËøûÁª≠Á∫ø\n   * @param ctx\n   * @param continuousLines\n   * @param styles\n   * @param styles\n   * @private\n   */\n  _drawContinuousLines (ctx, continuousLines, styles, defaultStyles) {\n    ctx.save()\n    ctx.strokeStyle = styles.color || defaultStyles.color\n    ctx.lineWidth = styles.size || defaultStyles.size\n    if (styles.style === LineStyle.DASH) {\n      ctx.setLineDash(styles.dashValue || defaultStyles.dashValue)\n    }\n    continuousLines.forEach(coordinates => {\n      if (coordinates.length > 0) {\n        renderLine(ctx, coordinates)\n      }\n    })\n    ctx.restore()\n  }\n\n  /**\n   * ÁªòÂà∂Â§öËæπÂΩ¢\n   * @param ctx\n   * @param polygons\n   * @param styles\n   * @param defaultStyles\n   * @private\n   */\n  _drawPolygons (ctx, polygons, styles, defaultStyles) {\n    ctx.save()\n    let strokeFill\n    if (styles.style === StrokeFillStyle.FILL) {\n      ctx.fillStyle = (styles.fill || defaultStyles.fill).color\n      strokeFill = renderCloseFillPath\n    } else {\n      const strokeStyles = styles.stroke || defaultStyles.stroke\n      if (strokeStyles.style === LineStyle.DASH) {\n        ctx.setLineDash(strokeStyles.dashValue)\n      }\n      ctx.lineWidth = strokeStyles.size\n      ctx.strokeStyle = strokeStyles.color\n      strokeFill = renderCloseStrokePath\n    }\n    polygons.forEach(coordinates => {\n      if (coordinates.length > 0) {\n        strokeFill(ctx, coordinates)\n      }\n    })\n    ctx.restore()\n  }\n\n  /**\n   * ÁîªÂúÜÂºß\n   * @param ctx\n   * @param arcs\n   * @param styles\n   * @param defaultStyles\n   * @private\n   */\n  _drawArcs (ctx, arcs, styles, defaultStyles) {\n    ctx.save()\n    if (styles.style === StrokeFillStyle.FILL) {\n      ctx.fillStyle = (styles.fill || defaultStyles.fill).color\n    } else {\n      const strokeStyles = styles.stroke || defaultStyles.stroke\n      if (strokeStyles.style === LineStyle.DASH) {\n        ctx.setLineDash(strokeStyles.dashValue)\n      }\n      ctx.lineWidth = strokeStyles.size\n      ctx.strokeStyle = strokeStyles.color\n    }\n    arcs.forEach(({ x, y, radius, startAngle, endAngle }) => {\n      ctx.beginPath()\n      ctx.arc(x, y, radius, startAngle, endAngle)\n      if (styles.style === StrokeFillStyle.FILL) {\n        ctx.closePath()\n        ctx.fill()\n      } else {\n        ctx.stroke()\n        ctx.closePath()\n      }\n    })\n    ctx.restore()\n  }\n\n  /**\n   * ÁªòÂà∂ÊñáÂ≠ó\n   * @param ctx\n   * @param texts\n   * @param styles\n   * @param defaultStyles\n   * @private\n   */\n  _drawText (ctx, texts, styles, defaultStyles) {\n    ctx.save()\n    let fillStroke\n    if (styles.style === StrokeFillStyle.STROKE) {\n      ctx.strokeStyle = styles.color || defaultStyles.color\n      fillStroke = ctx.strokeText\n    } else {\n      ctx.fillStyle = styles.color || defaultStyles.color\n      fillStroke = ctx.fillText\n    }\n    ctx.font = createFont(\n      styles.size || defaultStyles.size,\n      styles.weight || defaultStyles.weight,\n      styles.family || defaultStyles.family\n    )\n    const offset = styles.offset || defaultStyles.offset || [0, 0]\n    texts.forEach(({ x, y, text }) => {\n      fillStroke.call(\n        ctx,\n        text,\n        x + offset[1],\n        y + offset[0]\n      )\n    })\n    ctx.restore()\n  }\n\n  /**\n   * ÁªòÂà∂\n   * @param ctx\n   */\n  draw (ctx) {\n    this._coordinates = this._points.map(({ timestamp, value, dataIndex }) => {\n      return {\n        x: this._timestampOrDataIndexToCoordinateX({ timestamp, dataIndex }),\n        y: this._yAxis.convertToPixel(value)\n      }\n    })\n    const shapeOptions = this._styles || this._chartStore.styleOptions().shape\n    if (this._drawStep !== SHAPE_DRAW_STEP_START && this._coordinates.length > 0) {\n      const viewport = { width: this._xAxis.width(), height: this._yAxis.height() }\n      const precision = { price: this._chartStore.pricePrecision(), volume: this._chartStore.volumePrecision() }\n      this._shapeDataSources = this.createShapeDataSource({\n        step: this._drawStep,\n        mode: this._mode,\n        points: this._points,\n        coordinates: this._coordinates,\n        viewport: { width: this._xAxis.width(), height: this._yAxis.height() },\n        precision: { price: this._chartStore.pricePrecision(), volume: this._chartStore.volumePrecision() },\n        styles: shapeOptions,\n        xAxis: this._xAxis,\n        yAxis: this._yAxis,\n        data: this._data\n      }) || []\n      this._shapeDataSources.forEach(({ type, isDraw, styles, dataSource = [] }) => {\n        if (isDraw) {\n          switch (type) {\n            case ShapeElementType.LINE: {\n              this._drawLines(ctx, dataSource, styles || shapeOptions.line, shapeOptions.line)\n              break\n            }\n            case ShapeElementType.CONTINUOUS_LINE: {\n              this._drawContinuousLines(ctx, dataSource, styles || shapeOptions.line, shapeOptions.line)\n              break\n            }\n            case ShapeElementType.POLYGON: {\n              this._drawPolygons(ctx, dataSource, styles || shapeOptions.polygon, shapeOptions.polygon)\n              break\n            }\n            case ShapeElementType.ARC: {\n              this._drawArcs(ctx, dataSource, styles || shapeOptions.arc, shapeOptions.arc)\n              break\n            }\n            case ShapeElementType.TEXT: {\n              this._drawText(ctx, dataSource, styles || shapeOptions.text, shapeOptions.text)\n              break\n            }\n            default: { break }\n          }\n        }\n      })\n      if (this.drawExtend) {\n        ctx.save()\n        this.drawExtend({\n          ctx,\n          dataSource: this._shapeDataSources,\n          styles: shapeOptions,\n          viewport,\n          precision,\n          mode: this._mode,\n          xAxis: this._xAxis,\n          yAxis: this._yAxis,\n          data: this._data\n        })\n        ctx.restore()\n      }\n    }\n    const shapeEventOperate = this._chartStore.shapeStore().eventOperate()\n    if (\n      (shapeEventOperate.hover.id === this._id && shapeEventOperate.hover.element !== ShapeEventOperateElement.NONE) ||\n      (shapeEventOperate.click.id === this._id && shapeEventOperate.click.element !== ShapeEventOperateElement.NONE) ||\n      this.isDrawing()\n    ) {\n      this._coordinates.forEach(({ x, y }, index) => {\n        let radius = shapeOptions.point.radius\n        let color = shapeOptions.point.backgroundColor\n        let borderColor = shapeOptions.point.borderColor\n        let borderSize = shapeOptions.point.borderSize\n        if (\n          shapeEventOperate.hover.id === this._id &&\n          shapeEventOperate.hover.element === ShapeEventOperateElement.POINT &&\n          index === shapeEventOperate.hover.elementIndex\n        ) {\n          radius = shapeOptions.point.activeRadius\n          color = shapeOptions.point.activeBackgroundColor\n          borderColor = shapeOptions.point.activeBorderColor\n          borderSize = shapeOptions.point.activeBorderSize\n        }\n        renderFillCircle(ctx, borderColor, { x, y }, radius + borderSize)\n        renderFillCircle(ctx, color, { x, y }, radius)\n      })\n    }\n  }\n\n  /**\n   * ËÆæÁΩÆÊòØÂê¶ÈîÅÂÆö\n   * @param lock\n   */\n  setLock (lock) {\n    this._lock = lock\n  }\n\n  /**\n   * Ëé∑ÂèñÂêçÂ≠ó\n   * @return {*}\n   */\n  name () {\n    return this._name\n  }\n\n  /**\n   * ÊòØÂê¶ÈîÅÂÆö\n   * @return {*}\n   */\n  lock () {\n    return this._lock\n  }\n\n  /**\n   * ÊÄªÊ≠•È™§Êï∞\n   * @return {*}\n   */\n  totalStep () {\n    return this._totalStep\n  }\n\n  /**\n   * Ëé∑ÂèñÊ®°ÂºèÁ±ªÂûã\n   * @returns\n   */\n  mode () {\n    return this._mode\n  }\n\n  /**\n   * ËÆæÁΩÆÊ®°Âºè\n   * @param mode\n   */\n  setMode (mode) {\n    if (Object.values(ShapeMode).indexOf(mode) > -1) {\n      this._mode = mode\n    }\n  }\n\n  /**\n   * ËÆæÁΩÆÊï∞ÊçÆ\n   * @param data\n   */\n  setData (data) {\n    if (data !== undefined && data !== this._data) {\n      this._data = data\n      return true\n    }\n    return false\n  }\n\n  /**\n   * Ëé∑ÂèñÊï∞ÊçÆ\n   * @returns\n   */\n  data () {\n    return this._data\n  }\n\n  /**\n   * ÊòØÂê¶Âú®ÁªòÂà∂‰∏≠\n   * @return {boolean}\n   */\n  isDrawing () {\n    return this._drawStep !== SHAPE_DRAW_STEP_FINISHED\n  }\n\n  /**\n   * ÊòØÂê¶ÂºÄÂßã\n   * @returns\n   */\n  isStart () {\n    return this._drawStep === SHAPE_DRAW_STEP_START\n  }\n\n  /**\n   * Ê£ÄÊü•‰∫ã‰ª∂ÁÇπÊòØÂê¶Âú®ÂõæÂΩ¢‰∏ä\n   * @param eventCoordinate\n   * @return {{id: *, elementIndex: number, element: string}}\n   */\n  checkEventCoordinateOn (eventCoordinate) {\n    const shapeOptions = this._styles || this._chartStore.styleOptions().shape\n    // Ê£ÄÊü•Èº†Ê†áÁÇπÊòØÂê¶Âú®ÂõæÂΩ¢ÁöÑÁÇπ‰∏ä\n    const start = this._coordinates.length - 1\n    for (let i = start; i > -1; i--) {\n      if (checkCoordinateInCircle(this._coordinates[i], shapeOptions.point.radius, eventCoordinate)) {\n        return {\n          id: this._id,\n          element: ShapeEventOperateElement.POINT,\n          elementIndex: i,\n          instance: this\n        }\n      }\n    }\n    // Ê£ÄÊü•Èº†Ê†áÁÇπÊòØÂê¶Âú®ÁÇπÊûÑÊàêÁöÑÂÖ∂ÂÆÉÂõæÂΩ¢‰∏ä\n    if (this._shapeDataSources) {\n      for (const { key, type, isCheck, dataSource = [] } of this._shapeDataSources) {\n        if (isCheck) {\n          for (let i = 0; i < dataSource.length; i++) {\n            const sources = dataSource[i]\n            if (this.checkEventCoordinateOnShape({ key, type, dataSource: sources, eventCoordinate })) {\n              return {\n                id: this._id,\n                element: ShapeEventOperateElement.OTHER,\n                elementIndex: i,\n                instance: this\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * ‰∏çÂêåÁöÑÊ®°Âºè‰∏ãÂ§ÑÁêÜÂÄº\n   * @param value\n   * @param dataIndex\n   * @param paneId\n   */\n  _performValue (y, dataIndex, paneId) {\n    const value = this._yAxis.convertFromPixel(y)\n    if (this._mode === ShapeMode.NORMAL || paneId !== 'candle_pane') {\n      return value\n    }\n    const kLineData = this._chartStore.timeScaleStore().getDataByDataIndex(dataIndex)\n    if (!kLineData) {\n      return value\n    }\n    if (value > kLineData.high) {\n      if (this._mode === ShapeMode.WEAK_MAGNET) {\n        const highY = this._yAxis.convertToPixel(kLineData.high)\n        const buffValue = this._yAxis.convertFromPixel(highY - 8)\n        if (value < buffValue) {\n          return kLineData.high\n        }\n        return value\n      }\n      return kLineData.high\n    }\n    if (value < kLineData.low) {\n      if (this._mode === ShapeMode.WEAK_MAGNET) {\n        const lowY = this._yAxis.convertToPixel(kLineData.low)\n        const buffValue = this._yAxis.convertFromPixel(lowY - 8)\n        if (value > buffValue) {\n          return kLineData.low\n        }\n        return value\n      }\n      return kLineData.low\n    }\n    const max = Math.max(kLineData.open, kLineData.close)\n    if (value > max) {\n      if (value - max < kLineData.high - value) {\n        return max\n      }\n      return kLineData.high\n    }\n    const min = Math.min(kLineData.open, kLineData.close)\n    if (value < min) {\n      if (value - kLineData.low < min - value) {\n        return kLineData.low\n      }\n      return min\n    }\n    if (max - value < value - min) {\n      return max\n    }\n    return min\n  }\n\n  /**\n   * ÁªòÂà∂ËøáÁ®ã‰∏≠Èº†Ê†áÁßªÂä®‰∫ã‰ª∂\n   * @param coordinate\n   * @param event\n   */\n  mouseMoveForDrawing (coordinate, event) {\n    const dataIndex = this._xAxis.convertFromPixel(coordinate.x)\n    const timestamp = this._chartStore.timeScaleStore().dataIndexToTimestamp(dataIndex)\n    const value = this._performValue(coordinate.y, dataIndex, event.paneId)\n    this._points[this._drawStep - 1] = { timestamp, value, dataIndex }\n    this.performEventMoveForDrawing({\n      step: this._drawStep,\n      mode: this._mode,\n      points: this._points,\n      movePoint: { timestamp, value, dataIndex },\n      xAxis: this._xAxis,\n      yAxis: this._yAxis\n    })\n    this.onDrawing({ id: this._id, step: this._drawStep, points: this._points })\n  }\n\n  /**\n   * Èº†Ê†áÂ∑¶ËæπÊåâÈíÆÁÇπÂáª‰∫ã‰ª∂\n   */\n  mouseLeftButtonDownForDrawing () {\n    if (this._drawStep === this._totalStep - 1) {\n      this._drawStep = SHAPE_DRAW_STEP_FINISHED\n      this._chartStore.shapeStore().progressInstanceComplete()\n      this.onDrawEnd({ id: this._id, points: this._points })\n    } else {\n      this._drawStep++\n    }\n  }\n\n  /**\n   * Èº†Ê†áÊåâ‰ΩèÁßªÂä®ÊñπÊ≥ï\n   * @param coordinate\n   * @param event\n   */\n  mousePressedPointMove (coordinate, event) {\n    const shapeEventOperate = this._chartStore.shapeStore().eventOperate()\n    const elementIndex = shapeEventOperate.click.elementIndex\n    if (\n      !this._lock &&\n      shapeEventOperate.click.id === this._id &&\n      shapeEventOperate.click.element === ShapeEventOperateElement.POINT &&\n      elementIndex !== -1\n    ) {\n      const dataIndex = this._xAxis.convertFromPixel(coordinate.x)\n      const timestamp = this._chartStore.timeScaleStore().dataIndexToTimestamp(dataIndex)\n      const value = this._performValue(coordinate.y, dataIndex, event.paneId)\n      this._points[elementIndex].timestamp = timestamp\n      this._points[elementIndex].dataIndex = dataIndex\n      this._points[elementIndex].value = value\n      this.performEventPressedMove({\n        points: this._points,\n        mode: this._mode,\n        pressPointIndex: elementIndex,\n        pressPoint: { dataIndex, timestamp, value },\n        xAxis: this._xAxis,\n        yAxis: this._yAxis\n      })\n      this.onPressedMove({\n        id: this._id,\n        element: ShapeEventOperateElement.POINT,\n        points: this._points,\n        event\n      })\n    }\n  }\n\n  /**\n   * Êåâ‰ΩèÈùûÁÇπÊãñÂä®ÂºÄÂßã‰∫ã‰ª∂\n   * @param coordinate\n   */\n  startPressedOtherMove (coordinate) {\n    const dataIndex = this._xAxis.convertFromPixel(coordinate.x)\n    const value = this._yAxis.convertFromPixel(coordinate.y)\n    this._prevPressPoint = { dataIndex, value }\n    this._prevPoints = clone(this._points)\n  }\n\n  /**\n   * Êåâ‰ΩèÈùûÁÇπÊãñÂä®Êó∂‰∫ã‰ª∂\n   * @param coordinate\n   */\n  mousePressedOtherMove (coordinate, event) {\n    if (!this._lock && this._prevPressPoint) {\n      const dataIndex = this._xAxis.convertFromPixel(coordinate.x)\n      const value = this._yAxis.convertFromPixel(coordinate.y)\n      const difDataIndex = dataIndex - this._prevPressPoint.dataIndex\n      const difValue = value - this._prevPressPoint.value\n      this._points = this._prevPoints.map(point => {\n        // Èò≤Ê≠¢Âõ†‰∏∫ÂàõÂª∫Êó∂‰º†ÂÖ•ËøõÊù•ÁöÑpointÊ≤°ÊúâdataIndexÔºåÂØºËá¥Êó†Ê≥ïËÆ°ÁÆóÊó∂Èó¥Êà≥ÈóÆÈ¢ò\n        if (!isValid(point.dataIndex)) {\n          point.dataIndex = this._chartStore.timeScaleStore().timestampToDataIndex(point.timestamp)\n        }\n        const dataIndex = point.dataIndex + difDataIndex\n        const value = point.value + difValue\n        return {\n          dataIndex,\n          value,\n          timestamp: this._chartStore.timeScaleStore().dataIndexToTimestamp(dataIndex)\n        }\n      })\n      this.onPressedMove({\n        id: this._id,\n        element: ShapeEventOperateElement.OTHER,\n        points: this._points,\n        event\n      })\n    }\n  }\n\n  // -------------------- ‰∫ã‰ª∂ÂºÄÂßã -------------------\n\n  /**\n   * ÂºÄÂßãÁªòÂà∂‰∫ã‰ª∂ÂõûË∞É\n   * @param id\n   */\n  onDrawStart ({ id }) {}\n\n  /**\n   * ÁªòÂà∂ËøáÁ®ã‰∏≠‰∫ã‰ª∂ÂõûË∞É\n   * @param id\n   * @param step\n   * @param points\n   */\n  onDrawing ({ id, step, points }) {}\n\n  /**\n   * ÁªòÂà∂ÁªìÊùü‰∫ã‰ª∂ÂõûË∞É\n   * @param id\n   * @param points\n   */\n  onDrawEnd ({ id, points }) {}\n\n  /**\n   * Êåâ‰ΩèÁßªÂä®‰∫ã‰ª∂\n   * @param id\n   * @param points\n   * @param event\n   */\n  onPressedMove ({ id, points, event }) {}\n\n  /**\n   * ÁßªÈô§‰∫ã‰ª∂ÂõûË∞É\n   * @param id\n   */\n  onRemove ({ id }) {}\n\n  // -------------------- ‰∫ã‰ª∂ÁªìÊùü -------------------\n\n  // --------------------- Ëá™ÂÆö‰πâÊó∂ÈúÄË¶ÅÂÆûÁé∞ÁöÑ‰∏Ä‰∫õÊñπÊ≥ïÂºÄÂßã ----------------------\n\n  /**\n   * Ê£ÄÊü•‰∫ã‰ª∂ÂùêÊ†áÊòØÂê¶Âú®ÂõæÂΩ¢‰∏ä\n   * @param key\n   * @param type\n   * @param points\n   * @param mousePoint\n   */\n  checkEventCoordinateOnShape ({ key, type, dataSource, eventCoordinate }) {}\n\n  /**\n   * ÂàõÂª∫ÂõæÂΩ¢ÈÖçÁΩÆ\n   * @param step\n   * @param points\n   * @param coordinates\n   * @param viewport\n   * @param precision\n   * @param xAxis\n   * @param yAxis\n   */\n  createShapeDataSource ({ step, mode, points, coordinates, viewport, precision, styles, xAxis, yAxis, data }) {}\n\n  /**\n   * Â§ÑÁêÜÁªòÂà∂ËøáÁ®ã‰∏≠Èº†Ê†áÁßªÂä®\n   * @param step\n   * @param mode\n   * @param points\n   * @param point\n   * @param xAxis\n   * @param yAxis\n   */\n  performEventMoveForDrawing ({ step, mode, points, movePoint, xAxis, yAxis }) {}\n\n  /**\n   * Â§ÑÁêÜÈº†Ê†áÊåâ‰ΩèÁßªÂä®\n   * @param mode\n   * @param points\n   * @param pressPointIndex\n   * @param point\n   * @param xAxis\n   * @param yAxis\n   */\n  performEventPressedMove ({ mode, points, pressPointIndex, pressPoint, xAxis, yAxis }) {}\n\n  // --------------------- Ëá™ÂÆö‰πâÊó∂ÈúÄË¶ÅÂÆûÁé∞ÁöÑ‰∏Ä‰∫õÊñπÊ≥ïÁªìÊùü ----------------------\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Âà∑Êñ∞Â±ÇÁ∫ß\n * @type {{OVERLAY: number, MAIN: number, NONE: number, FULL: number}}\n */\nconst InvalidateLevel = {\n  NONE: 0,\n  OVERLAY: 1,\n  MAIN: 2,\n  FULL: 3\n}\n\nexport default InvalidateLevel\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport extension from './extension'\n\nimport { isNumber, isFunction, isValid } from '../utils/typeChecks'\nimport { logWarn } from '../utils/logger'\n\nimport Shape, { ShapeEventOperateElement } from '../component/overlay/Shape'\n\nimport InvalidateLevel from '../enum/InvalidateLevel'\n\nexport default class ShapeStore {\n  constructor (chartStore) {\n    this._chartStore = chartStore\n    // ÂõæÂΩ¢Ê†áËÆ∞Êò†Â∞Ñ\n    this._templates = this._createTemplates()\n    // ÂõæÂΩ¢Ê†áËÆ∞Èº†Ê†áÊìç‰Ωú‰ø°ÊÅØ\n    this._eventOperate = {\n      click: {\n        id: '',\n        element: ShapeEventOperateElement.NONE,\n        elementIndex: -1\n      },\n      hover: {\n        id: '',\n        element: ShapeEventOperateElement.NONE,\n        elementIndex: -1\n      }\n    }\n    // ËøõË°å‰∏≠ÁöÑÂÆû‰æã\n    this._progressInstance = null\n    // ‰∫ã‰ª∂Êåâ‰ΩèÁöÑÁ§∫‰æã\n    this._pressedInstance = null\n    // ÂõæÂΩ¢ÂÆû‰æã\n    this._instances = new Map()\n  }\n\n  /**\n   * ÂàõÂª∫Ê®°Êùø\n   * @returns\n   */\n  _createTemplates () {\n    const templates = {}\n    const extensions = extension.shapeExtensions\n    for (const name in extensions) {\n      const TemplateClass = this._createTemplateClass(extensions[name])\n      if (TemplateClass) {\n        templates[name] = TemplateClass\n      }\n    }\n    return templates\n  }\n\n  /**\n   * ÂàõÂª∫Ê®°ÊùøÁ±ª\n   * @param name\n   * @param totalStep\n   * @param checkEventCoordinateOnShape\n   * @param createShapeDataSource\n   * @param performEventPressedMove\n   * @param performEventMoveForDrawing\n   * @param drawExtend\n   * @return\n   */\n  _createTemplateClass ({\n    name, totalStep,\n    checkEventCoordinateOnShape,\n    createShapeDataSource,\n    performEventPressedMove,\n    performEventMoveForDrawing,\n    drawExtend\n  }) {\n    if (\n      !name ||\n      !isNumber(totalStep) ||\n      !isFunction(checkEventCoordinateOnShape) ||\n      !isFunction(createShapeDataSource)\n    ) {\n      logWarn('', '', 'Required attribute \"name\" and \"totalStep\", method \"checkEventCoordinateOnShape\" and \"createShapeDataSource\", new shape cannot be generated!!!')\n      return null\n    }\n    class Template extends Shape {\n      constructor ({\n        id, chartStore, xAxis, yAxis, points, styles, lock, mode, data\n      }) {\n        super({\n          id, name, totalStep, chartStore, xAxis, yAxis, points, styles, lock, mode, data\n        })\n      }\n    }\n    Template.prototype.checkEventCoordinateOnShape = checkEventCoordinateOnShape\n    Template.prototype.createShapeDataSource = createShapeDataSource\n    if (isFunction(performEventPressedMove)) {\n      Template.prototype.performEventPressedMove = performEventPressedMove\n    }\n    if (isFunction(performEventMoveForDrawing)) {\n      Template.prototype.performEventMoveForDrawing = performEventMoveForDrawing\n    }\n    if (isFunction(drawExtend)) {\n      Template.prototype.drawExtend = drawExtend\n    }\n    return Template\n  }\n\n  /**\n   * Ê∑ªÂä†Ëá™ÂÆö‰πâÊ†áËÆ∞ÂõæÂΩ¢\n   * @param templates\n   */\n  addTemplate (templates) {\n    templates.forEach(tmp => {\n      const Template = this._createTemplateClass(tmp)\n      if (Template) {\n        this._templates[tmp.name] = Template\n      }\n    })\n  }\n\n  /**\n   * Ëé∑ÂèñÂõæÂΩ¢Ê†áËÆ∞Ê®°ÊùøÁ±ª\n   * @param name\n   * @return {*}\n   */\n  getTemplate (name) {\n    return this._templates[name]\n  }\n\n  /**\n   * Ëé∑ÂèñÂÆû‰æã\n   * @param shapeId\n   * @returns\n   */\n  getInstance (shapeId) {\n    for (const entry of this._instances) {\n      const shape = (entry[1] || []).find(s => s.id() === shapeId)\n      if (shape) {\n        return shape\n      }\n    }\n    return null\n  }\n\n  /**\n   * ÊòØÂê¶ÊúâÂÆû‰æã\n   * @param shapeId\n   * @returns\n   */\n  hasInstance (shapeId) {\n    return !!this.getInstance(shapeId)\n  }\n\n  /**\n   * Ê∑ªÂä†Ê†áËÆ∞ÂÆû‰æã\n   * @param instance\n   * @param paneId\n   */\n  addInstance (instance, paneId) {\n    if (instance.isDrawing()) {\n      this._progressInstance = { paneId, instance, fixed: isValid(paneId) }\n    } else {\n      if (!this._instances.has(paneId)) {\n        this._instances.set(paneId, [])\n      }\n      this._instances.get(paneId).push(instance)\n    }\n    this._chartStore.invalidate(InvalidateLevel.OVERLAY)\n  }\n\n  /**\n   * Ëé∑ÂèñËøõË°å‰∏≠ÁöÑÂÆû‰æã\n   * @returns\n   */\n  progressInstance () {\n    return this._progressInstance || {}\n  }\n\n  /**\n   * ËøõË°å‰∏≠ÁöÑÂÆû‰æãÂÆåÊàê\n   */\n  progressInstanceComplete () {\n    const { instance, paneId } = this.progressInstance()\n    if (instance && !instance.isDrawing()) {\n      if (!this._instances.has(paneId)) {\n        this._instances.set(paneId, [])\n      }\n      this._instances.get(paneId).push(instance)\n      this._progressInstance = null\n    }\n  }\n\n  /**\n   * Êõ¥Êñ∞ËøõË°å‰∏≠ÁöÑÂÆû‰æã\n   * @param yAxis\n   * @param paneId\n   */\n  updateProgressInstance (yAxis, paneId) {\n    const { instance, fixed } = this.progressInstance()\n    if (instance && !fixed) {\n      instance.setYAxis(yAxis)\n      this._progressInstance.paneId = paneId\n    }\n  }\n\n  /**\n   * Ëé∑ÂèñÊåâ‰ΩèÁöÑÂÆû‰æã\n   * @returns\n   */\n  pressedInstance () {\n    return this._pressedInstance || {}\n  }\n\n  /**\n   * Êõ¥Êñ∞‰∫ã‰ª∂Êåâ‰ΩèÁöÑÂÆû‰æã\n   * @param instance\n   * @param paneId\n   * @param element\n   */\n  updatePressedInstance (instance, paneId, element) {\n    if (instance) {\n      this._pressedInstance = { instance, paneId, element }\n    } else {\n      this._pressedInstance = null\n    }\n  }\n\n  /**\n   * Ëé∑ÂèñÂõæÂΩ¢Ê†áËÆ∞ÁöÑÊï∞ÊçÆ\n   * @param paneId\n   * @returns {{}}\n   */\n  instances (paneId) {\n    return this._instances.get(paneId) || []\n  }\n\n  /**\n   * ËÆæÁΩÆÂõæÂΩ¢Ê†áËÆ∞ÂÆû‰æãÈÖçÁΩÆ\n   * @param options\n   */\n  setInstanceOptions (options = {}) {\n    const { id, styles, lock, mode, data, points } = options\n    const defaultStyles = this._chartStore.styleOptions().shape\n    let shouldInvalidate = false\n    const apply = instance => {\n      instance.setLock(lock)\n      instance.setMode(mode)\n      if (instance.setStyles(styles, defaultStyles) || instance.setData(data) || instance.setPoints(points)) {\n        shouldInvalidate = true\n      }\n    }\n    if (isValid(id)) {\n      const instance = this.getInstance(id)\n      instance && apply(instance)\n    } else {\n      this._instances.forEach(instance => instance.forEach(apply))\n    }\n    if (shouldInvalidate) {\n      this._chartStore.invalidate(InvalidateLevel.OVERLAY)\n    }\n  }\n\n  /**\n   * Ëé∑ÂèñÂõæÂΩ¢Ê†áËÆ∞‰ø°ÊÅØ\n   * @param id\n   * @return {{name, lock: *, styles, id, points: (*|*[])}[]|{name, lock: *, styles, id, points: (*|*[])}}\n   */\n  getInstanceInfo (shapeId) {\n    const create = (instance) => {\n      return {\n        name: instance.name(),\n        id: instance.id(),\n        totalStep: instance.totalStep(),\n        lock: instance.lock(),\n        mode: instance.mode(),\n        points: instance.points(),\n        styles: instance.styles(),\n        data: instance.data()\n      }\n    }\n    const progressInstance = this.progressInstance()\n    if (isValid(shapeId)) {\n      if (progressInstance.instance && progressInstance.instance.id() === shapeId) {\n        return create(progressInstance.instance)\n      }\n      const shape = this.getInstance(shapeId)\n      if (shape) {\n        return create(shape)\n      }\n    } else {\n      const infos = {}\n      this._instances.forEach((shapes, paneId) => {\n        infos[paneId] = shapes.map(shape => create(shape))\n        if (progressInstance.paneId === paneId && progressInstance.instance) {\n          infos[paneId].push(create(progressInstance.instance))\n        }\n      })\n      return infos\n    }\n    return null\n  }\n\n  /**\n   * ÁßªÈô§ÂõæÂΩ¢ÂÆû‰æã\n   * @param shapeId ÂèÇÊï∞\n   * @param isProgress\n   */\n  removeInstance (shapeId) {\n    let shouldInvalidate = false\n    const progressInstance = this.progressInstance().instance\n    if (progressInstance && (!isValid(shapeId) || progressInstance.id() === shapeId)) {\n      progressInstance.onRemove({ id: progressInstance.id() })\n      this._progressInstance = null\n      shouldInvalidate = true\n    }\n    if (isValid(shapeId)) {\n      for (const entry of this._instances) {\n        const shapes = entry[1] || []\n        const removeIndex = shapes.findIndex(shape => shape.id() === shapeId)\n        if (removeIndex > -1) {\n          shapes[removeIndex].onRemove({ id: shapes[removeIndex].id() })\n          shapes.splice(removeIndex, 1)\n          if (shapes.length === 0) {\n            this._instances.delete(entry[0])\n          }\n          shouldInvalidate = true\n          break\n        }\n      }\n    } else {\n      this._instances.forEach(shapes => {\n        if (shapes.length > 0) {\n          shapes.forEach(shape => {\n            shape.onRemove({ id: shape.id() })\n          })\n        }\n      })\n      this._instances.clear()\n      shouldInvalidate = true\n    }\n    if (shouldInvalidate) {\n      this._chartStore.invalidate(InvalidateLevel.OVERLAY)\n    }\n  }\n\n  /**\n   * Ëé∑ÂèñÂõæÂΩ¢Ê†áËÆ∞Êìç‰Ωú‰ø°ÊÅØ\n   * @return {{hover: {id: string, elementIndex: number, element: string}, click: {id: string, elementIndex: number, element: string}}}\n   */\n  eventOperate () {\n    return this._eventOperate\n  }\n\n  /**\n   * ËÆæÁΩÆ‰∫ã‰ª∂Êìç‰Ωú‰ø°ÊÅØ\n   * @param operate\n   * @return\n   */\n  setEventOperate (operate) {\n    const { hover, click } = this._eventOperate\n    let hoverSuccess\n    if (operate.hover &&\n      (hover.id !== operate.hover.id || hover.element !== operate.hover.element || hover.elementIndex !== operate.hover.elementIndex)\n    ) {\n      this._eventOperate.hover = { ...operate.hover }\n      hoverSuccess = true\n    }\n    let clickSuccess\n    if (operate.click &&\n      (click.id !== operate.click.id || click.element !== operate.click.element || click.elementIndex !== operate.click.elementIndex)\n    ) {\n      this._eventOperate.click = { ...operate.click }\n      clickSuccess = true\n    }\n    return hoverSuccess || clickSuccess\n  }\n\n  /**\n   * ÊòØÂê¶‰∏∫Á©∫\n   * @returns\n   */\n  isEmpty () {\n    return this._instances.size === 0 && !this.progressInstance().instance\n  }\n\n  /**\n   * ÊòØÂê¶Ê≠£Âú®ÁªòÂà∂\n   * @return\n   */\n  isDrawing () {\n    const instance = this.progressInstance().instance\n    return instance && instance.isDrawing()\n  }\n\n  /**\n   * ÊòØÂê¶Êåâ‰Ωè\n   * @returns\n   */\n  isPressed () {\n    return !!this.pressedInstance().instance\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isValid } from '../utils/typeChecks'\n\nimport InvalidateLevel from '../enum/InvalidateLevel'\n\nexport default class AnnotationStore {\n  constructor (chartStore) {\n    this._chartStore = chartStore\n    // Ê≥®Ëß£Ê†áËÆ∞\n    this._annotations = new Map()\n    // Ê≥®Ëß£Ê†áËÆ∞\n    this._visibleAnnotations = new Map()\n    // Ê≥®Ëß£‰∫ã‰ª∂Êìç‰Ωú‰ø°ÊÅØ\n    this._eventOperate = { id: '' }\n  }\n\n  /**\n   * Ëé∑ÂèñÊ≥®Ëß£‰∫ã‰ª∂Êìç‰Ωú‰ø°ÊÅØ\n   * @return {null}\n   */\n  eventOperate () {\n    return this._eventOperate\n  }\n\n  /**\n   * ËÆæÁΩÆ‰∫ã‰ª∂Êìç‰Ωú‰ø°ÊÅØ\n   * @param operate\n   */\n  setEventOperate (operate) {\n    const { id } = this._eventOperate\n    if (operate && id !== operate.id) {\n      this._eventOperate = { ...operate }\n    }\n  }\n\n  /**\n   * ÂàõÂª∫ÂèØËßÅÁöÑÊ≥®Ëß£Êï∞ÊçÆ\n   */\n  createVisibleAnnotations () {\n    this._visibleAnnotations.clear()\n    if (this._annotations.size > 0) {\n      this._chartStore.visibleDataList().forEach(({ data, x }) => {\n        this._annotations.forEach((annotations, paneId) => {\n          if (annotations.size > 0) {\n            const annotation = annotations.get(data.timestamp) || []\n            if (annotation.length > 0) {\n              for (const an of annotation) {\n                an.createSymbolCoordinate(x)\n                if (this._visibleAnnotations.has(paneId)) {\n                  this._visibleAnnotations.get(paneId).push(an)\n                } else {\n                  this._visibleAnnotations.set(paneId, [an])\n                }\n              }\n            }\n          }\n        })\n      })\n    }\n  }\n\n  /**\n   * ÂàõÂª∫Ê≥®Ëß£\n   * @param annotations\n   * @param paneId\n   */\n  add (annotations, paneId) {\n    if (!this._annotations.has(paneId)) {\n      this._annotations.set(paneId, new Map())\n    }\n    annotations.forEach(annotation => {\n      const timestampAnnotations = this._annotations.get(paneId)\n      const timestamp = annotation.points().timestamp\n      if (timestampAnnotations.has(timestamp)) {\n        timestampAnnotations.get(timestamp).push(annotation)\n      } else {\n        timestampAnnotations.set(timestamp, [annotation])\n      }\n    })\n    this.createVisibleAnnotations()\n    this._chartStore.invalidate(InvalidateLevel.OVERLAY)\n  }\n\n  /**\n   * Ëé∑ÂèñÊ≥®Ëß£\n   * @param paneId\n   * @returns\n   */\n  get (paneId) {\n    return this._visibleAnnotations.get(paneId)\n  }\n\n  /**\n   * ÁßªÈô§Ê≥®Ëß£\n   * @param paneId\n   * @param point\n   */\n  remove (paneId, point) {\n    let shouldAdjust = false\n    if (isValid(paneId)) {\n      if (this._annotations.has(paneId)) {\n        if (isValid(point)) {\n          const paneAnnotations = this._annotations.get(paneId)\n          const points = [].concat(point)\n          points.forEach(({ timestamp }) => {\n            if (paneAnnotations.has(timestamp)) {\n              shouldAdjust = true\n              paneAnnotations.delete(timestamp)\n            }\n          })\n          if (paneAnnotations.size === 0) {\n            this._annotations.delete(paneId)\n          }\n          if (shouldAdjust) {\n            this.createVisibleAnnotations()\n          }\n        } else {\n          shouldAdjust = true\n          this._annotations.delete(paneId)\n          this._visibleAnnotations.delete(paneId)\n        }\n      }\n    } else {\n      shouldAdjust = true\n      this._annotations.clear()\n      this._visibleAnnotations.clear()\n    }\n    if (shouldAdjust) {\n      this._chartStore.invalidate(InvalidateLevel.OVERLAY)\n    }\n  }\n\n  /**\n   * ÊòØÂê¶‰∏∫Á©∫\n   * @returns\n   */\n  isEmpty () {\n    return this._visibleAnnotations.size === 0\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isValid } from '../utils/typeChecks'\n\nimport InvalidateLevel from '../enum/InvalidateLevel'\n\nexport default class TagStore {\n  constructor (chartStore) {\n    // Âà∑Êñ∞ÂõûË∞É\n    this._chartStore = chartStore\n    // Ê†áÁ≠æ\n    this._tags = new Map()\n  }\n\n  /**\n   * Ê†πÊçÆidËé∑ÂèñtagÂÆû‰æã\n   * @param id\n   * @param paneId\n   * @returns\n   */\n  _getById (id, paneId) {\n    const tags = this.get(paneId)\n    if (tags) {\n      return tags.get(id)\n    }\n    return null\n  }\n\n  /**\n   * ÊòØÂê¶ÂåÖÂê´Êüê‰∏Ä‰∏™Ê†áÁ≠æ\n   * @param id\n   * @param paneId\n   * @returns\n   */\n  has (id, paneId) {\n    return !!this._getById(id, paneId)\n  }\n\n  /**\n   * Êõ¥Êñ∞tag\n   * @param id\n   * @param paneId\n   * @param options\n   */\n  update (id, paneId, options) {\n    const tag = this._getById(id, paneId)\n    if (tag) {\n      return tag.update(options)\n    }\n    return false\n  }\n\n  /**\n  * Ê†πÊçÆidËé∑ÂèñÊ†áÁ≠æÂÆû‰æã\n  * @param tagId\n  * @param paneId\n  * @return\n  */\n  get (paneId) {\n    return this._tags.get(paneId)\n  }\n\n  /**\n  * Ê∑ªÂä†Ê†áÁ≠æ\n  * @param tags\n  * @param paneId\n  */\n  add (tags, paneId) {\n    if (!this._tags.has(paneId)) {\n      this._tags.set(paneId, new Map())\n    }\n    const idTags = this._tags.get(paneId)\n    tags.forEach(tag => {\n      idTags.set(tag.id(), tag)\n    })\n    this._chartStore.invalidate(InvalidateLevel.OVERLAY)\n  }\n\n  /**\n  * ÁßªÈô§Ê†áÁ≠æ\n  * @param paneId\n  * @param tagId\n  */\n  remove (paneId, tagId) {\n    let shouldInvalidate = false\n    if (isValid(paneId)) {\n      if (this._tags.has(paneId)) {\n        if (isValid(tagId)) {\n          const paneTags = this._tags.get(paneId)\n          const ids = [].concat(tagId)\n          ids.forEach(id => {\n            if (paneTags.has(id)) {\n              shouldInvalidate = true\n              paneTags.delete(id)\n            }\n          })\n          if (paneTags.size === 0) {\n            this._tags.delete(paneId)\n          }\n        } else {\n          shouldInvalidate = true\n          this._tags.delete(paneId)\n        }\n      }\n    } else {\n      shouldInvalidate = true\n      this._tags.clear()\n    }\n    if (shouldInvalidate) {\n      this._chartStore.invalidate(InvalidateLevel.OVERLAY)\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isValid } from '../utils/typeChecks'\n\nimport InvalidateLevel from '../enum/InvalidateLevel'\n\nexport default class CrosshairStore {\n  constructor (chartStore) {\n    this._chartStore = chartStore\n    // ÂçÅÂ≠óÂÖâÊ†á‰ø°ÊÅØ\n    this._crosshair = {}\n  }\n\n  /**\n     * ËÆæÁΩÆÂçÅÂ≠óÂÖâÊ†áÁÇπ‰ø°ÊÅØ\n     * @param crosshair\n     * @param notInvalidate\n     */\n  set (crosshair, notInvalidate) {\n    const dataList = this._chartStore.dataList()\n    const cr = crosshair || {}\n    let realDataIndex\n    let dataIndex\n    if (isValid(cr.x)) {\n      realDataIndex = this._chartStore.timeScaleStore().coordinateToDataIndex(cr.x)\n      if (realDataIndex < 0) {\n        dataIndex = 0\n      } else if (realDataIndex > dataList.length - 1) {\n        dataIndex = dataList.length - 1\n      } else {\n        dataIndex = realDataIndex\n      }\n    } else {\n      realDataIndex = dataList.length - 1\n      dataIndex = realDataIndex\n    }\n    const kLineData = dataList[dataIndex]\n    const realX = this._chartStore.timeScaleStore().dataIndexToCoordinate(realDataIndex)\n    const prevCrosshair = { x: this._crosshair.x, y: this._crosshair.y, paneId: this._crosshair.paneId }\n    this._crosshair = { ...cr, realX, kLineData, realDataIndex, dataIndex }\n    if (kLineData) {\n      this._chartStore.crosshairChange(this._crosshair)\n    }\n    if (\n      (prevCrosshair.x !== cr.x || prevCrosshair.y !== cr.y || prevCrosshair.paneId !== cr.paneId) && !notInvalidate\n    ) {\n      this._chartStore.invalidate(InvalidateLevel.OVERLAY)\n    }\n  }\n\n  /**\n   * ÈáçÊñ∞ËÆ°ÁÆóÂçÅÂ≠óÂÖâÊ†á\n   * @param notInvalidate\n   */\n  recalculate (notInvalidate) {\n    this.set(this._crosshair, notInvalidate)\n  }\n\n  /**\n   * Ëé∑Âèñcrosshair‰ø°ÊÅØ\n   * @returns\n   */\n  get () {\n    return this._crosshair\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { hasAction } from '../enum/ActionType'\n\nclass Delegate {\n  constructor () {\n    this._observers = []\n  }\n\n  subscribe (observer) {\n    if (this._observers.indexOf(observer) < 0) {\n      this._observers.push(observer)\n    }\n  }\n\n  unsubscribe (observer) {\n    const index = this._observers.indexOf(observer)\n    if (index > -1) {\n      this._observers.splice(index, 1)\n    } else {\n      this._observers = []\n    }\n  }\n\n  execute (data) {\n    this._observers.forEach(observer => {\n      observer(data)\n    })\n  }\n\n  hasObservers () {\n    return this._observers.length > 0\n  }\n}\n\nexport default class ActionStore {\n  constructor () {\n    // ‰∫ã‰ª∂‰ª£ÁêÜ\n    this._delegates = new Map()\n  }\n\n  /**\n   * ‰∫ã‰ª∂ÊâßË°å\n   * @param type\n   * @param data\n   */\n  execute (type, data) {\n    if (this.has(type)) {\n      this._delegates.get(type).execute(data)\n    }\n  }\n\n  /**\n   * ÊòØÂê¶Êúâ‰∫ã‰ª∂ÁõëÂê¨\n   * @param type\n   * @return {boolean}\n   */\n  has (type) {\n    return this._delegates.has(type) && this._delegates.get(type).hasObservers()\n  }\n\n  /**\n   * ËÆ¢ÈòÖ‰∫ã‰ª∂\n   * @param type\n   * @param callback\n   * @return {boolean}\n   */\n  subscribe (type, callback) {\n    if (!this._delegates.has(type)) {\n      this._delegates.set(type, new Delegate())\n    }\n    this._delegates.get(type).subscribe(callback)\n  }\n\n  /**\n   * ÂèñÊ∂à‰∫ã‰ª∂ËÆ¢ÈòÖ\n   * @param type\n   * @param callback\n   * @return {boolean}\n   */\n  unsubscribe (type, callback) {\n    if (hasAction(type)) {\n      const delegate = this._delegates.get(type)\n      if (delegate) {\n        delegate.unsubscribe(callback)\n        if (!delegate.hasObservers()) {\n          this._delegates.delete(type)\n        }\n      }\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { isArray, isObject, isBoolean, merge, clone } from '../utils/typeChecks'\nimport { defaultStyleOptions } from '../options/styleOptions'\n\nimport TimeScaleStore from './TimeScaleStore'\nimport TechnicalIndicatorStore from './TechnicalIndicatorStore'\nimport ShapeStore from './ShapeStore'\nimport AnnotationStore from './AnnotationStore'\nimport TagStore from './TagStore'\nimport CrosshairStore from './CrosshairStore'\nimport ActionStore from './ActionStore'\n\nexport default class ChartStore {\n  constructor (styleOptions, handler) {\n    // ÊåÅÊúâËÄÖ\n    this._handler = handler\n    // Ê†∑ÂºèÈÖçÁΩÆ\n    this._styleOptions = clone(defaultStyleOptions)\n    merge(this._styleOptions, styleOptions)\n\n    // ‰ª∑Ê†ºÁ≤æÂ∫¶\n    this._pricePrecision = 2\n    // Êï∞ÈáèÁ≤æÂ∫¶\n    this._volumePrecision = 0\n\n    // Êï∞ÊçÆÊ∫ê\n    this._dataList = []\n    // ÂèØËßÅÁöÑÊï∞ÊçÆ(ÈúÄË¶ÅÁªòÂà∂ÁöÑÊï∞ÊçÆ)\n    this._visibleDataList = []\n\n    // Ë∞ÉÊï¥paneÊ†áËÆ∞\n    this._dragPaneFlag = false\n\n    // Êó∂Èó¥ËΩ¥Áº©ÊîæÊï∞ÊçÆÂ≠òÂÇ®\n    this._timeScaleStore = new TimeScaleStore(this)\n    // ÊäÄÊúØÊåáÊ†áÊï∞ÊçÆÂ≠òÂÇ®\n    this._technicalIndicatorStore = new TechnicalIndicatorStore(this)\n    // ÂõæÂΩ¢Êï∞ÊçÆÂ≠òÂÇ®\n    this._shapeStore = new ShapeStore(this)\n    // Ê≥®Ëß£Êï∞ÊçÆÂ≠òÂÇ®\n    this._annotationStore = new AnnotationStore(this)\n    // Ê†áÁ≠æÊï∞ÊçÆÂ≠òÂÇ®\n    this._tagStore = new TagStore(this)\n    // ÂçÅÂ≠óÂÖâÊ†áÊï∞ÊçÆÂ≠òÂÇ®\n    this._crosshairStore = new CrosshairStore(this)\n    // ‰∫ã‰ª∂Â≠òÂÇ®\n    this._actionStore = new ActionStore()\n  }\n\n  /**\n   * Ë∞ÉÊï¥ÂèØËßÅÊï∞ÊçÆ\n   */\n  adjustVisibleDataList () {\n    // Â§ÑÁêÜÈúÄË¶ÅÁªòÂà∂ÁöÑÊï∞ÊçÆ\n    this._visibleDataList = []\n    const from = this._timeScaleStore.from()\n    const to = this._timeScaleStore.to()\n    for (let i = from; i < to; i++) {\n      const kLineData = this._dataList[i]\n      const x = this._timeScaleStore.dataIndexToCoordinate(i)\n      this._visibleDataList.push({\n        index: i,\n        x,\n        data: kLineData\n      })\n    }\n    this._annotationStore.createVisibleAnnotations()\n  }\n\n  /**\n   * Ëé∑ÂèñÊ†∑ÂºèÈÖçÁΩÆ\n   * @return {{}}\n   */\n  styleOptions () {\n    return this._styleOptions\n  }\n\n  /**\n   * ËÆæÁΩÆÊ†∑ÂºèÈÖçÁΩÆ\n   * @param options\n   */\n  applyStyleOptions (options) {\n    merge(this._styleOptions, options)\n  }\n\n  /**\n   * ‰ª∑Ê†ºÁ≤æÂ∫¶\n   * @returns {number}\n   */\n  pricePrecision () {\n    return this._pricePrecision\n  }\n\n  /**\n   * Êï∞ÈáèÁ≤æÂ∫¶\n   * @returns {number}\n   */\n  volumePrecision () {\n    return this._volumePrecision\n  }\n\n  /**\n   * ËÆæÁΩÆ‰ª∑Ê†ºÂíåÊï∞ÈáèÁ≤æÂ∫¶\n   * @param pricePrecision\n   * @param volumePrecision\n   */\n  setPriceVolumePrecision (pricePrecision, volumePrecision) {\n    this._pricePrecision = pricePrecision\n    this._volumePrecision = volumePrecision\n    this._technicalIndicatorStore.setSeriesPrecision(pricePrecision, volumePrecision)\n  }\n\n  /**\n   * Ëé∑ÂèñÊï∞ÊçÆÊ∫ê\n   * @returns {[]|*[]}\n   */\n  dataList () {\n    return this._dataList\n  }\n\n  /**\n   * Ëé∑ÂèñÂèØËßÅÊï∞ÊçÆÊ∫ê\n   * @returns {[]|*[]}\n   */\n  visibleDataList () {\n    return this._visibleDataList\n  }\n\n  /**\n   * Ê∑ªÂä†Êï∞ÊçÆ\n   * @param data\n   * @param pos\n   * @param more\n   */\n  addData (data, pos, more) {\n    if (isObject(data)) {\n      if (isArray(data)) {\n        this._timeScaleStore.setLoading(false)\n        this._timeScaleStore.setMore(isBoolean(more) ? more : true)\n        const isFirstAdd = this._dataList.length === 0\n        this._dataList = data.concat(this._dataList)\n        if (isFirstAdd) {\n          this._timeScaleStore.resetOffsetRightSpace()\n        }\n        this._timeScaleStore.adjustFromTo()\n      } else {\n        const dataSize = this._dataList.length\n        if (pos >= dataSize) {\n          this._dataList.push(data)\n          let offsetRightBarCount = this._timeScaleStore.offsetRightBarCount()\n          if (offsetRightBarCount < 0) {\n            this._timeScaleStore.setOffsetRightBarCount(--offsetRightBarCount)\n          }\n          this._timeScaleStore.adjustFromTo()\n        } else {\n          this._dataList[pos] = data\n          this.adjustVisibleDataList()\n        }\n      }\n      this._crosshairStore.recalculate(true)\n    }\n  }\n\n  /**\n   * Ê∏ÖÁ©∫Êï∞ÊçÆÊ∫ê\n   */\n  clearDataList () {\n    this._dataList = []\n    this._visibleDataList = []\n    this._timeScaleStore.clear()\n  }\n\n  /**\n   * Ëé∑ÂèñÊó∂Èó¥Áº©ÊîæÂ≠òÂÇ®\n   * @returns\n   */\n  timeScaleStore () {\n    return this._timeScaleStore\n  }\n\n  /**\n   * Ëé∑ÂèñÊäÄÊúØÊåáÊ†áÂ≠òÂÇ®\n   * @returns\n   */\n  technicalIndicatorStore () {\n    return this._technicalIndicatorStore\n  }\n\n  /**\n   * Ëé∑ÂèñÂõæÂΩ¢Â≠òÂÇ®\n   * @returns\n   */\n  shapeStore () {\n    return this._shapeStore\n  }\n\n  /**\n   * Ëé∑ÂèñÊ≥®Ëß£Â≠òÂÇ®\n   * @returns\n   */\n  annotationStore () {\n    return this._annotationStore\n  }\n\n  /**\n   * Ëé∑ÂèñÊ†áÁ≠æÊï∞ÊçÆÂ≠òÂÇ®\n   * @returns\n   */\n  tagStore () {\n    return this._tagStore\n  }\n\n  /**\n   * Ëé∑ÂèñÂçÅÂ≠óÂÖâÊ†áÊï∞ÊçÆÂ≠òÂÇ®\n   * @returns\n   */\n  crosshairStore () {\n    return this._crosshairStore\n  }\n\n  /**\n   * Ëé∑Âèñ‰∫ã‰ª∂Êï∞ÊçÆÂ≠òÂÇ®\n   * @returns\n   */\n  actionStore () {\n    return this._actionStore\n  }\n\n  /**\n   * Âà∑Êñ∞\n   * @param invalidateLevel\n   */\n  invalidate (invalidateLevel) {\n    this._handler.invalidate(invalidateLevel)\n  }\n\n  /**\n   * ÂçÅÂ≠óÂÖâÊ†áÂèòÂåñ\n   * @param data\n   */\n  crosshairChange (data) {\n    this._handler.crosshair(data)\n  }\n\n  /**\n   * Ëé∑ÂèñÊãñÊãΩPaneÊ†áËÆ∞\n   * @return {boolean}\n   */\n  dragPaneFlag () {\n    return this._dragPaneFlag\n  }\n\n  /**\n   * ËÆæÁΩÆÊãñÊãΩPaneÊ†áËÆ∞\n   * @param flag\n   */\n  setDragPaneFlag (flag) {\n    this._dragPaneFlag = flag\n  }\n}\n","import getPrototypeOf from \"./getPrototypeOf.js\";\nexport default function _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n  return object;\n}","import superPropBase from \"./superPropBase.js\";\nexport default function _get() {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    _get = Reflect.get.bind();\n  } else {\n    _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n      if (desc.get) {\n        return desc.get.call(arguments.length < 3 ? target : receiver);\n      }\n      return desc.value;\n    };\n  }\n  return _get.apply(this, arguments);\n}","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * ÂàõÂª∫‰∏Ä‰∏™ÂÖÉÁ¥†\n * @param name\n * @param styles\n * @return {*}\n */\nexport function createElement (name, styles = {}) {\n  const element = document.createElement(name)\n  for (const key in styles) {\n    if (Object.prototype.hasOwnProperty.call(styles, key)) {\n      (element.style)[key] = styles[key]\n    }\n  }\n  return element\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * ÂÆπÂô®‰ΩçÁΩÆ\n */\nconst ContainerPosition = {\n  ROOT: 'root',\n  CONTENT: 'content',\n  YAXIS: 'yAxis'\n}\n\nexport default ContainerPosition\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getPixelRatio } from '../utils/canvas'\nimport { createElement } from '../utils/element'\n\nimport ContainerPosition from '../enum/ContainerPosition'\n\nexport default class Pane {\n  constructor (props) {\n    this._height = -1\n    this._container = props.container\n    this._chartStore = props.chartStore\n    this._initBefore(props)\n    this._initElement()\n    this._mainWidget = this._createMainWidget(this._element, props)\n    this._yAxisWidget = this._createYAxisWidget(this._element, props)\n  }\n\n  _initBefore (props) {}\n\n  _initElement () {\n    this._element = createElement('div', {\n      width: '100%',\n      margin: '0',\n      padding: '0',\n      position: 'relative',\n      overflow: 'hidden',\n      boxSizing: 'border-box'\n    })\n    const lastElement = this._container.lastChild\n    if (lastElement) {\n      this._container.insertBefore(this._element, lastElement)\n    } else {\n      this._container.appendChild(this._element)\n    }\n  }\n\n  /**\n   * ÂàõÂª∫‰∏ªÁªÑ‰ª∂\n   * @param container\n   * @param props\n   * @private\n   */\n  _createMainWidget (container, props) {}\n\n  /**\n   * ÂàõÂª∫yËΩ¥ÁªÑ‰ª∂\n   * @param container\n   * @param props\n   * @private\n   */\n  _createYAxisWidget (container, props) {}\n\n  /**\n   * Ëé∑ÂèñÂÆπÂô®\n   * @param position\n   * @returns\n   */\n  container (position) {\n    switch (position) {\n      case ContainerPosition.CONTENT: {\n        return this._mainWidget.container()\n      }\n      case ContainerPosition.YAXIS: {\n        return this._yAxisWidget.container()\n      }\n      default: return this._element\n    }\n  }\n\n  /**\n   * Ëé∑ÂèñÂÆΩÂ∫¶\n   * @returns {number}\n   */\n  width () {\n    return this._element.offsetWidth\n  }\n\n  setWidth (mainWidgetWidth, yAxisWidgetWidth) {\n    this._mainWidget.setWidth(mainWidgetWidth)\n    this._yAxisWidget && this._yAxisWidget.setWidth(yAxisWidgetWidth)\n  }\n\n  /**\n   * Ëé∑ÂèñÈ´òÂ∫¶\n   */\n  height () {\n    return this._height\n  }\n\n  /**\n   * ËÆæÁΩÆ‰∏¥Êó∂È´òÂ∫¶\n   * @param height\n   */\n  setHeight (height) {\n    this._height = height\n    this._mainWidget.setHeight(height)\n    this._yAxisWidget && this._yAxisWidget.setHeight(height)\n  }\n\n  setOffsetLeft (mainWidgetOffsetLeft, yAxisWidgetOffsetLeft) {\n    this._mainWidget.setOffsetLeft(mainWidgetOffsetLeft)\n    this._yAxisWidget && this._yAxisWidget.setOffsetLeft(yAxisWidgetOffsetLeft)\n  }\n\n  layout () {\n    if (this._element.offsetHeight !== this._height) {\n      this._element.style.height = `${this._height}px`\n    }\n    this._mainWidget.layout()\n    this._yAxisWidget && this._yAxisWidget.layout()\n  }\n\n  /**\n   * Âà∑Êñ∞\n   * @param level\n   */\n  invalidate (level) {\n    this._yAxisWidget && this._yAxisWidget.invalidate(level)\n    this._mainWidget.invalidate(level)\n  }\n\n  /**\n   * ÂàõÂª∫htmlÂÖÉÁ¥†\n   */\n  createHtml ({ id, content, style, position }) {\n    let htmlId\n    if (position === ContainerPosition.YAXIS) {\n      htmlId = this._yAxisWidget && this._yAxisWidget.createHtml({ id, content, style })\n    } else {\n      htmlId = this._mainWidget.createHtml({ id, content, style })\n    }\n    return htmlId\n  }\n\n  /**\n   * ÁßªÈô§htmlÂÖÉÁ¥†\n   * @param id\n   */\n  removeHtml (id) {\n    this._yAxisWidget && this._yAxisWidget.removeHtml(id)\n    this._mainWidget.removeHtml(id)\n  }\n\n  /**\n   * Â∞ÜcanvasËΩ¨Êç¢ÊàêÂõæÁâá\n   * @param includeOverlay\n   * @return {HTMLCanvasElement}\n   */\n  getImage (includeOverlay) {\n    const width = this._element.offsetWidth\n    const height = this._element.offsetHeight\n    const canvas = createElement('canvas', {\n      width: `${width}px`,\n      height: `${height}px`,\n      boxSizing: 'border-box'\n    })\n    const ctx = canvas.getContext('2d')\n    const pixelRatio = getPixelRatio(canvas)\n    canvas.width = width * pixelRatio\n    canvas.height = height * pixelRatio\n    ctx.scale(pixelRatio, pixelRatio)\n\n    const mainWidgetElement = this._mainWidget.getElement()\n    const mainWidgetWidth = mainWidgetElement.offsetWidth\n    const mainWidgetHeight = mainWidgetElement.offsetHeight\n    const mainWidgetOffsetLeft = parseInt(mainWidgetElement.style.left, 10)\n\n    ctx.drawImage(\n      this._mainWidget.getImage(includeOverlay),\n      mainWidgetOffsetLeft, 0,\n      mainWidgetWidth, mainWidgetHeight\n    )\n    if (this._yAxisWidget) {\n      const yAxisWidgetElement = this._yAxisWidget.getElement()\n      const yAxisWidgetWidth = yAxisWidgetElement.offsetWidth\n      const yAxisWidgetHeight = yAxisWidgetElement.offsetHeight\n      const yAxisWidgetOffsetLeft = parseInt(yAxisWidgetElement.style.left, 10)\n      ctx.drawImage(\n        this._yAxisWidget.getImage(includeOverlay),\n        yAxisWidgetOffsetLeft, 0,\n        yAxisWidgetWidth, yAxisWidgetHeight\n      )\n    }\n    return canvas\n  }\n\n  /**\n   * ÈîÄÊØÅ\n   */\n  destroy () {\n    this._container.removeChild(this._element)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport InvalidateLevel from '../enum/InvalidateLevel'\nimport { getPixelRatio } from '../utils/canvas'\nimport { createElement } from '../utils/element'\nimport { isString } from '../utils/typeChecks'\n\nexport default class Widget {\n  constructor (props) {\n    this._width = 0\n    this._height = 0\n    this._initElement(props.container)\n    this._mainView = this._createMainView(this._element, props)\n    this._overlayView = this._createOverlayView(this._element, props)\n    this._htmlBaseId = 0\n    this._htmls = new Map()\n  }\n\n  /**\n   * ÂàùÂßãÂåñelement\n   * @param container\n   * @private\n   */\n  _initElement (container) {\n    this._element = createElement('div', {\n      margin: '0',\n      padding: '0',\n      position: 'absolute',\n      top: '0',\n      overflow: 'hidden',\n      boxSizing: 'border-box'\n    })\n    container.appendChild(this._element)\n  }\n\n  /**\n   * ÂàõÂª∫‰∏ªview\n   * @param container\n   * @param props\n   * @private\n   */\n  _createMainView (container, props) {}\n\n  /**\n   * ÂàõÂª∫ÊµÆÂ±Çview\n   * @param container\n   * @param props\n   * @private\n   */\n  _createOverlayView (container, props) {}\n\n  /**\n   * Ëé∑ÂèñÂÆπÂô®\n   * @returns\n   */\n  container () {\n    return this._element\n  }\n\n  /**\n   * ÂàõÂª∫htmlÂÖÉÁ¥†\n   * @param id Ê†áËØÜ\n   * @param content ÂÜÖÂÆπ\n   * @param style Ê†∑Âºè\n   */\n  createHtml ({ id, content, style = {} }) {\n    const html = createElement('div', { boxSizing: 'border-box', position: 'absolute', zIndex: 12, ...style })\n    if (isString(content)) {\n      const str = content.replace(/(^\\s*)|(\\s*$)/g, '')\n      html.innerHTML = str\n    } else {\n      html.appendChild(content)\n    }\n    const htmlId = id || `html_${++this._htmlBaseId}`\n    if (this._htmls.has(htmlId)) {\n      this._element.replaceChild(html, this._htmls.get(htmlId))\n    } else {\n      this._element.appendChild(html)\n    }\n    this._htmls.set(htmlId, html)\n    return htmlId\n  }\n\n  /**\n   * ÁßªÈô§htmlÂÖÉÁ¥†\n   * @param id\n   */\n  removeHtml (id) {\n    if (id) {\n      const ids = [].concat(id)\n      ids.forEach(htmlId => {\n        const html = this._htmls.get(htmlId)\n        if (html) {\n          this._element.removeChild(html)\n          this._htmls.delete(htmlId)\n        }\n      })\n    } else {\n      this._htmls.forEach(html => {\n        this._element.removeChild(html)\n      })\n      this._htmls.clear()\n    }\n  }\n\n  getElement () {\n    return this._element\n  }\n\n  setWidth (width) {\n    this._width = width\n    this._mainView.setWidth(width)\n    this._overlayView.setWidth(width)\n  }\n\n  setHeight (height) {\n    this._height = height\n    this._mainView.setHeight(height)\n    this._overlayView.setHeight(height)\n  }\n\n  setOffsetLeft (offsetLeft) {\n    this._element.style.left = `${offsetLeft}px`\n  }\n\n  layout () {\n    if (this._element.offsetWidth !== this._width) {\n      this._element.style.width = `${this._width}px`\n    }\n    if (this._element.offsetHeight !== this._height) {\n      this._element.style.height = `${this._height}px`\n    }\n    this._mainView.layout()\n    this._overlayView.layout()\n  }\n\n  /**\n   * Êõ¥Êñ∞\n   * @param level\n   */\n  invalidate (level) {\n    switch (level) {\n      case InvalidateLevel.OVERLAY: {\n        this._overlayView.flush()\n        break\n      }\n      case InvalidateLevel.MAIN:\n      case InvalidateLevel.FULL: {\n        this._mainView.flush()\n        this._overlayView.flush()\n        break\n      }\n      default: {\n        break\n      }\n    }\n  }\n\n  /**\n   * Â∞ÜwidgetËΩ¨Êç¢ÊàêÂõæÁâá\n   * @param includeOverlay\n   * @returns {HTMLCanvasElement}\n   */\n  getImage (includeOverlay) {\n    const canvas = createElement('canvas', {\n      width: `${this._width}px`,\n      height: `${this._height}px`,\n      boxSizing: 'border-box'\n    })\n    const ctx = canvas.getContext('2d')\n    const pixelRatio = getPixelRatio(canvas)\n    canvas.width = this._width * pixelRatio\n    canvas.height = this._height * pixelRatio\n    ctx.scale(pixelRatio, pixelRatio)\n\n    ctx.drawImage(this._mainView.getImage(), 0, 0, this._width, this._height)\n\n    if (includeOverlay && this._overlayView) {\n      ctx.drawImage(this._overlayView.getImage(), 0, 0, this._width, this._height)\n    }\n    return canvas\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * requestAnimationFrameÂÖºÂÆπ\n * @param fn\n */\nexport function requestAnimationFrame (fn) {\n  if (!window.requestAnimationFrame) {\n    return window.setTimeout(fn, 20)\n  }\n  return window.requestAnimationFrame(fn)\n}\n\n/**\n * cancelAnimationFrameÂÖºÂÆπ\n * @param id\n */\nexport function cancelAnimationFrame (id) {\n  if (!window.cancelAnimationFrame) {\n    clearTimeout(id)\n  }\n  window.cancelAnimationFrame(id)\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getPixelRatio } from '../utils/canvas'\nimport { createElement } from '../utils/element'\nimport { cancelAnimationFrame, requestAnimationFrame } from '../utils/compatible'\n\nclass View {\n  constructor (container, chartStore) {\n    this._chartStore = chartStore\n    this._initCanvas(container)\n  }\n\n  /**\n   * ÂàùÂßãÂåñÁîªÂ∏É\n   * @param container\n   * @private\n   */\n  _initCanvas (container) {\n    this._canvas = createElement('canvas', {\n      position: 'absolute',\n      top: '0',\n      left: '0',\n      zIndex: '2',\n      boxSizing: 'border-box'\n    })\n    this._ctx = this._canvas.getContext('2d')\n    container.appendChild(this._canvas)\n  }\n\n  /**\n   * ÈáçÊñ∞ÁªòÂà∂\n   * @param extendFun\n   * @private\n   */\n  _redraw (extendFun) {\n    this._ctx.clearRect(0, 0, this._canvas.offsetWidth, this._canvas.offsetHeight)\n    extendFun && extendFun()\n    this._draw()\n  }\n\n  /**\n   * ÁªòÂà∂\n   */\n  _draw () {\n  }\n\n  setWidth (width) {\n    this._width = width\n  }\n\n  setHeight (height) {\n    this._height = height\n  }\n\n  layout () {\n    if (this._height !== this._canvas.offsetHeight || this._width !== this._canvas.offsetWidth) {\n      this._redraw(() => {\n        const pixelRatio = getPixelRatio(this._canvas)\n        this._canvas.style.width = `${this._width}px`\n        this._canvas.style.height = `${this._height}px`\n        this._canvas.width = Math.floor(this._width * pixelRatio)\n        this._canvas.height = Math.floor(this._height * pixelRatio)\n        this._ctx.scale(pixelRatio, pixelRatio)\n      })\n    } else {\n      this.flush()\n    }\n  }\n\n  /**\n   * Âà∑Êñ∞\n   */\n  flush () {\n    if (this.requestAnimationId) {\n      cancelAnimationFrame(this.requestAnimationId)\n      this.requestAnimationId = null\n    }\n    this.requestAnimationId = requestAnimationFrame(() => {\n      this._redraw()\n    })\n  }\n\n  /**\n   * Ëé∑ÂèñÂõæÁâá\n   * @returns {HTMLCanvasElement}\n   */\n  getImage () {\n    return this._canvas\n  }\n}\n\nexport default View\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport View from './View'\n\nimport { CandleType, LineStyle } from '../options/styleOptions'\nimport { TechnicalIndicatorPlotType, getTechnicalIndicatorPlotStyle } from '../component/technicalindicator/TechnicalIndicator'\nimport { renderHorizontalLine, renderVerticalLine, renderLine } from '../renderer/line'\nimport { isValid } from '../utils/typeChecks'\n\nexport default class TechnicalIndicatorView extends View {\n  constructor (container, chartStore, xAxis, yAxis, paneId) {\n    super(container, chartStore)\n    this._xAxis = xAxis\n    this._yAxis = yAxis\n    this._paneId = paneId\n  }\n\n  _draw () {\n    this._ctx.globalCompositeOperation = 'destination-over'\n    this._drawContent()\n  }\n\n  _drawContent () {\n    this._drawTechs()\n    this._drawGrid()\n  }\n\n  /**\n   * ÁªòÂà∂ÁΩëÊ†º\n   */\n  _drawGrid () {\n    const gridOptions = this._chartStore.styleOptions().grid\n    if (!gridOptions.show) {\n      return\n    }\n    const gridHorizontalOptions = gridOptions.horizontal\n    this._ctx.save()\n    if (gridHorizontalOptions.show) {\n      this._ctx.strokeStyle = gridHorizontalOptions.color\n      this._ctx.lineWidth = gridHorizontalOptions.size\n      if (gridHorizontalOptions.style === LineStyle.DASH) {\n        this._ctx.setLineDash(gridHorizontalOptions.dashValue)\n      } else {\n        this._ctx.setLineDash([])\n      }\n      this._yAxis.ticks().forEach(tick => {\n        renderHorizontalLine(this._ctx, tick.y, 0, this._width)\n      })\n    }\n\n    const gridVerticalOptions = gridOptions.vertical\n    if (gridVerticalOptions.show) {\n      this._ctx.strokeStyle = gridVerticalOptions.color\n      this._ctx.lineWidth = gridVerticalOptions.size\n      if (gridVerticalOptions.style === LineStyle.DASH) {\n        this._ctx.setLineDash(gridVerticalOptions.dashValue)\n      } else {\n        this._ctx.setLineDash([])\n      }\n      this._xAxis.ticks().forEach(tick => {\n        renderVerticalLine(this._ctx, tick.x, 0, this._height)\n      })\n    }\n    this._ctx.restore()\n  }\n\n  /**\n   * ÁªòÂà∂ÊåáÊ†á\n   */\n  _drawTechs () {\n    this._ctx.globalCompositeOperation = 'source-over'\n    const to = this._chartStore.timeScaleStore().to()\n    const techOptions = this._chartStore.styleOptions().technicalIndicator\n    const techs = this._chartStore.technicalIndicatorStore().instances(this._paneId)\n    techs.forEach(tech => {\n      const plots = tech.plots\n      const lines = []\n      const dataList = this._chartStore.dataList()\n      const techResult = tech.result\n      const styles = tech.styles || techOptions\n      // ÊäÄÊúØÊåáÊ†áËá™ÂÆö‰πâÁªòÂà∂\n      if (tech.render) {\n        this._ctx.save()\n        tech.render({\n          ctx: this._ctx,\n          dataSource: {\n            from: this._chartStore.timeScaleStore().from(),\n            to,\n            kLineDataList: this._chartStore.dataList(),\n            technicalIndicatorDataList: techResult\n          },\n          viewport: {\n            width: this._width,\n            height: this._height,\n            dataSpace: this._chartStore.timeScaleStore().dataSpace(),\n            barSpace: this._chartStore.timeScaleStore().barSpace()\n          },\n          styles,\n          xAxis: this._xAxis,\n          yAxis: this._yAxis\n        })\n        this._ctx.restore()\n      }\n      const lineColors = styles.line.colors || []\n      const lineColorSize = lineColors.length\n      const linePlotStyles = []\n      const lineCoordinates = []\n      const isCandleYAxis = this._yAxis.isCandleYAxis()\n\n      this._ctx.lineWidth = 1\n      this._drawGraphics(\n        (x, i, kLineData, halfBarSpace, barSpace) => {\n          const techData = techResult[i] || {}\n          let lineCount = 0\n          if (tech.shouldOhlc && !isCandleYAxis) {\n            this._drawCandleBar(x, halfBarSpace, barSpace, kLineData, styles.bar, CandleType.OHLC)\n          }\n          plots.forEach(plot => {\n            const value = techData[plot.key]\n            const valueY = this._yAxis.convertToPixel(value)\n            switch (plot.type) {\n              case TechnicalIndicatorPlotType.CIRCLE: {\n                if (isValid(value)) {\n                  const plotStyle = getTechnicalIndicatorPlotStyle(\n                    dataList, techResult, i, plot, styles, { color: styles.circle.noChangeColor, isStroke: true }\n                  )\n                  this._drawCircle({\n                    x,\n                    y: valueY,\n                    radius: halfBarSpace,\n                    color: plotStyle.color,\n                    isStroke: plotStyle.isStroke\n                  })\n                }\n                break\n              }\n              case TechnicalIndicatorPlotType.BAR: {\n                if (isValid(value)) {\n                  let baseValue\n                  if (isValid(plot.baseValue)) {\n                    baseValue = plot.baseValue\n                  } else {\n                    baseValue = this._yAxis.min()\n                  }\n                  const baseValueY = this._yAxis.convertToPixel(baseValue)\n                  const height = Math.abs(baseValueY - valueY)\n                  const bar = {\n                    x: x - halfBarSpace,\n                    width: halfBarSpace * 2,\n                    height: Math.max(1, height)\n                  }\n                  if (valueY > baseValueY) {\n                    bar.y = baseValueY\n                  } else {\n                    bar.y = height < 1 ? baseValueY - 1 : valueY\n                  }\n                  const plotStyle = getTechnicalIndicatorPlotStyle(\n                    dataList, techResult, i, plot, styles, { color: styles.bar.noChangeColor }\n                  )\n                  bar.color = plotStyle.color\n                  bar.isStroke = plotStyle.isStroke\n                  this._drawBar(bar)\n                }\n                break\n              }\n              case TechnicalIndicatorPlotType.LINE: {\n                let plotStyle = null\n                if (isValid(value)) {\n                  plotStyle = getTechnicalIndicatorPlotStyle(\n                    dataList, techResult, i, plot, styles, { color: lineColors[lineCount % lineColorSize] }\n                  )\n                  const coordinate = { x: x, y: valueY }\n                  const prePlotStyle = linePlotStyles[lineCount]\n                  if (!lineCoordinates[lineCount]) {\n                    lineCoordinates[lineCount] = []\n                  }\n                  lineCoordinates[lineCount].push(coordinate)\n                  if (prePlotStyle) {\n                    if (prePlotStyle.color !== plotStyle.color) {\n                      lines.push({ color: prePlotStyle.color, isDashed: prePlotStyle.isDashed, coordinates: lineCoordinates[lineCount] })\n                      lineCoordinates[lineCount] = [coordinate]\n                    } else {\n                      if (prePlotStyle.isDashed !== plotStyle.isDashed) {\n                        lines.push({ color: prePlotStyle.color, isDashed: prePlotStyle.isDashed, coordinates: lineCoordinates[lineCount] })\n                        lineCoordinates[lineCount] = [coordinate]\n                      }\n                    }\n                  }\n                  if (i === to - 1) {\n                    lines.push({ color: plotStyle.color, isDashed: plotStyle.isDashed, coordinates: lineCoordinates[lineCount] })\n                  }\n                }\n                linePlotStyles[lineCount] = plotStyle\n                lineCount++\n                break\n              }\n              default: { break }\n            }\n          })\n        },\n        () => {\n          this._drawLines(lines, styles)\n        }\n      )\n    })\n    this._ctx.globalCompositeOperation = 'destination-over'\n  }\n\n  /**\n   * ÁªòÂà∂ÂõæÂΩ¢\n   * @param onDrawing\n   * @param onDrawEnd\n   */\n  _drawGraphics (onDrawing, onDrawEnd) {\n    const visibleDataList = this._chartStore.visibleDataList()\n    const barSpace = this._chartStore.timeScaleStore().barSpace()\n    const halfBarSpace = this._chartStore.timeScaleStore().halfBarSpace()\n    visibleDataList.forEach(({ x, index, data }, n) => {\n      onDrawing(x, index, data, halfBarSpace, barSpace, n)\n    })\n    onDrawEnd && onDrawEnd()\n  }\n\n  /**\n   * ÁªòÂà∂Á∫ø\n   * @param lines\n   * @param techOptions\n   */\n  _drawLines (lines, techOptions) {\n    this._ctx.lineWidth = techOptions.line.size\n    lines.forEach(line => {\n      this._ctx.strokeStyle = line.color\n      if (line.isDashed) {\n        this._ctx.setLineDash(techOptions.line.dashValue)\n      } else {\n        this._ctx.setLineDash([])\n      }\n      renderLine(this._ctx, line.coordinates)\n    })\n  }\n\n  /**\n   * ÁªòÂà∂Êü±\n   */\n  _drawBar (bar) {\n    if (bar.isStroke) {\n      this._ctx.strokeStyle = bar.color\n      this._ctx.strokeRect(bar.x + 0.5, bar.y, bar.width - 1, bar.height)\n    } else {\n      this._ctx.fillStyle = bar.color\n      this._ctx.fillRect(bar.x, bar.y, bar.width, bar.height)\n    }\n  }\n\n  /**\n   * ÁªòÂà∂ÂúÜÁÇπ\n   * @param circle\n   * @private\n   */\n  _drawCircle (circle) {\n    this._ctx.strokeStyle = circle.color\n    this._ctx.fillStyle = circle.color\n    this._ctx.beginPath()\n    this._ctx.arc(circle.x, circle.y, circle.radius, Math.PI * 2, 0, true)\n    if (circle.isStroke) {\n      this._ctx.stroke()\n    } else {\n      this._ctx.fill()\n    }\n    this._ctx.closePath()\n  }\n\n  /**\n   * ÁªòÂà∂Ëú°ÁÉõÊü±\n   * @param x\n   * @param halfBarSpace\n   * @param barSpace\n   * @param kLineData\n   * @param barOptions\n   * @param barStyle\n   */\n  _drawCandleBar (x, halfBarSpace, barSpace, kLineData, barOptions, barStyle) {\n    const { open, close, high, low } = kLineData\n    if (close > open) {\n      this._ctx.strokeStyle = barOptions.upColor\n      this._ctx.fillStyle = barOptions.upColor\n    } else if (close < open) {\n      this._ctx.strokeStyle = barOptions.downColor\n      this._ctx.fillStyle = barOptions.downColor\n    } else {\n      this._ctx.strokeStyle = barOptions.noChangeColor\n      this._ctx.fillStyle = barOptions.noChangeColor\n    }\n    const openY = this._yAxis.convertToPixel(open)\n    const closeY = this._yAxis.convertToPixel(close)\n    const priceY = [\n      openY, closeY,\n      this._yAxis.convertToPixel(high),\n      this._yAxis.convertToPixel(low)\n    ]\n    priceY.sort((a, b) => a - b)\n    this._ctx.fillRect(x - 0.5, priceY[0], 1, priceY[1] - priceY[0])\n    this._ctx.fillRect(x - 0.5, priceY[2], 1, priceY[3] - priceY[2])\n\n    const barHeight = Math.max(1, priceY[2] - priceY[1])\n    switch (barStyle) {\n      case CandleType.CANDLE_SOLID: {\n        this._ctx.fillRect(x - halfBarSpace, priceY[1], barSpace, barHeight)\n        break\n      }\n      case CandleType.CANDLE_STROKE: {\n        this._ctx.strokeRect(x - halfBarSpace + 0.5, priceY[1], barSpace - 1, barHeight)\n        break\n      }\n      case CandleType.CANDLE_UP_STROKE: {\n        if (close > open) {\n          this._ctx.strokeRect(x - halfBarSpace + 0.5, priceY[1], barSpace - 1, barHeight)\n        } else {\n          this._ctx.fillRect(x - halfBarSpace, priceY[1], barSpace, barHeight)\n        }\n        break\n      }\n      case CandleType.CANDLE_DOWN_STROKE: {\n        if (close > open) {\n          this._ctx.fillRect(x - halfBarSpace, priceY[1], barSpace, barHeight)\n        } else {\n          this._ctx.strokeRect(x - halfBarSpace + 0.5, priceY[1], barSpace - 1, barHeight)\n        }\n        break\n      }\n      default: {\n        this._ctx.fillRect(x - 0.5, priceY[0], 1, priceY[3] - priceY[0])\n        this._ctx.fillRect(x - halfBarSpace, openY, halfBarSpace, 1)\n        this._ctx.fillRect(x, closeY, halfBarSpace, 1)\n        break\n      }\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * ÁªòÂà∂ÊñáÂ≠ó\n * @param ctx\n * @param color\n * @param x\n * @param y\n * @param text\n */\nexport function renderText (ctx, color, x, y, text) {\n  ctx.fillStyle = color\n  ctx.fillText(text, x, y)\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport View from './View'\nimport { TooltipShowRule, LineStyle } from '../options/styleOptions'\nimport { TechnicalIndicatorPlotType, getTechnicalIndicatorPlotStyle } from '../component/technicalindicator/TechnicalIndicator'\nimport { isValid, isObject, isFunction } from '../utils/typeChecks'\nimport { formatPrecision, formatBigNumber } from '../utils/format'\nimport { renderHorizontalLine, renderVerticalLine } from '../renderer/line'\nimport { calcTextWidth, createFont } from '../utils/canvas'\nimport { renderText } from '../renderer/text'\n\nexport default class TechnicalIndicatorOverlayView extends View {\n  constructor (container, chartStore, xAxis, yAxis, paneId) {\n    super(container, chartStore)\n    this._xAxis = xAxis\n    this._yAxis = yAxis\n    this._paneId = paneId\n  }\n\n  _draw () {\n    this._ctx.textBaseline = 'alphabetic'\n    this._drawTag()\n    this._drawShape()\n    this._drawAnnotation()\n    const crosshair = this._chartStore.crosshairStore().get()\n    if (crosshair.kLineData) {\n      const styleOptions = this._chartStore.styleOptions()\n      const crosshairOptions = styleOptions.crosshair\n      if (crosshair.paneId === this._paneId) {\n        // ÁªòÂà∂ÂçÅÂ≠óÂÖâÊ†áÊ∞¥Âπ≥Á∫ø\n        this._drawCrosshairLine(crosshairOptions, 'horizontal', crosshair.y, 0, this._width, renderHorizontalLine)\n      }\n      if (crosshair.paneId) {\n        // ÁªòÂà∂ÂçÅÂ≠óÂÖâÊ†áÂûÇÁõ¥Á∫ø\n        this._drawCrosshairLine(crosshairOptions, 'vertical', crosshair.realX, 0, this._height, renderVerticalLine)\n      }\n      this._drawTooltip(crosshair, this._chartStore.technicalIndicatorStore().instances(this._paneId))\n    }\n  }\n\n  /**\n   * ÁªòÂà∂Ê≥®Ëß£\n   */\n  _drawAnnotation () {\n    const annotations = this._chartStore.annotationStore().get(this._paneId)\n    if (annotations) {\n      annotations.forEach(annotation => {\n        annotation.draw(this._ctx)\n      })\n    }\n  }\n\n  /**\n   * ÁªòÂà∂Ê†áÁ≠æ\n   */\n  _drawTag () {\n    const tags = this._chartStore.tagStore().get(this._paneId)\n    if (tags) {\n      tags.forEach(tag => {\n        tag.drawMarkLine(this._ctx)\n      })\n    }\n  }\n\n  /**\n   * ÁªòÂà∂ÂõæÂΩ¢Ê†áËÆ∞\n   * @private\n   */\n  _drawShape () {\n    this._chartStore.shapeStore().instances(this._paneId).forEach(shape => {\n      shape.draw(this._ctx)\n    })\n    const progressShape = this._chartStore.shapeStore().progressInstance()\n    if (progressShape.paneId === this._paneId) {\n      progressShape.instance.draw(this._ctx)\n    }\n  }\n\n  /**\n   * ÁªòÂà∂Âõæ‰æã\n   * @param crosshair\n   * @param techs\n   * @private\n   */\n  _drawTooltip (crosshair, techs) {\n    const techOptions = this._chartStore.styleOptions().technicalIndicator\n    this._drawBatchTechToolTip(\n      crosshair,\n      techs,\n      techOptions,\n      0,\n      this._shouldDrawTooltip(crosshair, techOptions.tooltip)\n    )\n  }\n\n  /**\n   * ÁªòÂà∂ÂçÅÂ≠óÂÖâÊ†áÁ∫ø\n   * @param crosshairOptions\n   * @param optionsKey\n   * @param fixed\n   * @param start\n   * @param end\n   * @param drawLine\n   * @private\n   */\n  _drawCrosshairLine (crosshairOptions, optionsKey, fixed, start, end, drawLine) {\n    const crosshairDirectionOptions = crosshairOptions[optionsKey]\n    const crosshairLineOptions = crosshairDirectionOptions.line\n    if (!crosshairOptions.show || !crosshairDirectionOptions.show || !crosshairLineOptions.show) {\n      return\n    }\n    this._ctx.save()\n    this._ctx.lineWidth = crosshairLineOptions.size\n    this._ctx.strokeStyle = crosshairLineOptions.color\n\n    if (crosshairLineOptions.style === LineStyle.DASH) {\n      this._ctx.setLineDash(crosshairLineOptions.dashValue)\n    }\n    drawLine(this._ctx, fixed, start, end)\n    this._ctx.restore()\n  }\n\n  /**\n   * ÊâπÈáèÁªòÂà∂ÊäÄÊúØÊåáÊ†áÊèêÁ§∫\n   * @param crosshair\n   * @param techs\n   * @param techOptions\n   * @param offsetTop\n   * @param isDrawTechTooltip\n   * @returns {number}\n   */\n  _drawBatchTechToolTip (crosshair, techs, techOptions, offsetTop = 0, isDrawTechTooltip) {\n    if (!isDrawTechTooltip) {\n      return 0\n    }\n    const techTooltipOptions = techOptions.tooltip\n    let top = offsetTop\n    const startTop = top\n    techs.forEach(tech => {\n      top += (\n        techTooltipOptions.text.marginTop +\n        this._drawTechTooltip(crosshair, tech, techOptions, top) +\n        techTooltipOptions.text.marginBottom\n      )\n    })\n    return top - startTop\n  }\n\n  /**\n   * ÁªòÂà∂ÊåáÊ†áÂõæ‰æã\n   * @param crosshair\n   * @param tech\n   * @param techOptions\n   * @param offsetTop\n   * @returns {number}\n   * @private\n   */\n  _drawTechTooltip (crosshair, tech, techOptions, offsetTop = 0) {\n    const techTooltipOptions = techOptions.tooltip\n    const techTooltipTextOptions = techTooltipOptions.text\n    const textMarginLeft = techTooltipTextOptions.marginLeft\n    const textMarginRight = techTooltipTextOptions.marginRight\n    const textSize = techTooltipTextOptions.size\n    const textColor = techTooltipTextOptions.color\n    let labelX = 0\n    let labelY = techTooltipTextOptions.marginTop + offsetTop\n    let tooltipHeight = textSize\n    const tooltipData = this._getTechTooltipData(crosshair, tech, techOptions)\n    this._ctx.textBaseline = 'top'\n    this._ctx.font = createFont(textSize, techTooltipTextOptions.weight, techTooltipTextOptions.family)\n    if (techTooltipOptions.showName) {\n      const nameText = tooltipData.name\n      const nameTextWidth = calcTextWidth(this._ctx, nameText)\n      labelX += textMarginLeft\n      renderText(this._ctx, textColor, labelX, labelY, nameText)\n      labelX += nameTextWidth\n      if (!techTooltipOptions.showParams) {\n        labelX += textMarginRight\n      }\n    }\n    if (techTooltipOptions.showParams) {\n      const calcParamText = tooltipData.calcParamText\n      const calcParamTextWidth = calcTextWidth(this._ctx, calcParamText)\n      if (!techTooltipOptions.showName) {\n        labelX += textMarginLeft\n      }\n      renderText(this._ctx, textColor, labelX, labelY, calcParamText)\n      labelX += (calcParamTextWidth + textMarginRight)\n    }\n    tooltipData.values.forEach(v => {\n      labelX += textMarginLeft\n      const text = `${v.title}${v.value}`\n      const textWidth = calcTextWidth(this._ctx, text)\n      if (labelX + textWidth > this._width) {\n        labelX = textMarginLeft\n        tooltipHeight += (textSize + 1)\n        labelY += (textSize + 1)\n      }\n      renderText(this._ctx, v.color || techTooltipTextOptions.color, labelX, labelY, text)\n      labelX += (textWidth + textMarginRight)\n    })\n    return tooltipHeight\n  }\n\n  /**\n   * ÊòØÂê¶ÈúÄË¶ÅÁªòÂà∂Âõæ‰æã\n   * @param crosshair\n   * @param tooltipOptions\n   * @return {boolean|boolean|*}\n   */\n  _shouldDrawTooltip (crosshair, tooltipOptions) {\n    const showRule = tooltipOptions.showRule\n    return showRule === TooltipShowRule.ALWAYS ||\n      (showRule === TooltipShowRule.FOLLOW_CROSS && (!!crosshair.paneId))\n  }\n\n  /**\n   * Ëé∑ÂèñÊäÄÊúØÊåáÊ†áÊèêÁ§∫Êï∞ÊçÆ\n   * @param techData\n   * @param tech\n   * @returns\n   */\n  _getTechTooltipData (crosshair, tech, techOptions) {\n    const dataList = this._chartStore.dataList()\n    const techResult = tech.result\n\n    let calcParamText = ''\n    const calcParams = tech.calcParams\n    if (calcParams.length > 0) {\n      const params = calcParams.map(param => {\n        if (isObject(param)) {\n          return param.value\n        }\n        return param\n      })\n      calcParamText = `(${params.join(',')})`\n    }\n\n    let values = []\n    if (isFunction(tech.createToolTipDataSource)) {\n      values = tech.createToolTipDataSource({\n        dataSource: {\n          from: this._chartStore.timeScaleStore().from(),\n          to: this._chartStore.timeScaleStore().to(),\n          kLineDataList: this._chartStore.dataList(),\n          technicalIndicatorDataList: techResult\n        },\n        viewport: {\n          width: this._width,\n          height: this._height,\n          dataSpace: this._chartStore.timeScaleStore().dataSpace(),\n          barSpace: this._chartStore.timeScaleStore().barSpace()\n        },\n        crosshair,\n        technicalIndicator: tech,\n        xAxis: this._xAxis,\n        yAxis: this._yAxis,\n        defaultStyles: techOptions\n      }) || []\n    } else {\n      const dataIndex = crosshair.dataIndex\n      const styles = tech.styles || techOptions\n      const techData = techResult[dataIndex]\n\n      const plots = tech.plots\n      const precision = tech.precision\n      const shouldFormatBigNumber = tech.shouldFormatBigNumber\n      const lineColors = styles.line.colors || []\n      const colorSize = lineColors.length\n      let lineCount = 0\n      plots.forEach(plot => {\n        let defaultStyle = {}\n        switch (plot.type) {\n          case TechnicalIndicatorPlotType.CIRCLE: {\n            defaultStyle = { color: styles.circle.noChangeColor }\n            break\n          }\n          case TechnicalIndicatorPlotType.BAR: {\n            defaultStyle = { color: styles.bar.noChangeColor }\n            break\n          }\n          case TechnicalIndicatorPlotType.LINE: {\n            defaultStyle = { color: lineColors[lineCount % colorSize] || techOptions.tooltip.text.color }\n            lineCount++\n            break\n          }\n          default: { break }\n        }\n        const plotStyle = getTechnicalIndicatorPlotStyle(\n          dataList, techResult, crosshair.dataIndex, plot, styles, defaultStyle\n        )\n        const data = {}\n        if (isValid(plot.title)) {\n          let value = (techData || {})[plot.key]\n          if (isValid(value)) {\n            value = formatPrecision(value, precision)\n            if (shouldFormatBigNumber) {\n              value = formatBigNumber(value)\n            }\n          }\n          data.title = plot.title\n          data.value = value || techOptions.tooltip.defaultValue\n          data.color = plotStyle.color\n          values.push(data)\n        }\n      })\n    }\n    return { values, name: tech.shortName, calcParamText }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Widget from './Widget'\nimport TechnicalIndicatorView from '../view/TechnicalIndicatorView'\nimport TechnicalIndicatorOverlayView from '../view/TechnicalIndicatorOverlayView'\n\nexport default class TechnicalIndicatorWidget extends Widget {\n  _createMainView (container, props) {\n    return new TechnicalIndicatorView(container, props.chartStore, props.xAxis, props.yAxis, props.paneId)\n  }\n\n  _createOverlayView (container, props) {\n    return new TechnicalIndicatorOverlayView(container, props.chartStore, props.xAxis, props.yAxis, props.paneId)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * ÁªòÂà∂Â∏¶ËæπÊ°ÜÁöÑÂúÜËßíÂ°´ÂÖÖÁü©ÂΩ¢\n * @param ctx\n * @param fillColor\n * @param borderColor\n * @param borderSize\n * @param x\n * @param y\n * @param width\n * @param height\n * @param borderRadius\n */\nexport function renderStrokeFillRoundRect (\n  ctx, fillColor, borderColor, borderSize,\n  x, y, width, height, borderRadius\n) {\n  renderFillRoundRect(ctx, fillColor, x, y, width, height, borderRadius)\n  renderStrokeRoundRect(ctx, borderColor, borderSize, x, y, width, height, borderRadius)\n}\n\n/**\n * ÁªòÂà∂Â°´ÂÖÖÁöÑÁü©ÂΩ¢\n * @param ctx\n * @param color\n * @param x\n * @param y\n * @param width\n * @param height\n */\nexport function renderFillRect (ctx, color, x, y, width, height) {\n  ctx.fillStyle = color\n  ctx.fillRect(x, y, width, height)\n}\n\n/**\n * ÁªòÂà∂ÂúÜËßíÁ©∫ÂøÉÁü©ÂΩ¢\n * @param ctx\n * @param borderColor\n * @param borderSize\n * @param x\n * @param y\n * @param w\n * @param h\n * @param r\n */\nexport function renderStrokeRoundRect (ctx, borderColor, borderSize, x, y, w, h, r) {\n  ctx.lineWidth = borderSize\n  ctx.strokeStyle = borderColor\n  renderRoundRect(ctx, x, y, w, h, r)\n  ctx.stroke()\n}\n\n/**\n * ÁªòÂà∂Â°´ÂÖÖÂúÜËßíÁü©ÂΩ¢\n * @param ctx\n * @param color\n * @param x\n * @param y\n * @param w\n * @param h\n * @param r\n */\nexport function renderFillRoundRect (ctx, color, x, y, w, h, r) {\n  ctx.fillStyle = color\n  renderRoundRect(ctx, x, y, w, h, r)\n  ctx.fill()\n}\n\n/**\n * ÁªòÂà∂ÂúÜËßíÁü©ÂΩ¢\n * @param ctx\n * @param x\n * @param y\n * @param w\n * @param h\n * @param r\n */\nexport function renderRoundRect (ctx, x, y, w, h, r) {\n  ctx.beginPath()\n  ctx.moveTo(x + r, y)\n  ctx.arcTo(x + w, y, x + w, y + h, r)\n  ctx.arcTo(x + w, y + h, x, y + h, r)\n  ctx.arcTo(x, y + h, x, y, r)\n  ctx.arcTo(x, y, x + w, y, r)\n  ctx.closePath()\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport View from './View'\nimport { YAxisType } from '../options/styleOptions'\nimport { TechnicalIndicatorPlotType } from '../component/technicalindicator/TechnicalIndicator'\nimport { calcTextWidth, createFont } from '../utils/canvas'\nimport { renderHorizontalLine, renderVerticalLine } from '../renderer/line'\nimport { formatBigNumber, formatPrecision } from '../utils/format'\nimport { isValid } from '../utils/typeChecks'\nimport { renderFillRoundRect } from '../renderer/rect'\nimport { renderText } from '../renderer/text'\n\nexport default class YAxisView extends View {\n  constructor (container, chartStore, yAxis, paneId) {\n    super(container, chartStore)\n    this._yAxis = yAxis\n    this._paneId = paneId\n  }\n\n  _draw () {\n    const yAxisOptions = this._chartStore.styleOptions().yAxis\n    if (yAxisOptions.show) {\n      this._drawAxisLine(yAxisOptions)\n      this._drawTickLines(yAxisOptions)\n      this._drawTickLabels(yAxisOptions)\n      this._drawTechLastValue()\n      this._drawLastPriceLabel()\n    }\n  }\n\n  _drawAxisLine (yAxisOptions) {\n    const axisLine = yAxisOptions.axisLine\n    if (!axisLine.show) {\n      return\n    }\n    this._ctx.strokeStyle = axisLine.color\n    this._ctx.lineWidth = axisLine.size\n    let x\n    if (this._yAxis.isFromYAxisZero()) {\n      x = 0\n    } else {\n      x = this._width - 1\n    }\n    renderVerticalLine(this._ctx, x, 0, this._height)\n  }\n\n  _drawTickLines (yAxisOptions) {\n    const tickLine = yAxisOptions.tickLine\n    if (!tickLine.show) {\n      return\n    }\n    this._ctx.lineWidth = tickLine.size\n    this._ctx.strokeStyle = tickLine.color\n\n    const tickLineLength = tickLine.length\n\n    let startX\n    let endX\n    if (this._yAxis.isFromYAxisZero()) {\n      startX = 0\n      if (yAxisOptions.axisLine.show) {\n        startX += yAxisOptions.axisLine.size\n      }\n      endX = startX + tickLineLength\n    } else {\n      startX = this._width\n      if (yAxisOptions.axisLine.show) {\n        startX -= yAxisOptions.axisLine.size\n      }\n      endX = startX - tickLineLength\n    }\n    this._yAxis.ticks().forEach(tick => {\n      renderHorizontalLine(this._ctx, tick.y, startX, endX)\n    })\n  }\n\n  _drawTickLabels (yAxisOptions) {\n    const tickText = yAxisOptions.tickText\n    if (!tickText.show) {\n      return\n    }\n    const tickLine = yAxisOptions.tickLine\n    const tickLineShow = tickLine.show\n    const tickLineLength = tickLine.length\n    let labelX\n    if (this._yAxis.isFromYAxisZero()) {\n      labelX = tickText.paddingLeft\n      if (yAxisOptions.axisLine.show) {\n        labelX += yAxisOptions.axisLine.size\n      }\n      if (tickLineShow) {\n        labelX += tickLineLength\n      }\n      this._ctx.textAlign = 'left'\n    } else {\n      labelX = this._width - tickText.paddingRight\n      if (yAxisOptions.axisLine.show) {\n        labelX -= yAxisOptions.axisLine.size\n      }\n      if (tickLineShow) {\n        labelX -= tickLineLength\n      }\n      this._ctx.textAlign = 'right'\n    }\n    this._ctx.textBaseline = 'middle'\n    this._ctx.font = createFont(tickText.size, tickText.weight, tickText.family)\n    this._ctx.fillStyle = tickText.color\n    this._yAxis.ticks().forEach(tick => {\n      this._ctx.fillText(tick.v, labelX, tick.y)\n    })\n    this._ctx.textAlign = 'left'\n  }\n\n  /**\n   * ÁªòÂà∂ÊäÄÊúØÊåáÊ†áÊúÄÂêéÂÄº\n   * @private\n   */\n  _drawTechLastValue () {\n    const techOptions = this._chartStore.styleOptions().technicalIndicator\n    const lastValueMarkOptions = techOptions.lastValueMark\n    if (!lastValueMarkOptions.show || !lastValueMarkOptions.text.show) {\n      return\n    }\n    const techs = this._chartStore.technicalIndicatorStore().instances(this._paneId)\n    const dataList = this._chartStore.dataList()\n    techs.forEach(tech => {\n      const techResult = tech.result || []\n      const dataSize = techResult.length\n      const techData = techResult[dataSize - 1] || {}\n      const plots = tech.plots\n      const cbData = {\n        prev: { kLineData: dataList[dataSize - 2], technicalIndicatorData: techResult[dataSize - 2] },\n        current: { kLineData: dataList[dataSize - 1], technicalIndicatorData: techData },\n        next: { kLineData: null, technicalIndicatorData: null }\n      }\n      const precision = tech.precision\n      const styles = tech.styles || techOptions\n      const colors = styles.line.colors || []\n      const colorSize = colors.length\n      let lineCount = 0\n      plots.forEach(plot => {\n        const value = techData[plot.key]\n        let backgroundColor\n        switch (plot.type) {\n          case TechnicalIndicatorPlotType.CIRCLE: {\n            backgroundColor = (plot.color && plot.color(cbData, styles)) || styles.circle.noChangeColor\n            break\n          }\n          case TechnicalIndicatorPlotType.BAR: {\n            backgroundColor = (plot.color && plot.color(cbData, styles)) || styles.bar.noChangeColor\n            break\n          }\n          case TechnicalIndicatorPlotType.LINE: {\n            backgroundColor = colors[lineCount % colorSize]\n            lineCount++\n            break\n          }\n          default: { break }\n        }\n        if (isValid(value)) {\n          this._drawMarkLabel(\n            value, precision, tech.shouldFormatBigNumber,\n            {\n              ...lastValueMarkOptions.text, backgroundColor\n            }\n          )\n        }\n      })\n    })\n  }\n\n  /**\n   * ÁªòÂà∂ÊúÄÊñ∞‰ª∑ÊñáÂ≠ó\n   * @private\n   */\n  _drawLastPriceLabel () {\n    if (!this._yAxis.isCandleYAxis()) {\n      return\n    }\n    const priceMarkOptions = this._chartStore.styleOptions().candle.priceMark\n    const lastPriceMarkOptions = priceMarkOptions.last\n    if (!priceMarkOptions.show || !lastPriceMarkOptions.show || !lastPriceMarkOptions.text.show) {\n      return\n    }\n    const dataList = this._chartStore.dataList()\n    const kLineData = dataList[dataList.length - 1]\n    if (!kLineData) {\n      return\n    }\n    const close = kLineData.close\n    const open = kLineData.open\n    let backgroundColor\n    if (close > open) {\n      backgroundColor = lastPriceMarkOptions.upColor\n    } else if (close < open) {\n      backgroundColor = lastPriceMarkOptions.downColor\n    } else {\n      backgroundColor = lastPriceMarkOptions.noChangeColor\n    }\n    this._drawMarkLabel(\n      close, this._chartStore.pricePrecision(), false,\n      {\n        ...lastPriceMarkOptions.text, backgroundColor\n      }\n    )\n  }\n\n  /**\n   * ÁªòÂà∂Ê†áËÆ∞label\n   * @param value\n   * @param precision\n   * @param shouldFormatBigNumber\n   * @param size\n   * @param weight\n   * @param family\n   * @param color\n   * @param backgroundColor\n   * @param borderRadius\n   * @param paddingLeft\n   * @param paddingTop\n   * @param paddingRight\n   * @param paddingBottom\n   * @private\n   */\n  _drawMarkLabel (\n    value, precision, shouldFormatBigNumber,\n    {\n      size, weight, family, color, backgroundColor, borderRadius,\n      paddingLeft, paddingTop, paddingRight, paddingBottom\n    }\n  ) {\n    const valueY = this._yAxis.convertToNicePixel(value)\n    let text\n    if (this._yAxis.yAxisType() === YAxisType.PERCENTAGE) {\n      const fromData = (this._chartStore.visibleDataList()[0] || {}).data || {}\n      const fromClose = fromData.close\n      text = `${((value - fromClose) / fromClose * 100).toFixed(2)}%`\n    } else {\n      text = formatPrecision(value, precision)\n      if (shouldFormatBigNumber) {\n        text = formatBigNumber(text)\n      }\n    }\n    this._ctx.font = createFont(size, weight, family)\n    const rectWidth = calcTextWidth(this._ctx, text) + paddingLeft + paddingRight\n    const rectHeight = paddingTop + size + paddingBottom\n    let rectStartX\n    if (this._yAxis.isFromYAxisZero()) {\n      rectStartX = 0\n    } else {\n      rectStartX = this._width - rectWidth\n    }\n    renderFillRoundRect(\n      this._ctx, backgroundColor,\n      rectStartX, valueY - paddingTop - size / 2, rectWidth, rectHeight, borderRadius\n    )\n    this._ctx.textBaseline = 'middle'\n    renderText(this._ctx, color, rectStartX + paddingLeft, valueY, text)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport View from './View'\nimport { getTextRectWidth, getTextRectHeight } from '../utils/canvas'\nimport { formatBigNumber, formatPrecision } from '../utils/format'\nimport { YAxisType } from '../options/styleOptions'\nimport { renderStrokeFillRoundRect } from '../renderer/rect'\nimport { renderText } from '../renderer/text'\n\nexport default class YAxisOverlayView extends View {\n  constructor (container, chartStore, yAxis, paneId) {\n    super(container, chartStore)\n    this._yAxis = yAxis\n    this._paneId = paneId\n  }\n\n  _draw () {\n    this._ctx.textBaseline = 'middle'\n    this._drawTag()\n    this._drawCrossHairLabel()\n  }\n\n  /**\n   * ÁªòÂà∂Ê†áÁ≠æ\n   * @private\n   */\n  _drawTag () {\n    const tags = this._chartStore.tagStore().get(this._paneId)\n    if (tags) {\n      tags.forEach(tag => {\n        tag.drawText(this._ctx)\n      })\n    }\n  }\n\n  _drawCrossHairLabel () {\n    const crosshair = this._chartStore.crosshairStore().get()\n    if (crosshair.paneId !== this._paneId || this._chartStore.dataList().length === 0) {\n      return\n    }\n    const styleOptions = this._chartStore.styleOptions()\n    const crosshairOptions = styleOptions.crosshair\n    const crosshairHorizontalOptions = crosshairOptions.horizontal\n    const crosshairHorizontalTextOptions = crosshairHorizontalOptions.text\n    if (!crosshairOptions.show || !crosshairHorizontalOptions.show || !crosshairHorizontalTextOptions.show) {\n      return\n    }\n    const value = this._yAxis.convertFromPixel(crosshair.y)\n    let text\n    if (this._yAxis.yAxisType() === YAxisType.PERCENTAGE) {\n      const fromData = (this._chartStore.visibleDataList()[0] || {}).data || {}\n      text = `${((value - fromData.close) / fromData.close * 100).toFixed(2)}%`\n    } else {\n      const techs = this._chartStore.technicalIndicatorStore().instances(this._paneId)\n      let precision = 0\n      let shouldFormatBigNumber = false\n      if (this._yAxis.isCandleYAxis()) {\n        precision = this._chartStore.pricePrecision()\n      } else {\n        techs.forEach(tech => {\n          precision = Math.max(tech.precision, precision)\n          if (!shouldFormatBigNumber) {\n            shouldFormatBigNumber = tech.shouldFormatBigNumber\n          }\n        })\n      }\n      text = formatPrecision(value, precision)\n      if (shouldFormatBigNumber) {\n        text = formatBigNumber(text)\n      }\n    }\n    let rectStartX\n    const borderSize = crosshairHorizontalTextOptions.borderSize\n\n    const rectWidth = getTextRectWidth(this._ctx, text, crosshairHorizontalTextOptions)\n    const rectHeight = getTextRectHeight(crosshairHorizontalTextOptions)\n    if (this._yAxis.isFromYAxisZero()) {\n      rectStartX = 0\n    } else {\n      rectStartX = this._width - rectWidth\n    }\n\n    const rectY = crosshair.y - borderSize - crosshairHorizontalTextOptions.paddingTop - crosshairHorizontalTextOptions.size / 2\n    // ÁªòÂà∂yËΩ¥ÊñáÂ≠óÂ§ñÁöÑËæπÊ°Ü\n    renderStrokeFillRoundRect(\n      this._ctx,\n      crosshairHorizontalTextOptions.backgroundColor,\n      crosshairHorizontalTextOptions.borderColor,\n      borderSize,\n      rectStartX,\n      rectY,\n      rectWidth,\n      rectHeight,\n      crosshairHorizontalTextOptions.borderRadius\n    )\n    renderText(\n      this._ctx,\n      crosshairHorizontalTextOptions.color,\n      rectStartX + borderSize + crosshairHorizontalTextOptions.paddingLeft,\n      crosshair.y,\n      text\n    )\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Widget from './Widget'\nimport YAxisView from '../view/YAxisView'\nimport YAxisOverlayView from '../view/YAxisOverlayView'\n\nexport default class YAxisWidget extends Widget {\n  _createMainView (container, props) {\n    return new YAxisView(container, props.chartStore, props.yAxis, props.paneId)\n  }\n\n  _createOverlayView (container, props) {\n    return new YAxisOverlayView(container, props.chartStore, props.yAxis, props.paneId)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { getPixelRatio } from '../../utils/canvas'\nimport { getPrecision, nice, round } from '../../utils/number'\nimport { createElement } from '../../utils/element'\n\nexport default class Axis {\n  constructor (chartStore) {\n    this._chartStore = chartStore\n    this._width = 0\n    this._height = 0\n    this._cacheMinValue = 0\n    this._cacheMaxValue = 0\n    this._minValue = 0\n    this._maxValue = 0\n    this._range = 0\n    this._realMinValue = 0\n    this._realMaxValue = 0\n    this._realRange = 0\n    this._ticks = []\n    this._initMeasureCanvas()\n  }\n\n  _initMeasureCanvas () {\n    const measureCanvas = createElement('canvas')\n    const pixelRatio = getPixelRatio(measureCanvas)\n    this._measureCtx = measureCanvas.getContext('2d')\n    this._measureCtx.scale(pixelRatio, pixelRatio)\n  }\n\n  min () {\n    return this._minValue\n  }\n\n  max () {\n    return this._maxValue\n  }\n\n  width () {\n    return this._width\n  }\n\n  height () {\n    return this._height\n  }\n\n  setWidth (width) {\n    this._width = width\n  }\n\n  setHeight (height) {\n    this._height = height\n  }\n\n  /**\n   * Ëé∑Âèñticks\n   * @returns {[]|*[]}\n   */\n  ticks () {\n    return this._ticks\n  }\n\n  /**\n   * ËÆ°ÁÆóËΩ¥\n   * @param forceCompute\n   */\n  computeAxis (forceCompute) {\n    const minMax = this._optimalMinMax(this._computeMinMax())\n    this._minValue = minMax.min\n    this._maxValue = minMax.max\n    this._range = minMax.range\n    this._realMinValue = minMax.realMin\n    this._realMaxValue = minMax.realMax\n    this._realRange = minMax.realRange\n    if (this._cacheMinValue !== minMax.min || this._cacheMaxValue !== minMax.max || forceCompute) {\n      this._cacheMinValue = minMax.min\n      this._cacheMaxValue = minMax.max\n      this._ticks = this._optimalTicks(this._computeTicks())\n      return true\n    }\n    return false\n  }\n\n  /**\n   * ËÆ°ÁÆóÊúÄÂ§ßÊúÄÂ∞èÂÄº\n   * @private\n   */\n  _computeMinMax () {}\n\n  /**\n   * ‰ºòÂåñÊúÄÂ§ßÊúÄÂ∞èÂÄº\n   * @param minMax\n   * @private\n   */\n  _optimalMinMax (minMax) {}\n\n  /**\n   * ËÆ°ÁÆóËΩ¥‰∏äÁöÑtickÂÄº\n   */\n  _computeTicks () {\n    const ticks = []\n    if (this._range >= 0) {\n      const intervalPrecision = this._computeInterval(this._realRange)\n      const interval = intervalPrecision.interval\n      const precision = intervalPrecision.precision\n      const first = round(Math.ceil(this._realMinValue / interval) * interval, precision)\n      const last = round(Math.floor(this._realMaxValue / interval) * interval, precision)\n      let n = 0\n      let f = first\n\n      if (interval !== 0) {\n        while (f <= last) {\n          ticks[n] = { v: f.toFixed(precision) }\n          ++n\n          f += interval\n        }\n      }\n    }\n    return ticks\n  }\n\n  /**\n   * ËÆ°ÁÆóÊúÄ‰Ω≥ÁöÑtick\n   * @param ticks\n   */\n  _optimalTicks (ticks) {}\n\n  /**\n   * ËÆ°ÁÆóÈó¥Èöî\n   * @private\n   */\n  _computeInterval (range) {\n    const interval = nice(range / 8.0)\n    const precision = getPrecision(interval)\n    return {\n      interval, precision\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Axis from './Axis'\nimport { CandleType, YAxisPosition, YAxisType } from '../../options/styleOptions'\nimport { isNumber, isValid } from '../../utils/typeChecks'\nimport { calcTextWidth, createFont } from '../../utils/canvas'\nimport { formatBigNumber, formatPrecision } from '../../utils/format'\nimport { log10, index10 } from '../../utils/number'\n\nexport default class YAxis extends Axis {\n  constructor (chartStore, isCandleYAxis, paneId) {\n    super(chartStore)\n    this._isCandleYAxis = isCandleYAxis\n    this._paneId = paneId\n  }\n\n  _computeMinMax () {\n    const minMaxArray = [Number.MAX_SAFE_INTEGER, Number.MIN_SAFE_INTEGER]\n    const plotsResult = []\n    let shouldOhlc = false\n    let minValue = Number.MAX_SAFE_INTEGER\n    let maxValue = Number.MIN_SAFE_INTEGER\n    let techPrecision = Number.MAX_SAFE_INTEGER\n    const techs = this._chartStore.technicalIndicatorStore().instances(this._paneId)\n    let techGap\n    techs.forEach(tech => {\n      if (!shouldOhlc) {\n        shouldOhlc = tech.shouldOhlc\n      }\n      techPrecision = Math.min(techPrecision, tech.precision)\n      if (isNumber(tech.minValue)) {\n        minValue = Math.min(minValue, tech.minValue)\n      }\n      if (isNumber(tech.maxValue)) {\n        maxValue = Math.max(maxValue, tech.maxValue)\n      }\n      if (tech.styles) {\n        if (!techGap) {\n          techGap = { top: 0, bottom: 0 }\n        }\n        const margin = tech.styles.margin\n        if (isNumber(margin.top)) {\n          if (margin.top < 1) {\n            techGap.top = Math.max(margin.top, techGap.top)\n          } else {\n            techGap.top = Math.max(margin.top / this._height, techGap.top)\n          }\n        }\n        if (isNumber(margin.bottom)) {\n          if (margin.bottom < 1) {\n            techGap.bottom = Math.max(margin.bottom, techGap.bottom)\n          } else {\n            techGap.bottom = Math.max(margin.bottom / this._height, techGap.bottom)\n          }\n        }\n      }\n      plotsResult.push({\n        plots: tech.plots,\n        result: tech.result\n      })\n    })\n\n    let precision = 4\n    if (this._isCandleYAxis) {\n      const pricePrecision = this._chartStore.pricePrecision()\n      if (techPrecision !== Number.MAX_SAFE_INTEGER) {\n        precision = Math.min(techPrecision, pricePrecision)\n      } else {\n        precision = pricePrecision\n      }\n    } else {\n      if (techPrecision !== Number.MAX_SAFE_INTEGER) {\n        precision = techPrecision\n      }\n    }\n    const visibleDataList = this._chartStore.visibleDataList()\n    const candleOptions = this._chartStore.styleOptions().candle\n    const isArea = candleOptions.type === CandleType.AREA\n    const areaValueKey = candleOptions.area.value\n    const shouldCompareHighLow = (this._isCandleYAxis && !isArea) || (!this._isCandleYAxis && shouldOhlc)\n    visibleDataList.forEach(({ index, data }) => {\n      if (shouldCompareHighLow) {\n        minMaxArray[0] = Math.min(minMaxArray[0], data.low)\n        minMaxArray[1] = Math.max(minMaxArray[1], data.high)\n      }\n      if (this._isCandleYAxis && isArea) {\n        minMaxArray[0] = Math.min(minMaxArray[0], data[areaValueKey])\n        minMaxArray[1] = Math.max(minMaxArray[1], data[areaValueKey])\n      }\n      plotsResult.forEach(({ plots, result }) => {\n        const techData = result[index] || {}\n        plots.forEach(plot => {\n          const value = techData[plot.key]\n          if (isValid(value)) {\n            minMaxArray[0] = Math.min(minMaxArray[0], value)\n            minMaxArray[1] = Math.max(minMaxArray[1], value)\n          }\n        })\n      })\n    })\n    if (minMaxArray[0] !== Number.MAX_SAFE_INTEGER && minMaxArray[1] !== Number.MIN_SAFE_INTEGER) {\n      minMaxArray[0] = Math.min(minValue, minMaxArray[0])\n      minMaxArray[1] = Math.max(maxValue, minMaxArray[1])\n    } else {\n      minMaxArray[0] = 0\n      minMaxArray[1] = 10\n    }\n    return { min: minMaxArray[0], max: minMaxArray[1], precision, specifyMin: minValue, specifyMax: maxValue, techGap }\n  }\n\n  _optimalMinMax ({ min, max, precision, specifyMin, specifyMax, techGap }) {\n    let minValue = min\n    let maxValue = max\n    const yAxisType = this.yAxisType()\n    let dif\n    switch (yAxisType) {\n      case YAxisType.PERCENTAGE: {\n        const fromData = (this._chartStore.visibleDataList()[0] || {}).data || {}\n        if (isNumber(fromData.close)) {\n          minValue = (minValue - fromData.close) / fromData.close * 100\n          maxValue = (maxValue - fromData.close) / fromData.close * 100\n        }\n        dif = Math.pow(10, -2)\n        break\n      }\n      case YAxisType.LOG: {\n        minValue = log10(minValue)\n        maxValue = log10(maxValue)\n        dif = 0.05 * index10(-precision)\n        break\n      }\n      default: {\n        dif = index10(-precision)\n      }\n    }\n    if (\n      minValue === maxValue ||\n      Math.abs(minValue - maxValue) < dif\n    ) {\n      const minCheck = specifyMin === minValue\n      const maxCheck = specifyMax === maxValue\n      minValue = minCheck ? minValue : (maxCheck ? minValue - 8 * dif : minValue - 4 * dif)\n      maxValue = maxCheck ? maxValue : (minCheck ? maxValue + 8 * dif : maxValue + 4 * dif)\n    }\n    let marginOptions\n    if (this._isCandleYAxis) {\n      marginOptions = this._chartStore.styleOptions().candle.margin\n    } else {\n      // Â¶ÇÊûúÊòØÂâØÂõæÔºåÁõ¥Êé•ÂèñÊåáÊ†áÁöÑÊ†∑ÂºèÈÖçÁΩÆ\n      marginOptions = techGap ? { top: 0, bottom: 0 } : this._chartStore.styleOptions().technicalIndicator.margin\n    }\n    let topRate = 0.2\n    if (isNumber(marginOptions.top)) {\n      let rate\n      if (marginOptions.top < 1) {\n        rate = marginOptions.top\n      } else {\n        rate = marginOptions.top / this._height\n      }\n      topRate = techGap ? Math.max(techGap.top, rate) : rate\n    }\n    let bottomRate = 0.1\n    if (isNumber(marginOptions.bottom)) {\n      let rate\n      if (marginOptions.bottom < 1) {\n        rate = marginOptions.bottom\n      } else {\n        rate = marginOptions.bottom / this._height\n      }\n      bottomRate = techGap ? Math.max(techGap.bottom, rate) : rate\n    }\n    let range = Math.abs(maxValue - minValue)\n    // ‰øùËØÅÊØèÊ¨°ÂõæÂΩ¢ÁªòÂà∂‰∏ä‰∏ãÈÉΩÁïôÈó¥Èöô\n    minValue = minValue - range * bottomRate\n    maxValue = maxValue + range * topRate\n    range = Math.abs(maxValue - minValue)\n    let realMinValue\n    let realMaxValue\n    let realRange\n    if (yAxisType === YAxisType.LOG) {\n      realMinValue = index10(minValue)\n      realMaxValue = index10(maxValue)\n      realRange = Math.abs(realMaxValue - realMinValue)\n    } else {\n      realMinValue = minValue\n      realMaxValue = maxValue\n      realRange = range\n    }\n    return {\n      min: minValue,\n      max: maxValue,\n      range,\n      realMin: realMinValue,\n      realMax: realMaxValue,\n      realRange\n    }\n  }\n\n  _optimalTicks (ticks) {\n    const optimalTicks = []\n    const yAxisType = this.yAxisType()\n    const techs = this._chartStore.technicalIndicatorStore().instances(this._paneId)\n    let precision = 0\n    let shouldFormatBigNumber = false\n    if (this._isCandleYAxis) {\n      precision = this._chartStore.pricePrecision()\n    } else {\n      techs.forEach(tech => {\n        precision = Math.max(precision, tech.precision)\n        if (!shouldFormatBigNumber) {\n          shouldFormatBigNumber = tech.shouldFormatBigNumber\n        }\n      })\n    }\n    const textHeight = this._chartStore.styleOptions().xAxis.tickText.size\n    let validY\n    ticks.forEach(({ v }) => {\n      let value\n      let y = this._innerConvertToPixel(+v)\n      switch (yAxisType) {\n        case YAxisType.PERCENTAGE: {\n          value = `${formatPrecision(v, 2)}%`\n          break\n        }\n        case YAxisType.LOG: {\n          y = this._innerConvertToPixel(log10(v))\n          value = formatPrecision(v, precision)\n          break\n        }\n        default: {\n          value = formatPrecision(v, precision)\n          if (shouldFormatBigNumber) {\n            value = formatBigNumber(value)\n          }\n          break\n        }\n      }\n      if (y > textHeight && y < this._height - textHeight && ((validY && (Math.abs(validY - y) > textHeight * 2)) || !validY)) {\n        optimalTicks.push({ v: value, y })\n        validY = y\n      }\n    })\n    return optimalTicks\n  }\n\n  /**\n   * ÂÜÖÈÉ®ÂÄºËΩ¨Êç¢ÊàêÂùêÊ†á\n   * @param value\n   * @return {number}\n   * @private\n   */\n  _innerConvertToPixel (value) {\n    const rate = (value - this._minValue) / this._range\n    return this.isReverse() ? Math.round(rate * this._height) : Math.round((1.0 - rate) * this._height)\n  }\n\n  /**\n   * ÊòØÂê¶ÊòØËú°ÁÉõÂõæËΩ¥\n   * @return {boolean}\n   */\n  isCandleYAxis () {\n    return this._isCandleYAxis\n  }\n\n  /**\n   * yËΩ¥Á±ªÂûã\n   * @return {string}\n   */\n  yAxisType () {\n    return this._isCandleYAxis ? this._chartStore.styleOptions().yAxis.type : YAxisType.NORMAL\n  }\n\n  /**\n   * ÊòØÂê¶ÂèçËΩ¨\n   * @return {boolean}\n   */\n  isReverse () {\n    return this._isCandleYAxis && this._chartStore.styleOptions().yAxis.reverse\n  }\n\n  /**\n   * ÊòØÂê¶‰ªéyËΩ¥0ÂºÄÂßã\n   * @return {boolean}\n   */\n  isFromYAxisZero () {\n    const yAxisOptions = this._chartStore.styleOptions().yAxis\n    return (\n      (yAxisOptions.position === YAxisPosition.LEFT && yAxisOptions.inside) ||\n      (yAxisOptions.position === YAxisPosition.RIGHT && !yAxisOptions.inside)\n    )\n  }\n\n  /**\n   * Ëé∑ÂèñËá™Ë∫´ÂÆΩÂ∫¶\n   * @return {number}\n   */\n  getSelfWidth () {\n    const styleOptions = this._chartStore.styleOptions()\n    const yAxisOptions = styleOptions.yAxis\n    const width = yAxisOptions.width\n    if (isNumber(width)) {\n      return width\n    }\n    let yAxisWidth = 0\n    if (yAxisOptions.show) {\n      if (yAxisOptions.axisLine.show) {\n        yAxisWidth += yAxisOptions.axisLine.size\n      }\n      if (yAxisOptions.tickLine.show) {\n        yAxisWidth += yAxisOptions.tickLine.length\n      }\n      if (yAxisOptions.tickText.show) {\n        let textWidth = 0\n        this._measureCtx.font = createFont(yAxisOptions.tickText.size, yAxisOptions.tickText.weight, yAxisOptions.tickText.family)\n        this._ticks.forEach(tick => {\n          textWidth = Math.max(textWidth, calcTextWidth(this._measureCtx, tick.v))\n        })\n        yAxisWidth += (yAxisOptions.tickText.paddingLeft + yAxisOptions.tickText.paddingRight + textWidth)\n      }\n    }\n    const crosshairOptions = styleOptions.crosshair\n    let crosshairVerticalTextWidth = 0\n    if (\n      crosshairOptions.show &&\n      crosshairOptions.horizontal.show &&\n      crosshairOptions.horizontal.text.show\n    ) {\n      const techs = this._chartStore.technicalIndicatorStore().instances(this._paneId)\n      let techPrecision = 0\n      let shouldFormatBigNumber = false\n      techs.forEach(tech => {\n        techPrecision = Math.max(tech.precision, techPrecision)\n        if (!shouldFormatBigNumber) {\n          shouldFormatBigNumber = tech.shouldFormatBigNumber\n        }\n      })\n      this._measureCtx.font = createFont(\n        crosshairOptions.horizontal.text.size,\n        crosshairOptions.horizontal.text.weight,\n        crosshairOptions.horizontal.text.family\n      )\n      let precision = 2\n      if (this.yAxisType() !== YAxisType.PERCENTAGE) {\n        if (this._isCandleYAxis) {\n          const pricePrecision = this._chartStore.pricePrecision()\n          const lastValueMarkOptions = styleOptions.technicalIndicator.lastValueMark\n          if (lastValueMarkOptions.show && lastValueMarkOptions.text.show) {\n            precision = Math.max(techPrecision, pricePrecision)\n          } else {\n            precision = pricePrecision\n          }\n        } else {\n          precision = techPrecision\n        }\n      }\n      let valueText = formatPrecision(this._maxValue, precision)\n      if (shouldFormatBigNumber) {\n        valueText = formatBigNumber(valueText)\n      }\n      crosshairVerticalTextWidth += (\n        crosshairOptions.horizontal.text.paddingLeft +\n        crosshairOptions.horizontal.text.paddingRight +\n        crosshairOptions.horizontal.text.borderSize * 2 +\n        calcTextWidth(this._measureCtx, valueText)\n      )\n    }\n    return Math.max(yAxisWidth, crosshairVerticalTextWidth)\n  }\n\n  convertFromPixel (pixel) {\n    const rate = this.isReverse() ? pixel / this._height : 1 - pixel / this._height\n    const value = rate * this._range + this._minValue\n    switch (this.yAxisType()) {\n      case YAxisType.PERCENTAGE: {\n        const fromData = (this._chartStore.visibleDataList()[0] || {}).data || {}\n        if (isNumber(fromData.close)) {\n          return fromData.close * value / 100 + fromData.close\n        }\n        break\n      }\n      case YAxisType.LOG: {\n        return index10(value)\n      }\n      default: {\n        return value\n      }\n    }\n  }\n\n  convertToPixel (value) {\n    let v\n    switch (this.yAxisType()) {\n      case YAxisType.PERCENTAGE: {\n        const fromData = (this._chartStore.visibleDataList()[0] || {}).data || {}\n        if (isNumber(fromData.close)) {\n          v = (value - fromData.close) / fromData.close * 100\n        }\n        break\n      }\n      case YAxisType.LOG: {\n        v = log10(value)\n        break\n      }\n      default: {\n        v = value\n      }\n    }\n    return this._innerConvertToPixel(v)\n  }\n\n  /**\n   * Â∞ÜÂÄºËΩ¨Êç¢ÊàêÂùêÊ†áÔºåÂç≥‰ΩøÂùêÊ†á‰∏çÂú®ËåÉÂõ¥ÂÜÖÔºå‰πü‰ºöÊòæÁ§∫Âú®È°∂ÈÉ®ÊàñËÄÖÂ∫ïÈÉ®\n   * @param value\n   * @return {number}\n   */\n  convertToNicePixel (value) {\n    const y = this.convertToPixel(value)\n    return Math.round(Math.max(this._height * 0.05, Math.min(y, this._height * 0.98)))\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Pane from './Pane'\nimport TechnicalIndicatorWidget from '../widget/TechnicalIndicatorWidget'\nimport YAxisWidget from '../widget/YAxisWidget'\nimport YAxis from '../component/axis/YAxis'\n\nimport { isValid } from '../utils/typeChecks'\n\nexport default class TechnicalIndicatorPane extends Pane {\n  constructor (props) {\n    super(props)\n    this._minHeight = 30\n    this._initHeight(props)\n  }\n\n  _initBefore (props) {\n    this._id = props.id\n    this._yAxis = this._createYAxis(props)\n  }\n\n  _initHeight (props) {\n    const height = props.height\n    const minHeight = props.minHeight\n    if (isValid(minHeight)) {\n      this.setMinHeight(minHeight)\n    }\n    if (isValid(height)) {\n      const mh = this.minHeight()\n      const h = height < mh ? mh : height\n      this.setHeight(h)\n    }\n  }\n\n  _createYAxis (props) {\n    return new YAxis(\n      props.chartStore,\n      false,\n      props.id\n    )\n  }\n\n  _createMainWidget (container, props) {\n    return new TechnicalIndicatorWidget({\n      container,\n      chartStore: props.chartStore,\n      xAxis: props.xAxis,\n      yAxis: this._yAxis,\n      paneId: props.id\n    })\n  }\n\n  _createYAxisWidget (container, props) {\n    return new YAxisWidget({\n      container,\n      chartStore: props.chartStore,\n      yAxis: this._yAxis,\n      paneId: props.id\n    })\n  }\n\n  /**\n   * Ëé∑ÂèñÊúÄÂ∞èÈ´òÂ∫¶\n   * @returns\n   */\n  minHeight () {\n    return this._minHeight\n  }\n\n  /**\n   * ËÆæÁΩÆÊúÄÂ∞èÈ´òÂ∫¶\n   * @param minHeight\n   */\n  setMinHeight (minHeight) {\n    this._minHeight = minHeight\n  }\n\n  setHeight (height) {\n    super.setHeight(height)\n    this._yAxis.setHeight(height)\n  }\n\n  setWidth (mainWidgetWidth, yAxisWidgetWidth) {\n    super.setWidth(mainWidgetWidth, yAxisWidgetWidth)\n    this._yAxis.setWidth(yAxisWidgetWidth)\n  }\n\n  /**\n   * Ëé∑Âèñid\n   * @returns {string}\n   */\n  id () {\n    return this._id\n  }\n\n  yAxis () {\n    return this._yAxis\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport TechnicalIndicatorView from './TechnicalIndicatorView'\nimport { CandleType, LineStyle } from '../options/styleOptions'\nimport { renderHorizontalLine, renderLine } from '../renderer/line'\nimport { renderCloseFillPath } from '../renderer/path'\nimport { createFont } from '../utils/canvas'\nimport { formatPrecision, formatValue } from '../utils/format'\nimport { isArray, isNumber } from '../utils/typeChecks'\n\nexport default class CandleView extends TechnicalIndicatorView {\n  _drawContent () {\n    const candleOptions = this._chartStore.styleOptions().candle\n    this._drawLastPriceLine(candleOptions.priceMark)\n    if (candleOptions.type === CandleType.AREA) {\n      this._drawArea(candleOptions)\n    } else {\n      this._drawHighLowPrice(candleOptions.priceMark)\n      this._drawCandle(candleOptions)\n    }\n    this._drawTechs()\n    this._drawGrid()\n  }\n\n  /**\n   * ÁªòÂà∂Èù¢ÁßØÂõæ\n   * @param candleOptions\n   * @private\n   */\n  _drawArea (candleOptions) {\n    const lineCoordinates = []\n    const areaCoordinates = []\n    let minY = Number.MAX_SAFE_INTEGER\n    const areaOptions = candleOptions.area\n    const onDrawing = (x, i, kLineData, halfBarSpace, barSpace, n) => {\n      const value = kLineData[areaOptions.value]\n      if (isNumber(value)) {\n        const y = this._yAxis.convertToPixel(value)\n        if (n === 0) {\n          const startX = x - halfBarSpace\n          areaCoordinates.push({ x: startX, y: this._height })\n          areaCoordinates.push({ x: startX, y })\n          lineCoordinates.push({ x: startX, y })\n        }\n        lineCoordinates.push({ x, y })\n        areaCoordinates.push({ x, y })\n        minY = Math.min(minY, y)\n      }\n    }\n    const onDrawEnd = () => {\n      const areaCoordinateLength = areaCoordinates.length\n      if (areaCoordinateLength > 0) {\n        const lastCoordinate = areaCoordinates[areaCoordinateLength - 1]\n        const halfBarSpace = this._chartStore.timeScaleStore().halfBarSpace()\n        const endX = lastCoordinate.x + halfBarSpace\n        lineCoordinates.push({ x: endX, y: lastCoordinate.y })\n        areaCoordinates.push({ x: endX, y: lastCoordinate.y })\n        areaCoordinates.push({ x: endX, y: this._height })\n      }\n\n      if (lineCoordinates.length > 0) {\n        // ÁªòÂà∂ÂàÜÊó∂Á∫ø\n        this._ctx.lineWidth = areaOptions.lineSize\n        this._ctx.strokeStyle = areaOptions.lineColor\n        renderLine(this._ctx, lineCoordinates)\n      }\n\n      if (areaCoordinates.length > 0) {\n        // ÁªòÂà∂ÂàÜÊó∂Á∫øÂ°´ÂÖÖÂå∫Âüü\n        const backgroundColor = areaOptions.backgroundColor\n        if (isArray(backgroundColor)) {\n          const gradient = this._ctx.createLinearGradient(0, this._height, 0, minY)\n          try {\n            backgroundColor.forEach(({ offset, color }) => {\n              gradient.addColorStop(offset, color)\n            })\n          } catch (e) {\n          }\n          this._ctx.fillStyle = gradient\n        } else {\n          this._ctx.fillStyle = backgroundColor\n        }\n        renderCloseFillPath(this._ctx, areaCoordinates)\n      }\n    }\n    this._drawGraphics(onDrawing, onDrawEnd)\n  }\n\n  /**\n   * ÁªòÂà∂Ëú°ÁÉõ\n   * @param candleOptions\n   * @private\n   */\n  _drawCandle (candleOptions) {\n    this._drawGraphics((x, i, kLineData, halfBarSpace, barSpace) => {\n      this._drawCandleBar(x, halfBarSpace, barSpace, kLineData, candleOptions.bar, candleOptions.type)\n    })\n  }\n\n  /**\n   * Ê∏≤ÊüìÊúÄÈ´òÊúÄ‰Ωé‰ª∑Ê†º\n   * @param priceMarkOptions\n   * @private\n   */\n  _drawHighLowPrice (priceMarkOptions) {\n    if (!priceMarkOptions.show || (!priceMarkOptions.high.show && !priceMarkOptions.low.show)) {\n      return\n    }\n    const highest = { price: Number.MIN_SAFE_INTEGER, pos: -1 }\n    const lowest = { price: Number.MAX_SAFE_INTEGER, pos: -1 }\n    const visibleDataList = this._chartStore.visibleDataList()\n    visibleDataList.forEach(({ index, data }) => {\n      const high = formatValue(data, 'high', Number.MIN_SAFE_INTEGER)\n      if (high > highest.price) {\n        highest.price = high\n        highest.pos = index\n      }\n      const low = formatValue(data, 'low', Number.MAX_SAFE_INTEGER)\n      if (low < lowest.price) {\n        lowest.price = low\n        lowest.pos = index\n      }\n    })\n    const highY = this._yAxis.convertToPixel(highest.price)\n    highest.y = highY\n    const lowY = this._yAxis.convertToPixel(lowest.price)\n    lowest.y = lowY\n    let highOffset = []\n    let lowOffset = []\n    if (highY < lowY) {\n      highOffset = [-2, -5]\n      lowOffset = [2, 5]\n    } else {\n      highOffset = [2, 5]\n      lowOffset = [-2, -5]\n    }\n\n    const pricePrecision = this._chartStore.pricePrecision()\n    this._ctx.textAlign = 'left'\n    this._ctx.lineWidth = 1\n    this._ctx.textBaseline = 'middle'\n    this._drawRealHighLowPrice(priceMarkOptions.high, highOffset, pricePrecision, highest)\n    this._drawRealHighLowPrice(priceMarkOptions.low, lowOffset, pricePrecision, lowest)\n  }\n\n  /**\n   * ÁúüÂÆûÁªòÂà∂ÊúÄÈ´òÊúÄ‰Ωé‰ª∑\n   * @param options\n   * @param offset\n   * @param precision\n   * @param data\n   * @returns\n   */\n  _drawRealHighLowPrice (options, offset, precision, data) {\n    if (!options.show) {\n      return\n    }\n    const { price, pos, y: priceY } = data\n    const startX = this._xAxis.convertToPixel(pos)\n    const startY = priceY + offset[0]\n    this._ctx.strokeStyle = options.color\n    this._ctx.fillStyle = options.color\n\n    renderLine(\n      this._ctx,\n      [\n        { x: startX - 2, y: startY + offset[0] },\n        { x: startX, y: startY },\n        { x: startX + 2, y: startY + offset[0] }\n      ]\n    )\n\n    let lineEndX\n    let textStartX\n    if (startX > this._width / 2) {\n      lineEndX = startX - 5\n      textStartX = lineEndX - options.textMargin\n      this._ctx.textAlign = 'right'\n    } else {\n      lineEndX = startX + 5\n      this._ctx.textAlign = 'left'\n      textStartX = lineEndX + options.textMargin\n    }\n\n    // ÁªòÂà∂Á´ñÁ∫ø\n    const y = startY + offset[1]\n    renderLine(\n      this._ctx,\n      [\n        { x: startX, y: startY },\n        { x: startX, y },\n        { x: lineEndX, y }\n      ]\n    )\n    this._ctx.font = createFont(options.textSize, options.textWeight, options.textFamily)\n    const text = formatPrecision(price, precision)\n    this._ctx.fillText(text, textStartX, y)\n  }\n\n  /**\n   * ÁªòÂà∂ÊúÄÊñ∞‰ª∑Á∫ø\n   * @param priceMarkOptions\n   * @private\n   */\n  _drawLastPriceLine (priceMarkOptions) {\n    const lastPriceMarkOptions = priceMarkOptions.last\n    if (!priceMarkOptions.show || !lastPriceMarkOptions.show || !lastPriceMarkOptions.line.show) {\n      return\n    }\n    const dataList = this._chartStore.dataList()\n    const kLineData = dataList[dataList.length - 1]\n    if (!kLineData) {\n      return\n    }\n    const close = kLineData.close\n    const open = kLineData.open\n    const priceY = this._yAxis.convertToNicePixel(close)\n    let color\n    if (close > open) {\n      color = lastPriceMarkOptions.upColor\n    } else if (close < open) {\n      color = lastPriceMarkOptions.downColor\n    } else {\n      color = lastPriceMarkOptions.noChangeColor\n    }\n    this._ctx.save()\n    this._ctx.strokeStyle = color\n    this._ctx.lineWidth = lastPriceMarkOptions.line.size\n    if (lastPriceMarkOptions.line.style === LineStyle.DASH) {\n      this._ctx.setLineDash(lastPriceMarkOptions.line.dashValue)\n    }\n    renderHorizontalLine(this._ctx, priceY, 0, this._width)\n    this._ctx.restore()\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport TechnicalIndicatorOverlayView from './TechnicalIndicatorOverlayView'\nimport { isFunction, isObject, isArray, isValid } from '../utils/typeChecks'\nimport { formatBigNumber, formatDate, formatPrecision, formatValue } from '../utils/format'\nimport { calcTextWidth, createFont } from '../utils/canvas'\nimport { TooltipShowType, YAxisPosition } from '../options/styleOptions'\nimport { renderFillRoundRect, renderStrokeRoundRect } from '../renderer/rect'\nimport { renderText } from '../renderer/text'\n\nexport default class CandleOverlayView extends TechnicalIndicatorOverlayView {\n  _drawTooltip (crosshair, techs) {\n    const styleOptions = this._chartStore.styleOptions()\n    const candleOptions = styleOptions.candle\n    const candleTooltipOptions = candleOptions.tooltip\n    const techOptions = styleOptions.technicalIndicator\n    const techTooltipOptions = techOptions.tooltip\n    const isDrawCandleTooltip = this._shouldDrawTooltip(crosshair, candleTooltipOptions)\n    const isDrawTechTooltip = this._shouldDrawTooltip(crosshair, techTooltipOptions)\n    if (\n      candleTooltipOptions.showType === TooltipShowType.RECT &&\n      techTooltipOptions.showType === TooltipShowType.RECT\n    ) {\n      this._drawCandleTooltipWithRect(\n        crosshair,\n        techs,\n        candleOptions,\n        isDrawCandleTooltip,\n        techOptions,\n        0,\n        isDrawTechTooltip\n      )\n    } else {\n      if (candleTooltipOptions.showType === TooltipShowType.STANDARD) {\n        const tooltipHeight = this._drawCandleTooltipWithStandard(crosshair.kLineData, candleOptions, isDrawCandleTooltip)\n        if (techTooltipOptions.showType === TooltipShowType.STANDARD) {\n          const offsetTop = isDrawCandleTooltip ? tooltipHeight + candleTooltipOptions.text.marginTop : 0\n          this._drawBatchTechToolTip(\n            crosshair,\n            techs,\n            techOptions,\n            offsetTop,\n            isDrawTechTooltip\n          )\n        } else {\n          this._drawCandleTooltipWithRect(\n            crosshair,\n            techs,\n            candleOptions,\n            false,\n            techOptions,\n            tooltipHeight,\n            isDrawTechTooltip\n          )\n        }\n      } else {\n        const tooltipHeight = this._drawBatchTechToolTip(\n          crosshair,\n          techs,\n          techOptions,\n          0,\n          isDrawTechTooltip\n        )\n        this._drawCandleTooltipWithRect(\n          crosshair,\n          techs,\n          candleOptions,\n          isDrawCandleTooltip,\n          techOptions,\n          tooltipHeight,\n          false\n        )\n      }\n    }\n  }\n\n  /**\n   * ÁªòÂà∂Ëú°ÁÉõÈªòËÆ§ÁöÑÂõæ‰æã\n   * @param kLineData\n   * @param candleOptions\n   * @param isDrawCandleTooltip\n   * @returns {number}\n   * @private\n   */\n  _drawCandleTooltipWithStandard (kLineData, candleOptions, isDrawCandleTooltip) {\n    if (!isDrawCandleTooltip) {\n      return 0\n    }\n    const values = this._getCandleTooltipData(kLineData, candleOptions)\n    const candleTooltipOptions = candleOptions.tooltip\n    const textMarginLeft = candleTooltipOptions.text.marginLeft\n    const textMarginRight = candleTooltipOptions.text.marginRight\n    const textSize = candleTooltipOptions.text.size\n    const textColor = candleTooltipOptions.text.color\n    const labels = candleTooltipOptions.labels\n    this._ctx.textBaseline = 'top'\n    this._ctx.font = createFont(textSize, candleTooltipOptions.text.weight, candleTooltipOptions.text.family)\n    let labelX = textMarginLeft\n    let labelY = candleTooltipOptions.text.marginTop\n    let tooltipHeight = textSize\n    labels.forEach((label, i) => {\n      const labelWidth = calcTextWidth(this._ctx, label)\n      const value = values[i] || candleTooltipOptions.defaultValue\n      let valueText\n      let valueColor\n      if (isObject(value)) {\n        valueText = value.value || candleTooltipOptions.defaultValue\n        valueColor = value.color || textColor\n      } else {\n        valueColor = textColor\n        valueText = value\n      }\n      const textWidth = calcTextWidth(this._ctx, valueText)\n      if (labelX + labelWidth + textWidth > this._width) {\n        labelX = textMarginLeft\n        tooltipHeight += (textSize + 1)\n        labelY += (textSize + 1)\n      }\n      renderText(this._ctx, textColor, labelX, labelY, label)\n      renderText(this._ctx, valueColor, labelX + labelWidth, labelY, valueText)\n      labelX += (labelWidth + textWidth + textMarginLeft + textMarginRight)\n    })\n    return tooltipHeight\n  }\n\n  /**\n   * ÁªòÂà∂Ëú°ÁÉõÂõæÁü©ÂΩ¢Á±ªÂûãÂõæ‰æã\n   * @param crosshair\n   * @param techs\n   * @param candleOptions\n   * @param isDrawCandleTooltip\n   * @param techOptions\n   * @param offsetTop\n   * @param isDrawTechTooltip\n   * @private\n   */\n  _drawCandleTooltipWithRect (\n    crosshair, techs, candleOptions, isDrawCandleTooltip,\n    techOptions, offsetTop, isDrawTechTooltip\n  ) {\n    if (!isDrawCandleTooltip && !isDrawTechTooltip) {\n      return\n    }\n    const candleTooltipOptions = candleOptions.tooltip\n    const baseLabels = candleTooltipOptions.labels\n    const baseValues = this._getCandleTooltipData(crosshair.kLineData, candleOptions)\n    const baseTextMarginLeft = candleTooltipOptions.text.marginLeft\n    const baseTextMarginRight = candleTooltipOptions.text.marginRight\n    const baseTextMarginTop = candleTooltipOptions.text.marginTop\n    const baseTextMarginBottom = candleTooltipOptions.text.marginBottom\n    const baseTextSize = candleTooltipOptions.text.size\n    const baseTextColor = candleTooltipOptions.text.color\n\n    const rectOptions = candleTooltipOptions.rect\n    const rectBorderSize = rectOptions.borderSize\n    const rectPaddingLeft = rectOptions.paddingLeft\n    const rectPaddingRight = rectOptions.paddingRight\n    const rectPaddingTop = rectOptions.paddingTop\n    const rectPaddingBottom = rectOptions.paddingBottom\n    const rectLeft = rectOptions.offsetLeft\n    const rectRight = rectOptions.offsetRight\n\n    let maxLabelWidth = 0\n    let rectWidth = 0\n    let rectHeight = 0\n    this._ctx.save()\n    this._ctx.textBaseline = 'top'\n    if (isDrawCandleTooltip) {\n      this._ctx.font = createFont(baseTextSize, candleTooltipOptions.text.weight, candleTooltipOptions.text.family)\n      baseLabels.forEach((label, i) => {\n        const value = baseValues[i]\n        let v\n        if (isObject(value)) {\n          v = value.value || candleTooltipOptions.defaultValue\n        } else {\n          v = value\n        }\n        const text = `${label}${v}`\n        const labelWidth = calcTextWidth(this._ctx, text) + baseTextMarginLeft + baseTextMarginRight\n        maxLabelWidth = Math.max(maxLabelWidth, labelWidth)\n      })\n      rectHeight += ((baseTextMarginBottom + baseTextMarginTop + baseTextSize) * baseLabels.length)\n    }\n\n    const techTooltipOptions = techOptions.tooltip\n\n    const techTooltipTextMarginLeft = techTooltipOptions.text.marginLeft\n    const techTooltipTextMarginRight = techTooltipOptions.text.marginRight\n    const techTooltipTextMarginTop = techTooltipOptions.text.marginTop\n    const techTooltipTextMarginBottom = techTooltipOptions.text.marginBottom\n    const techTooltipTextSize = techTooltipOptions.text.size\n    const techTooltipDataList = []\n    techs.forEach(tech => { techTooltipDataList.push(this._getTechTooltipData(crosshair, tech, techOptions)) })\n    if (isDrawTechTooltip) {\n      this._ctx.font = createFont(\n        techTooltipTextSize,\n        techTooltipOptions.text.weight,\n        techTooltipOptions.text.family\n      )\n      techTooltipDataList.forEach(tooltipData => {\n        tooltipData.values.forEach(({ title, value }) => {\n          if (isValid(title)) {\n            const text = `${title}${value}`\n            const labelWidth = calcTextWidth(this._ctx, text) + techTooltipTextMarginLeft + techTooltipTextMarginRight\n            maxLabelWidth = Math.max(maxLabelWidth, labelWidth)\n            rectHeight += (techTooltipTextMarginTop + techTooltipTextMarginBottom + techTooltipTextSize)\n          }\n        })\n      })\n    }\n    rectWidth += maxLabelWidth\n    if (rectWidth === 0 || rectHeight === 0) {\n      return\n    }\n    rectWidth += (rectBorderSize * 2 + rectPaddingLeft + rectPaddingRight)\n    rectHeight += (rectBorderSize * 2 + rectPaddingTop + rectPaddingBottom)\n    const styleOptions = this._chartStore.styleOptions()\n    const centerX = this._width / 2\n    let rectX\n    if (crosshair.realX < centerX) {\n      rectX = this._width - rectRight - rectWidth\n      if (styleOptions.yAxis.inside && styleOptions.yAxis.position === YAxisPosition.RIGHT) {\n        rectX -= this._yAxis.width()\n      }\n    } else {\n      rectX = rectLeft\n      if (styleOptions.yAxis.inside && styleOptions.yAxis.position === YAxisPosition.LEFT) {\n        rectX += this._yAxis.width()\n      }\n    }\n    const rectY = offsetTop + rectOptions.offsetTop\n    const radius = rectOptions.borderRadius\n    renderFillRoundRect(this._ctx, rectOptions.backgroundColor, rectX, rectY, rectWidth, rectHeight, radius)\n    renderStrokeRoundRect(this._ctx, rectOptions.borderColor, rectBorderSize, rectX, rectY, rectWidth, rectHeight, radius)\n    const baseLabelX = rectX + rectBorderSize + rectPaddingLeft + baseTextMarginLeft\n    let labelY = rectY + rectBorderSize + rectPaddingTop\n    if (isDrawCandleTooltip) {\n      // ÂºÄÂßãÊ∏≤ÊüìÂü∫Á°ÄÊï∞ÊçÆÊñáÂ≠ó\n      this._ctx.font = createFont(\n        baseTextSize,\n        candleTooltipOptions.text.weight,\n        candleTooltipOptions.text.family\n      )\n      baseLabels.forEach((label, i) => {\n        labelY += baseTextMarginTop\n        this._ctx.textAlign = 'left'\n        renderText(this._ctx, baseTextColor, baseLabelX, labelY, label)\n\n        const value = baseValues[i]\n        let text\n        let color\n        if (isObject(value)) {\n          color = value.color || baseTextColor\n          text = value.value || candleTooltipOptions.defaultValue\n        } else {\n          color = baseTextColor\n          text = value || candleTooltipOptions.defaultValue\n        }\n        this._ctx.textAlign = 'right'\n        renderText(\n          this._ctx,\n          color,\n          rectX + rectWidth - rectBorderSize - baseTextMarginRight - rectPaddingRight,\n          labelY,\n          text\n        )\n        labelY += (baseTextSize + baseTextMarginBottom)\n      })\n    }\n    if (isDrawTechTooltip) {\n      // ÂºÄÂßãÊ∏≤ÊüìÊåáÊ†áÊï∞ÊçÆÊñáÂ≠ó\n      const indicatorLabelX = rectX + rectBorderSize + rectPaddingLeft + techTooltipTextMarginLeft\n      this._ctx.font = createFont(\n        techTooltipTextSize,\n        techTooltipOptions.text.weight,\n        techTooltipOptions.text.family\n      )\n      techTooltipDataList.forEach(tooltipData => {\n        tooltipData.values.forEach(v => {\n          labelY += techTooltipTextMarginTop\n          this._ctx.textAlign = 'left'\n          this._ctx.fillStyle = v.color || techTooltipOptions.text.color\n          this._ctx.fillText(v.title, indicatorLabelX, labelY)\n          this._ctx.textAlign = 'right'\n          this._ctx.fillText(\n            v.value,\n            rectX + rectWidth - rectBorderSize - techTooltipTextMarginRight - rectPaddingRight,\n            labelY\n          )\n          labelY += (techTooltipTextSize + techTooltipTextMarginBottom)\n        })\n      })\n    }\n    this._ctx.restore()\n  }\n\n  /**\n   * Ëé∑ÂèñËú°ÁÉõÊèêÁ§∫Êï∞ÊçÆ\n   * @param kLineData\n   * @param candleOptions\n   * @returns {*}\n   * @private\n   */\n  _getCandleTooltipData (kLineData, candleOptions) {\n    const baseValues = candleOptions.tooltip.values\n    let values = []\n    if (baseValues) {\n      if (isFunction(baseValues)) {\n        values = baseValues(kLineData, candleOptions) || []\n      } else if (isArray(baseValues)) {\n        values = baseValues\n      }\n    } else {\n      const pricePrecision = this._chartStore.pricePrecision()\n      const volumePrecision = this._chartStore.volumePrecision()\n      values = [\n        formatValue(kLineData, 'timestamp'),\n        formatValue(kLineData, 'open'),\n        formatValue(kLineData, 'close'),\n        formatValue(kLineData, 'high'),\n        formatValue(kLineData, 'low'),\n        formatValue(kLineData, 'volume')\n      ]\n      values.forEach((value, index) => {\n        switch (index) {\n          case 0: {\n            values[index] = formatDate(this._chartStore.timeScaleStore().dateTimeFormat(), value, 'YYYY-MM-DD hh:mm')\n            break\n          }\n          case values.length - 1: {\n            values[index] = formatBigNumber(formatPrecision(value, volumePrecision))\n            break\n          }\n          default: {\n            values[index] = formatPrecision(value, pricePrecision)\n            break\n          }\n        }\n      })\n    }\n    return values\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport CandleView from '../view/CandleView'\nimport CandleOverlayView from '../view/CandleOverlayView'\nimport TechnicalIndicatorWidget from './TechnicalIndicatorWidget'\n\nexport default class CandleWidget extends TechnicalIndicatorWidget {\n  _createMainView (container, props) {\n    return new CandleView(container, props.chartStore, props.xAxis, props.yAxis, props.paneId)\n  }\n\n  _createOverlayView (container, props) {\n    return new CandleOverlayView(container, props.chartStore, props.xAxis, props.yAxis, props.paneId)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport TechnicalIndicatorPane from './TechnicalIndicatorPane'\nimport CandleWidget from '../widget/CandleWidget'\nimport YAxis from '../component/axis/YAxis'\n\nexport default class CandlePane extends TechnicalIndicatorPane {\n  _createYAxis (props) {\n    return new YAxis(props.chartStore, true, props.id)\n  }\n\n  _createMainWidget (container, props) {\n    return new CandleWidget({\n      container,\n      chartStore: props.chartStore,\n      xAxis: props.xAxis,\n      yAxis: this._yAxis,\n      paneId: props.id\n    })\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport View from './View'\nimport { renderHorizontalLine, renderVerticalLine } from '../renderer/line'\nimport { createFont } from '../utils/canvas'\n\nexport default class XAxisView extends View {\n  constructor (container, chartStore, xAxis) {\n    super(container, chartStore)\n    this._xAxis = xAxis\n  }\n\n  _draw () {\n    const xAxisOptions = this._chartStore.styleOptions().xAxis\n    if (xAxisOptions.show) {\n      this._drawAxisLine(xAxisOptions)\n      this._drawTickLines(xAxisOptions)\n      this._drawTickLabels(xAxisOptions)\n    }\n  }\n\n  _drawAxisLine (xAxisOptions) {\n    const xAxisLine = xAxisOptions.axisLine\n    if (!xAxisLine.show) {\n      return\n    }\n    this._ctx.strokeStyle = xAxisLine.color\n    this._ctx.lineWidth = xAxisLine.size\n    renderHorizontalLine(this._ctx, 0, 0, this._width)\n  }\n\n  _drawTickLines (xAxisOptions) {\n    const tickLine = xAxisOptions.tickLine\n    if (!tickLine.show) {\n      return\n    }\n    this._ctx.lineWidth = tickLine.size\n    this._ctx.strokeStyle = tickLine.color\n\n    const startY = xAxisOptions.axisLine.show ? xAxisOptions.axisLine.size : 0\n\n    const endY = startY + tickLine.length\n    this._xAxis.ticks().forEach(tick => {\n      renderVerticalLine(this._ctx, tick.x, startY, endY)\n    })\n  }\n\n  _drawTickLabels (xAxisOptions) {\n    const tickText = xAxisOptions.tickText\n    if (!tickText.show) {\n      return\n    }\n    const tickLine = xAxisOptions.tickLine\n\n    this._ctx.textBaseline = 'top'\n    this._ctx.font = createFont(tickText.size, tickText.weight, tickText.family)\n    this._ctx.textAlign = 'center'\n    this._ctx.fillStyle = tickText.color\n\n    let labelY = tickText.paddingTop\n    if (xAxisOptions.axisLine.show) {\n      labelY += (xAxisOptions.axisLine.size)\n    }\n    if (tickLine.show) {\n      labelY += (tickLine.length)\n    }\n    const ticks = this._xAxis.ticks()\n    const tickLength = ticks.length\n    for (let i = 0; i < tickLength; i++) {\n      this._ctx.fillText(ticks[i].v, ticks[i].x, labelY)\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport View from './View'\n\nimport { formatDate } from '../utils/format'\nimport { getTextRectWidth, getTextRectHeight } from '../utils/canvas'\nimport { renderStrokeFillRoundRect } from '../renderer/rect'\nimport { renderText } from '../renderer/text'\n\nexport default class XAxisOverlayView extends View {\n  constructor (container, chartStore, xAxis) {\n    super(container, chartStore)\n    this._xAxis = xAxis\n  }\n\n  _draw () {\n    this._drawCrosshairLabel()\n  }\n\n  _drawCrosshairLabel () {\n    const crosshair = this._chartStore.crosshairStore().get()\n    if (!crosshair.paneId) {\n      return\n    }\n    const crosshairOptions = this._chartStore.styleOptions().crosshair\n    const crosshairVerticalOptions = crosshairOptions.vertical\n    const crosshairVerticalTextOptions = crosshairVerticalOptions.text\n    if (\n      !crosshairOptions.show ||\n      !crosshairVerticalOptions.show ||\n      !crosshairVerticalTextOptions.show ||\n      crosshair.dataIndex !== crosshair.realDataIndex\n    ) {\n      return\n    }\n\n    const timestamp = crosshair.kLineData.timestamp\n    const text = formatDate(this._chartStore.timeScaleStore().dateTimeFormat(), timestamp, 'YYYY-MM-DD hh:mm')\n\n    const paddingLeft = crosshairVerticalTextOptions.paddingLeft\n    const paddingRight = crosshairVerticalTextOptions.paddingRight\n    const paddingTop = crosshairVerticalTextOptions.paddingTop\n    const borderSize = crosshairVerticalTextOptions.borderSize\n\n    const rectWidth = getTextRectWidth(this._ctx, text, crosshairVerticalTextOptions)\n    const rectHeight = getTextRectHeight(crosshairVerticalTextOptions)\n    const labelWidth = rectWidth - borderSize * 2 - paddingLeft - paddingRight\n\n    let labelX = crosshair.realX - labelWidth / 2\n\n    // ‰øùËØÅÊï¥‰∏™xËΩ¥‰∏äÁöÑÊèêÁ§∫ÊñáÂ≠óÊÄªÊòØÂÆåÂÖ®ÊòæÁ§∫\n    if (labelX < paddingLeft + borderSize) {\n      labelX = paddingLeft + borderSize\n    } else if (labelX > this._width - labelWidth - borderSize - paddingRight) {\n      labelX = this._width - labelWidth - borderSize - paddingRight\n    }\n\n    const rectX = labelX - borderSize - paddingLeft\n\n    renderStrokeFillRoundRect(\n      this._ctx,\n      crosshairVerticalTextOptions.backgroundColor,\n      crosshairVerticalTextOptions.borderColor,\n      borderSize,\n      rectX,\n      0,\n      rectWidth,\n      rectHeight,\n      crosshairVerticalTextOptions.borderRadius\n    )\n    // ÁªòÂà∂ËΩ¥‰∏äÁöÑÊèêÁ§∫ÊñáÂ≠ó\n    this._ctx.textBaseline = 'top'\n    renderText(\n      this._ctx, crosshairVerticalTextOptions.color,\n      labelX, borderSize + paddingTop, text\n    )\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Widget from './Widget'\nimport XAxisView from '../view/XAxisView'\nimport XAxisOverlayView from '../view/XAxisOverlayView'\n\nexport default class XAxisWidget extends Widget {\n  _createMainView (container, props) {\n    return new XAxisView(container, props.chartStore, props.xAxis)\n  }\n\n  _createOverlayView (container, props) {\n    return new XAxisOverlayView(container, props.chartStore, props.xAxis)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Axis from './Axis'\nimport { calcTextWidth, createFont } from '../../utils/canvas'\nimport { formatDate } from '../../utils/format'\nimport { isNumber } from '../../utils/typeChecks'\n\nexport default class XAxis extends Axis {\n  _computeMinMax () {\n    return { min: this._chartStore.timeScaleStore().from(), max: this._chartStore.timeScaleStore().to() - 1 }\n  }\n\n  _optimalMinMax ({ min, max }) {\n    const range = max - min + 1\n    return {\n      min, max, range, realMin: min, realMax: max, realRange: range\n    }\n  }\n\n  _optimalTicks (ticks) {\n    const optimalTicks = []\n    const tickLength = ticks.length\n    const dataList = this._chartStore.dataList()\n    if (tickLength > 0) {\n      const dateTimeFormat = this._chartStore.timeScaleStore().dateTimeFormat()\n      const tickText = this._chartStore.styleOptions().xAxis.tickText\n      this._measureCtx.font = createFont(tickText.size, tickText.weight, tickText.family)\n      const defaultLabelWidth = calcTextWidth(this._measureCtx, '00-00 00:00')\n      const pos = parseInt(ticks[0].v, 10)\n      const x = this.convertToPixel(pos)\n      let tickCountDif = 1\n      if (tickLength > 1) {\n        const nextPos = parseInt(ticks[1].v, 10)\n        const nextX = this.convertToPixel(nextPos)\n        const xDif = Math.abs(nextX - x)\n        if (xDif < defaultLabelWidth) {\n          tickCountDif = Math.ceil(defaultLabelWidth / xDif)\n        }\n      }\n      for (let i = 0; i < tickLength; i += tickCountDif) {\n        const pos = parseInt(ticks[i].v, 10)\n        const kLineData = dataList[pos]\n        const timestamp = kLineData.timestamp\n        let label = formatDate(dateTimeFormat, timestamp, 'hh:mm')\n        if (i !== 0) {\n          const prePos = parseInt(ticks[i - tickCountDif].v, 10)\n          const preKLineData = dataList[prePos]\n          const preTimestamp = preKLineData.timestamp\n          label = this._optimalTickLabel(dateTimeFormat, timestamp, preTimestamp) || label\n        }\n        const x = this.convertToPixel(pos)\n        optimalTicks.push({ v: label, x, oV: timestamp })\n      }\n      const optimalTickLength = optimalTicks.length\n      if (optimalTickLength === 1) {\n        optimalTicks[0].v = formatDate(dateTimeFormat, optimalTicks[0].oV, 'YYYY-MM-DD hh:mm')\n      } else {\n        const firstTimestamp = optimalTicks[0].oV\n        const secondTimestamp = optimalTicks[1].oV\n        if (optimalTicks[2]) {\n          const thirdV = optimalTicks[2].v\n          if (/^[0-9]{2}-[0-9]{2}$/.test(thirdV)) {\n            optimalTicks[0].v = formatDate(dateTimeFormat, firstTimestamp, 'MM-DD')\n          } else if (/^[0-9]{4}-[0-9]{2}$/.test(thirdV)) {\n            optimalTicks[0].v = formatDate(dateTimeFormat, firstTimestamp, 'YYYY-MM')\n          } else if (/^[0-9]{4}$/.test(thirdV)) {\n            optimalTicks[0].v = formatDate(dateTimeFormat, firstTimestamp, 'YYYY')\n          }\n        } else {\n          optimalTicks[0].v = this._optimalTickLabel(dateTimeFormat, firstTimestamp, secondTimestamp) || optimalTicks[0].v\n        }\n      }\n    }\n    return optimalTicks\n  }\n\n  _optimalTickLabel (dateTimeFormat, timestamp, comparedTimestamp) {\n    const year = formatDate(dateTimeFormat, timestamp, 'YYYY')\n    const month = formatDate(dateTimeFormat, timestamp, 'YYYY-MM')\n    const day = formatDate(dateTimeFormat, timestamp, 'MM-DD')\n    if (year !== formatDate(dateTimeFormat, comparedTimestamp, 'YYYY')) {\n      return year\n    } else if (month !== formatDate(dateTimeFormat, comparedTimestamp, 'YYYY-MM')) {\n      return month\n    } else if (day !== formatDate(dateTimeFormat, comparedTimestamp, 'MM-DD')) {\n      return day\n    }\n    return null\n  }\n\n  /**\n   * Ëé∑ÂèñËá™Ë∫´È´òÂ∫¶\n   */\n  getSelfHeight () {\n    const stylOptions = this._chartStore.styleOptions()\n    const xAxisOptions = stylOptions.xAxis\n    const height = xAxisOptions.height\n    if (isNumber(height)) {\n      return height\n    }\n    const crosshairOptions = stylOptions.crosshair\n    let xAxisHeight = 0\n    if (xAxisOptions.show) {\n      if (xAxisOptions.axisLine.show) {\n        xAxisHeight += xAxisOptions.axisLine.size\n      }\n      if (xAxisOptions.tickLine.show) {\n        xAxisHeight += xAxisOptions.tickLine.length\n      }\n      if (xAxisOptions.tickText.show) {\n        xAxisHeight += (xAxisOptions.tickText.paddingTop + xAxisOptions.tickText.paddingBottom + xAxisOptions.tickText.size)\n      }\n    }\n    let crosshairVerticalTextHeight = 0\n    if (\n      crosshairOptions.show &&\n      crosshairOptions.vertical.show &&\n      crosshairOptions.vertical.text.show\n    ) {\n      crosshairVerticalTextHeight += (\n        crosshairOptions.vertical.text.paddingTop +\n        crosshairOptions.vertical.text.paddingBottom +\n        crosshairOptions.vertical.text.borderSize * 2 +\n        crosshairOptions.vertical.text.size\n      )\n    }\n    return Math.max(xAxisHeight, crosshairVerticalTextHeight)\n  }\n\n  convertFromPixel (pixel) {\n    return this._chartStore.timeScaleStore().coordinateToDataIndex(pixel)\n  }\n\n  convertToPixel (value) {\n    return this._chartStore.timeScaleStore().dataIndexToCoordinate(value)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Pane from './Pane'\nimport XAxisWidget from '../widget/XAxisWidget'\nimport XAxis from '../component/axis/XAxis'\n\nexport default class XAxisPane extends Pane {\n  _initBefore () {\n    this._xAxis = new XAxis(this._chartStore)\n  }\n\n  _createMainWidget (container, props) {\n    return new XAxisWidget({ container, chartStore: props.chartStore, xAxis: this._xAxis })\n  }\n\n  xAxis () {\n    return this._xAxis\n  }\n\n  setWidth (mainWidgetWidth, yAxisWidgetWidth) {\n    super.setWidth(mainWidgetWidth, yAxisWidgetWidth)\n    this._xAxis.setWidth(mainWidgetWidth)\n  }\n\n  setHeight (height) {\n    super.setHeight(height)\n    this._xAxis.setHeight(height)\n  }\n}\n","class ID {\n  constructor () {\n    this._baseId = 1\n  }\n\n  next (prefix = '') {\n    const timestamp = new Date().getTime()\n    if (timestamp === this._prevIdTimestamp) {\n      ++this._baseId\n    } else {\n      this._baseId = 1\n    }\n    this._prevIdTimestamp = timestamp\n    return `${prefix}${timestamp}_${this._baseId}`\n  }\n}\n\nconst id = new ID()\n\nfunction createId (prefix) {\n  return id.next(prefix)\n}\n\nexport { createId }\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport const EventType = {\n  MOUSE: 'mouse',\n  TOUCH: 'touch'\n}\n\nexport function isTouch (event) {\n  return event.type === EventType.TOUCH\n}\n\nexport function isMouse (event) {\n  return event.type === EventType.MOUSE\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * The file comes from tradingview/lightweight-charts\n * https://www.tradingview.com/\n * Convert files from typescript to javascript.\n * Modified the class name.\n * The use of the source code of this file is also subject to the terms\n * and consitions of the license of \"lightweight-charts\" (Apache License V2, see\n * </licenses/LICENSE-lightweight-charts>).\n */\n\nimport { EventType } from './eventTypeChecks'\n\nconst MouseEventButton = {\n  LEFT: 0,\n  RIGHT: 2\n}\n\nconst DELAY_RESET_CLICK = 500\nconst DELAY_LONG_TAG = 600\n\nfunction getBoundingClientRect (element) {\n  return element.getBoundingClientRect() || { left: 0, top: 0 }\n}\n\nfunction isTouchEvent (event) {\n  return Boolean(event.touches)\n}\n\nfunction preventDefault (event) {\n  if (event.cancelable) {\n    event.preventDefault()\n  }\n}\n\nfunction mobileTouch () {\n  let touchEvent\n  if ('ontouchstart' in window) {\n    touchEvent = true\n  } else {\n    touchEvent = Boolean(window.DocumentTouch && document instanceof window.DocumentTouch)\n  }\n  return ('onorientationchange' in window) && (!!navigator.maxTouchPoints || !!navigator.msMaxTouchPoints || touchEvent)\n}\n\nfunction getDistance (p1, p2) {\n  const xDiff = p1.clientX - p2.clientX\n  const yDiff = p1.clientY - p2.clientY\n  return Math.sqrt(xDiff * xDiff + yDiff * yDiff)\n}\n\nexport default class EventBase {\n  constructor (target, eventHandler, options) {\n    this._target = target\n    this._handler = eventHandler\n    this._options = options\n\n    this._clickCount = 0\n    this._clickTimeoutId = null\n    this._longTapTimeoutId = null\n    this._longTapActive = false\n    this._mouseMoveStartPosition = null\n    this._moveExceededManhattanDistance = false\n    this._cancelClick = false\n    this._unsubscribeOutsideEvents = null\n    this._unsubscribeMousemove = null\n    this._unsubscribeRoot = null\n\n    this._startPinchMiddleCoordinate = null\n    this._startPinchDistance = 0\n    this._pinchPrevented = false\n    this._preventDragProcess = false\n\n    this._mousePressed = false\n\n    this._init()\n  }\n\n  setOptions (options = {}) {\n    this._options = { ...this.options, ...options }\n  }\n\n  destroy () {\n    if (this._unsubscribeOutsideEvents !== null) {\n      this._unsubscribeOutsideEvents()\n      this._unsubscribeOutsideEvents = null\n    }\n\n    if (this._unsubscribeMousemove !== null) {\n      this._unsubscribeMousemove()\n      this._unsubscribeMousemove = null\n    }\n\n    if (this._unsubscribeRoot !== null) {\n      this._unsubscribeRoot()\n      this._unsubscribeRoot = null\n    }\n\n    this._clearLongTapTimeout()\n    this._resetClickTimeout()\n  }\n\n  _mouseEnterHandler (enterEvent) {\n    if (this._unsubscribeMousemove) {\n      this._unsubscribeMousemove()\n    }\n\n    {\n      const boundMouseMoveHandler = this._mouseMoveHandler.bind(this)\n      const boundMouseWheelHandler = this._mouseWheelHandler.bind(this)\n      this._unsubscribeMousemove = () => {\n        this._target.removeEventListener('mousemove', boundMouseMoveHandler)\n        this._target.removeEventListener('wheel', boundMouseWheelHandler)\n      }\n      this._target.addEventListener('mousemove', boundMouseMoveHandler)\n      this._target.addEventListener('wheel', boundMouseWheelHandler, { passive: false })\n    }\n\n    if (isTouchEvent(enterEvent)) {\n      this._mouseMoveHandler(enterEvent)\n    }\n\n    const compatEvent = this._makeCompatEvent(enterEvent)\n    this._processEvent(compatEvent, this._handler.mouseEnterEvent)\n  }\n\n  _resetClickTimeout () {\n    if (this._clickTimeoutId !== null) {\n      clearTimeout(this._clickTimeoutId)\n    }\n\n    this._clickCount = 0\n    this._clickTimeoutId = null\n  }\n\n  _mouseMoveHandler (moveEvent) {\n    if (this._mousePressed && !isTouchEvent(moveEvent)) {\n      return\n    }\n\n    const compatEvent = this._makeCompatEvent(moveEvent)\n    this._processEvent(compatEvent, this._handler.mouseMoveEvent)\n  }\n\n  _mouseWheelHandler (wheelEvent) {\n    const compatEvent = this._makeCompatEvent(wheelEvent)\n    wheelEvent.localX = compatEvent.localX\n    wheelEvent.localY = compatEvent.localY\n    this._processEvent(wheelEvent, this._handler.mouseWheelEvent)\n  }\n\n  _mouseMoveWithDownHandler (moveEvent) {\n    if ('button' in moveEvent && moveEvent.button !== MouseEventButton.LEFT) {\n      return\n    }\n\n    if (this._startPinchMiddleCoordinate !== null) {\n      return\n    }\n\n    const isTouch = isTouchEvent(moveEvent)\n    if (this._preventDragProcess && isTouch) {\n      return\n    }\n\n    this._pinchPrevented = true\n\n    const compatEvent = this._makeCompatEvent(moveEvent)\n\n    const startMouseMovePos = this._mouseMoveStartPosition\n    const xOffset = Math.abs(startMouseMovePos.x - compatEvent.pageX)\n    const yOffset = Math.abs(startMouseMovePos.y - compatEvent.pageY)\n\n    const moveExceededManhattanDistance = xOffset + yOffset > 5\n\n    if (!moveExceededManhattanDistance && isTouch) {\n      return\n    }\n\n    if (moveExceededManhattanDistance && !this._moveExceededManhattanDistance && isTouch) {\n      // vertical drag is more important than horizontal drag\n      // because we scroll the page vertically often than horizontally\n      const correctedXOffset = xOffset * 0.5\n\n      // a drag can be only if touch page scroll isn't allowed\n      const isVertDrag = yOffset >= correctedXOffset && !this._options.treatVertTouchDragAsPageScroll\n      const isHorzDrag = correctedXOffset > yOffset && !this._options.treatHorzTouchDragAsPageScroll\n\n      // if drag event happened then we should revert preventDefault state to original one\n      // and try to process the drag event\n      // else we shouldn't prevent default of the event and ignore processing the drag event\n      if (!isVertDrag && !isHorzDrag) {\n        this._preventDragProcess = true\n      }\n    }\n\n    if (moveExceededManhattanDistance) {\n      this._moveExceededManhattanDistance = true\n\n      // if manhattan distance is more that 5 - we should cancel click event\n      this._cancelClick = true\n\n      if (isTouch) {\n        this._clearLongTapTimeout()\n      }\n    }\n\n    if (!this._preventDragProcess) {\n      this._processEvent(compatEvent, this._handler.pressedMouseMoveEvent)\n\n      // we should prevent default in case of touch only\n      // to prevent scroll of the page\n      if (isTouch) {\n        preventDefault(moveEvent)\n      }\n    }\n  }\n\n  _mouseUpHandler (mouseUpEvent) {\n    if ('button' in mouseUpEvent && mouseUpEvent.button !== MouseEventButton.LEFT) {\n      return\n    }\n    const compatEvent = this._makeCompatEvent(mouseUpEvent)\n\n    this._clearLongTapTimeout()\n\n    this._mouseMoveStartPosition = null\n\n    this._mousePressed = false\n\n    if (this._unsubscribeRoot) {\n      this._unsubscribeRoot()\n      this._unsubscribeRoot = null\n    }\n\n    if (isTouchEvent(mouseUpEvent)) {\n      this._mouseLeaveHandler(mouseUpEvent)\n    }\n\n    this._processEvent(compatEvent, this._handler.mouseUpEvent)\n    ++this._clickCount\n    if (this._clickTimeoutId && this._clickCount > 1) {\n      this._processEvent(compatEvent, this._handler.mouseDoubleClickEvent)\n      this._resetClickTimeout()\n    } else {\n      if (!this._cancelClick) {\n        this._processEvent(compatEvent, this._handler.mouseClickEvent)\n      }\n    }\n\n    // prevent safari's dblclick-to-zoom\n    // we handle mouseDoubleClickEvent here ourself\n    if (isTouchEvent(mouseUpEvent)) {\n      preventDefault(mouseUpEvent)\n\n      this._mouseLeaveHandler(mouseUpEvent)\n\n      if (mouseUpEvent.touches.length === 0) {\n        this._longTapActive = false\n      }\n    }\n  }\n\n  _clearLongTapTimeout () {\n    if (this._longTapTimeoutId === null) {\n      return\n    }\n\n    clearTimeout(this._longTapTimeoutId)\n    this._longTapTimeoutId = null\n  }\n\n  _mouseDownHandler (downEvent) {\n    if ('button' in downEvent && downEvent.button !== MouseEventButton.LEFT && downEvent.button !== MouseEventButton.RIGHT) {\n      return\n    }\n    const compatEvent = this._makeCompatEvent(downEvent)\n    if ('button' in downEvent && downEvent.button === MouseEventButton.RIGHT) {\n      this._processEvent(compatEvent, this._handler.mouseRightDownEvent)\n      return\n    }\n    this._cancelClick = false\n    this._moveExceededManhattanDistance = false\n    this._preventDragProcess = false\n\n    if (isTouchEvent(downEvent)) {\n      this._mouseEnterHandler(downEvent)\n    }\n\n    this._mouseMoveStartPosition = {\n      x: compatEvent.pageX,\n      y: compatEvent.pageY\n    }\n\n    if (this._unsubscribeRoot) {\n      this._unsubscribeRoot()\n      this._unsubscribeRoot = null\n    }\n\n    {\n      const boundMouseMoveWithDownHandler = this._mouseMoveWithDownHandler.bind(this)\n      const boundMouseUpHandler = this._mouseUpHandler.bind(this)\n      const rootElement = this._target.ownerDocument.documentElement\n\n      this._unsubscribeRoot = () => {\n        rootElement.removeEventListener('touchmove', boundMouseMoveWithDownHandler)\n        rootElement.removeEventListener('touchend', boundMouseUpHandler)\n\n        rootElement.removeEventListener('mousemove', boundMouseMoveWithDownHandler)\n        rootElement.removeEventListener('mouseup', boundMouseUpHandler)\n      }\n\n      rootElement.addEventListener('touchmove', boundMouseMoveWithDownHandler, { passive: false })\n      rootElement.addEventListener('touchend', boundMouseUpHandler, { passive: false })\n\n      this._clearLongTapTimeout()\n\n      if (isTouchEvent(downEvent) && downEvent.touches.length === 1) {\n        this._longTapTimeoutId = setTimeout(this._longTapHandler.bind(this, downEvent), DELAY_LONG_TAG)\n      } else {\n        rootElement.addEventListener('mousemove', boundMouseMoveWithDownHandler)\n        rootElement.addEventListener('mouseup', boundMouseUpHandler)\n      }\n    }\n\n    this._mousePressed = true\n    this._processEvent(compatEvent, this._handler.mouseDownEvent)\n\n    if (!this._clickTimeoutId) {\n      this._clickCount = 0\n      this._clickTimeoutId = setTimeout(this._resetClickTimeout.bind(this), DELAY_RESET_CLICK)\n    }\n  }\n\n  _init () {\n    this._target.addEventListener('mouseenter', this._mouseEnterHandler.bind(this))\n\n    this._target.addEventListener('touchcancel', this._clearLongTapTimeout.bind(this))\n\n    {\n      const doc = this._target.ownerDocument\n\n      const outsideHandler = (event) => {\n        if (!this._handler.mouseDownOutsideEvent) {\n          return\n        }\n        if (event.target && this._target.contains(event.target)) {\n          return\n        }\n        this._handler.mouseDownOutsideEvent()\n      }\n\n      this._unsubscribeOutsideEvents = () => {\n        doc.removeEventListener('mousedown', outsideHandler)\n        doc.removeEventListener('touchstart', outsideHandler)\n      }\n\n      doc.addEventListener('mousedown', outsideHandler)\n      doc.addEventListener('touchstart', outsideHandler, { passive: true })\n    }\n\n    this._target.addEventListener('mouseleave', this._mouseLeaveHandler.bind(this))\n\n    this._target.addEventListener('touchstart', this._mouseDownHandler.bind(this), { passive: true })\n    if (!mobileTouch()) {\n      this._target.addEventListener('mousedown', this._mouseDownHandler.bind(this))\n    }\n\n    this._initPinch()\n\n    // Hey mobile Safari, what's up?\n    // If mobile Safari doesn't have any touchmove handler with passive=false\n    // it treats a touchstart and the following touchmove events as cancelable=false,\n    // so we can't prevent them (as soon we subscribe on touchmove inside handler of touchstart).\n    // And we'll get scroll of the page along with chart's one instead of only chart's scroll.\n    this._target.addEventListener('touchmove', () => {}, { passive: false })\n  }\n\n  _initPinch () {\n    if (this._handler.pinchStartEvent === undefined &&\n      this._handler.pinchEvent === undefined &&\n      this._handler.pinchEndEvent === undefined\n    ) {\n      return\n    }\n\n    this._target.addEventListener(\n      'touchstart',\n      (event) => this._checkPinchState(event.touches),\n      { passive: true }\n    )\n\n    this._target.addEventListener(\n      'touchmove',\n      (event) => {\n        if (event.touches.length !== 2 || this._startPinchMiddleCoordinate === null) {\n          return\n        }\n\n        if (this._handler.pinchEvent !== undefined) {\n          const currentDistance = getDistance(event.touches[0], event.touches[1])\n          const scale = currentDistance / this._startPinchDistance\n          this._handler.pinchEvent(this._startPinchMiddleCoordinate, scale)\n          preventDefault(event)\n        }\n      },\n      { passive: false }\n    )\n\n    this._target.addEventListener('touchend', (event) => {\n      this._checkPinchState(event.touches)\n    })\n  }\n\n  _checkPinchState (touches) {\n    if (touches.length === 1) {\n      this._pinchPrevented = false\n    }\n\n    if (touches.length !== 2 || this._pinchPrevented || this._longTapActive) {\n      this._stopPinch()\n    } else {\n      this._startPinch(touches)\n    }\n  }\n\n  _startPinch (touches) {\n    const box = getBoundingClientRect(this._target)\n    this._startPinchMiddleCoordinate = {\n      x: ((touches[0].clientX - box.left) + (touches[1].clientX - box.left)) / 2,\n      y: ((touches[0].clientY - box.top) + (touches[1].clientY - box.top)) / 2\n    }\n\n    this._startPinchDistance = getDistance(touches[0], touches[1])\n\n    if (this._handler.pinchStartEvent !== undefined) {\n      this._handler.pinchStartEvent()\n    }\n\n    this._clearLongTapTimeout()\n  }\n\n  _stopPinch () {\n    if (this._startPinchMiddleCoordinate === null) {\n      return\n    }\n\n    this._startPinchMiddleCoordinate = null\n\n    if (this._handler.pinchEndEvent !== undefined) {\n      this._handler.pinchEndEvent()\n    }\n  }\n\n  _mouseLeaveHandler (event) {\n    if (this._unsubscribeMousemove) {\n      this._unsubscribeMousemove()\n    }\n    const compatEvent = this._makeCompatEvent(event)\n    this._processEvent(compatEvent, this._handler.mouseLeaveEvent)\n  }\n\n  _longTapHandler (event) {\n    const compatEvent = this._makeCompatEvent(event)\n    this._processEvent(compatEvent, this._handler.longTapEvent)\n    this._cancelClick = true\n\n    // long tap is active untill touchend event with 0 touches occured\n    this._longTapActive = true\n  }\n\n  _processEvent (event, callback) {\n    if (!callback) {\n      return\n    }\n    callback.call(this._handler, event)\n  }\n\n  _makeCompatEvent (event) {\n  // TouchEvent has no clientX/Y coordinates:\n  // We have to use the last Touch instead\n    let eventLike\n    if ('touches' in event && event.touches.length) {\n      eventLike = event.touches[0]\n    } else if ('changedTouches' in event && event.changedTouches.length) {\n      eventLike = event.changedTouches[0]\n    } else {\n      eventLike = event\n    }\n\n    const box = getBoundingClientRect(this._target)\n\n    return {\n      clientX: eventLike.clientX,\n      clientY: eventLike.clientY,\n      pageX: eventLike.pageX,\n      pageY: eventLike.pageY,\n      screenX: eventLike.screenX,\n      screenY: eventLike.screenY,\n      localX: eventLike.clientX - box.left,\n      localY: eventLike.clientY - box.top,\n\n      ctrlKey: event.ctrlKey,\n      altKey: event.altKey,\n      shiftKey: event.shiftKey,\n      metaKey: event.metaKey,\n\n      type: event.type.startsWith('mouse') ? EventType.MOUSE : EventType.TOUCH,\n\n      target: eventLike.target,\n      view: event.view\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport EventBase from '../event/EventBase'\nimport { getPixelRatio } from '../utils/canvas'\nimport { isValid } from '../utils/typeChecks'\nimport { createElement } from '../utils/element'\n\nexport default class SeparatorPane {\n  constructor (container, chartStore, topPaneId, bottomPaneId, dragEnabled, dragEventHandler) {\n    this._chartStore = chartStore\n    this._topPaneId = topPaneId\n    this._bottomPaneId = bottomPaneId\n    this._dragEnabled = dragEnabled\n    this._width = 0\n    this._offsetLeft = 0\n    this._dragEventHandler = dragEventHandler\n    this._dragFlag = false\n    this._initElement(container)\n    this._initEvent(dragEnabled)\n  }\n\n  /**\n   * ÂàùÂßãÂåñdomÂÖÉÁ¥†\n   * @param container\n   * @private\n   */\n  _initElement (container) {\n    this._container = container\n    this._wrapper = createElement('div', {\n      margin: '0', padding: '0', position: 'relative', boxSizing: 'border-box'\n    })\n    this._element = createElement('div', {\n      width: '100%',\n      height: '7px',\n      margin: '0',\n      padding: '0',\n      position: 'absolute',\n      top: '-3px',\n      zIndex: '20',\n      boxSizing: 'border-box'\n    })\n    this._wrapper.appendChild(this._element)\n    const lastElement = container.lastChild\n    if (lastElement) {\n      container.insertBefore(this._wrapper, lastElement)\n    } else {\n      container.appendChild(this._wrapper)\n    }\n  }\n\n  /**\n   * ÂàùÂßãÂåñ‰∫ã‰ª∂\n   * @param dragEnabled\n   * @private\n   */\n  _initEvent (dragEnabled) {\n    if (dragEnabled) {\n      this._element.style.cursor = 'ns-resize'\n      this._dragEvent = new EventBase(this._element, {\n        mouseDownEvent: this._mouseDownEvent.bind(this),\n        mouseUpEvent: this._mouseUpEvent.bind(this),\n        pressedMouseMoveEvent: this._pressedMouseMoveEvent.bind(this),\n        mouseEnterEvent: this._mouseEnterEvent.bind(this),\n        mouseLeaveEvent: this._mouseLeaveEvent.bind(this)\n      }, {\n        treatVertTouchDragAsPageScroll: false,\n        treatHorzTouchDragAsPageScroll: true\n      })\n    }\n  }\n\n  _mouseDownEvent (event) {\n    this._dragFlag = true\n    this._startY = event.pageY\n    this._dragEventHandler.startDrag(this._topPaneId, this._bottomPaneId)\n  }\n\n  _mouseUpEvent () {\n    this._dragFlag = false\n    this._chartStore.setDragPaneFlag(false)\n  }\n\n  _pressedMouseMoveEvent (event) {\n    const dragDistance = event.pageY - this._startY\n    this._dragEventHandler.drag(dragDistance, this._topPaneId, this._bottomPaneId)\n    this._chartStore.setDragPaneFlag(true)\n    this._chartStore.crosshairStore().set()\n  }\n\n  _mouseEnterEvent () {\n    const separatorOptions = this._chartStore.styleOptions().separator\n    this._element.style.background = separatorOptions.activeBackgroundColor\n    // this._chartStore.setDragPaneFlag(true)\n    this._chartStore.crosshairStore().set()\n  }\n\n  _mouseLeaveEvent () {\n    if (!this._dragFlag) {\n      this._element.style.background = null\n      this._chartStore.setDragPaneFlag(false)\n    }\n  }\n\n  /**\n   * Ëé∑ÂèñÈ´òÂ∫¶\n   * @returns {number}\n   */\n  height () {\n    return this._wrapper.offsetHeight\n  }\n\n  /**\n   * ËÆæÁΩÆÂ∞∫ÂØ∏\n   * Áî®‰∫éfillÂ±ûÊÄß\n   * @param offsetLeft\n   * @param width\n   */\n  setSize (offsetLeft, width) {\n    this._offsetLeft = offsetLeft\n    this._width = width\n    this.invalidate()\n  }\n\n  /**\n   * ËÆæÁΩÆÊòØÂê¶ÂèØ‰ª•ÊãñÊãΩ\n   * @param dragEnabled\n   */\n  setDragEnabled (dragEnabled) {\n    if (dragEnabled !== this._dragEnabled) {\n      this._dragEnabled = dragEnabled\n      if (dragEnabled) {\n        !this._dragEvent && this._initEvent(dragEnabled)\n      } else {\n        this._element.style.cursor = 'default'\n        this._dragEvent && this._dragEvent.destroy()\n        this._dragEvent = null\n      }\n    }\n  }\n\n  /**\n   * È°∂ÈÉ®paneId\n   * @return {*}\n   */\n  topPaneId () {\n    return this._topPaneId\n  }\n\n  /**\n   * Â∫ïÈÉ®paneId\n   * @return {*}\n   */\n  bottomPaneId () {\n    return this._bottomPaneId\n  }\n\n  /**\n   * Êõ¥Êñ∞‰∏ä‰∏ã‰∏§‰∏™ÂõæË°®ÁöÑÁ¥¢Âºï\n   * @param topPaneId\n   * @param bottomPaneId\n   */\n  updatePaneId (topPaneId, bottomPaneId) {\n    if (isValid(topPaneId)) {\n      this._topPaneId = topPaneId\n    }\n    if (isValid(bottomPaneId)) {\n      this._bottomPaneId = bottomPaneId\n    }\n  }\n\n  /**\n   * Âà∑Êñ∞\n   */\n  invalidate () {\n    const separatorOptions = this._chartStore.styleOptions().separator\n    this._element.style.top = `${-Math.floor((7 - separatorOptions.size) / 2)}px`\n    this._wrapper.style.backgroundColor = separatorOptions.color\n    this._wrapper.style.height = `${separatorOptions.size}px`\n    this._wrapper.style.marginLeft = `${separatorOptions.fill ? 0 : this._offsetLeft}px`\n    this._wrapper.style.width = separatorOptions.fill ? '100%' : `${this._width}px`\n  }\n\n  /**\n   * Â∞ÜÂõæÂΩ¢ËΩ¨Êç¢ÊàêÂõæÁâá\n   * @returns {HTMLCanvasElement}\n   */\n  getImage () {\n    const separatorOptions = this._chartStore.styleOptions().separator\n    const width = this._wrapper.offsetWidth\n    const height = separatorOptions.size\n    const canvas = createElement('canvas', {\n      width: `${width}px`,\n      height: `${height}px`,\n      boxSizing: 'border-box'\n    })\n    const ctx = canvas.getContext('2d')\n    const pixelRatio = getPixelRatio(canvas)\n    canvas.width = width * pixelRatio\n    canvas.height = height * pixelRatio\n    ctx.scale(pixelRatio, pixelRatio)\n    ctx.fillStyle = separatorOptions.color\n    ctx.fillRect(this._offsetLeft, 0, width, height)\n    return canvas\n  }\n\n  /**\n   * ÈîÄÊØÅ\n   */\n  destroy () {\n    if (this._dragEvent) {\n      this._dragEvent.destroy()\n    }\n    this._container.removeChild(this._wrapper)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport default class EventHandler {\n  constructor (chartStore) {\n    this._chartStore = chartStore\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport EventHandler from './EventHandler'\n\nimport { isMouse, isTouch } from './eventTypeChecks'\n\nimport { requestAnimationFrame, cancelAnimationFrame } from '../utils/compatible'\n\nconst TOUCH_MIN_RADIUS = 10\n\nexport default class ZoomScrollEventHandler extends EventHandler {\n  constructor (chartStore) {\n    super(chartStore)\n    // ÊÉØÊÄßÊªöÂä®ÂºÄÂßãÊó∂Èó¥\n    this._flingStartTime = null\n    // ÊÉØÊÄßÊªöÂä®ÂÆöÊó∂Âô®\n    this._flingScrollTimerId = null\n    // ÂºÄÂßãÊªöÂä®Êó∂ÂùêÊ†áÁÇπ\n    this._startScrollCoordinate = null\n    // ÂºÄÂßãËß¶Êë∏Êó∂ÂùêÊ†á\n    this._touchCoordinate = null\n    // ÊòØÂê¶ÊòØÂèñÊ∂à‰∫ÜÂçÅÂ≠óÂÖâÊ†á\n    this._touchCancelCrosshair = false\n    // ÊòØÂê¶Áº©ÊîæËøá\n    this._touchZoomed = false\n    // Áî®Êù•ËÆ∞ÂΩïÊçèÂêàÁº©ÊîæÁöÑÂ∞∫ÂØ∏\n    this._pinchScale = 1\n  }\n\n  pinchStartEvent () {\n    this._pinchScale = 1\n    this._touchZoomed = true\n  }\n\n  pinchEvent (middleCoordinate, scale) {\n    const zoomScale = (scale - this._pinchScale) * 5\n    this._pinchScale = scale\n    this._chartStore.timeScaleStore().zoom(zoomScale, middleCoordinate)\n  }\n\n  mouseUpEvent () {\n    this._startScrollCoordinate = null\n  }\n\n  mouseLeaveEvent (event) {\n    if (isTouch(event)) {\n      if (this._startScrollCoordinate) {\n        const time = new Date().getTime() - this._flingStartTime\n        const distance = event.localX - this._startScrollCoordinate.x\n        let v = (distance) / (time > 0 ? time : 1) * 20\n        if (time < 200 && Math.abs(v) > 0) {\n          const flingScroll = () => {\n            this._flingScrollTimerId = requestAnimationFrame(() => {\n              this._chartStore.timeScaleStore().startScroll()\n              this._chartStore.timeScaleStore().scroll(v)\n              v = v * (1 - 0.025)\n              if (Math.abs(v) < 1) {\n                if (this._flingScrollTimerId) {\n                  cancelAnimationFrame(this._flingScrollTimerId)\n                  this._flingScrollTimerId = null\n                }\n              } else {\n                flingScroll()\n              }\n            })\n          }\n          flingScroll()\n        }\n      }\n    } else {\n      this._startScrollCoordinate = null\n      if (isMouse(event)) {\n        this._chartStore.crosshairStore().set()\n      }\n    }\n  }\n\n  mouseMoveEvent (event) {\n    if (!isMouse(event)) {\n      return\n    }\n    this._chartStore.crosshairStore().set({ x: event.localX, y: event.paneY, paneId: event.paneId })\n  }\n\n  mouseWheelEvent (event) {\n    if (Math.abs(event.deltaX) > Math.abs(event.deltaY)) {\n      if (event.cancelable) {\n        event.preventDefault()\n      }\n      if (Math.abs(event.deltaX) === 0) {\n        return\n      }\n      this._chartStore.timeScaleStore().startScroll()\n      this._chartStore.timeScaleStore().scroll(-event.deltaX)\n    } else {\n      let deltaY = -(event.deltaY / 100)\n      if (deltaY === 0) {\n        return\n      }\n      if (event.cancelable) {\n        event.preventDefault()\n      }\n\n      switch (event.deltaMode) {\n        case event.DOM_DELTA_PAGE:\n          deltaY *= 120\n          break\n\n        case event.DOM_DELTA_LINE:\n          deltaY *= 32\n          break\n      }\n\n      if (deltaY !== 0) {\n        const scale = Math.sign(deltaY) * Math.min(1, Math.abs(deltaY))\n        this._chartStore.timeScaleStore().zoom(scale, { x: event.localX, y: event.localY })\n      }\n    }\n  }\n\n  mouseClickEvent (event) {\n    if (!isTouch(event)) {\n      return\n    }\n    if (!this._touchCoordinate && !this._touchCancelCrosshair && !this._touchZoomed) {\n      this._touchCoordinate = { x: event.localX, y: event.localY }\n      this._chartStore.crosshairStore().set({ x: event.localX, y: event.paneY, paneId: event.paneId })\n    }\n  }\n\n  mouseDownEvent (event) {\n    if (this._flingScrollTimerId) {\n      cancelAnimationFrame(this._flingScrollTimerId)\n      this._flingScrollTimerId = null\n    }\n    this._flingStartTime = new Date().getTime()\n    this._startScrollCoordinate = { x: event.localX, y: event.localY }\n    this._chartStore.timeScaleStore().startScroll()\n    if (isTouch(event)) {\n      this._touchZoomed = false\n      if (this._touchCoordinate) {\n        const xDif = event.localX - this._touchCoordinate.x\n        const yDif = event.localY - this._touchCoordinate.y\n        const radius = Math.sqrt(xDif * xDif + yDif * yDif)\n        if (radius < TOUCH_MIN_RADIUS) {\n          this._touchCoordinate = { x: event.localX, y: event.localY }\n          this._chartStore.crosshairStore().set({ x: event.localX, y: event.paneY, paneId: event.paneId })\n        } else {\n          this._touchCancelCrosshair = true\n          this._touchCoordinate = null\n          this._chartStore.crosshairStore().set()\n        }\n      } else {\n        this._touchCancelCrosshair = false\n      }\n    }\n  }\n\n  pressedMouseMoveEvent (event) {\n    let crosshair = { x: event.localX, y: event.paneY, paneId: event.paneId }\n    if (isTouch(event)) {\n      if (this._touchCoordinate) {\n        this._touchCoordinate = { x: event.localX, y: event.localY }\n        this._chartStore.crosshairStore().set(crosshair)\n        return\n      } else {\n        crosshair = null\n      }\n    }\n    if (this._startScrollCoordinate) {\n      const distance = event.localX - this._startScrollCoordinate.x\n      this._chartStore.timeScaleStore().scroll(distance, crosshair)\n    }\n  }\n\n  longTapEvent (event) {\n    if (!isTouch(event)) {\n      return\n    }\n    this._touchCoordinate = { x: event.localX, y: event.localY }\n    this._chartStore.crosshairStore().set({ x: event.localX, y: event.paneY, paneId: event.paneId })\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport EventHandler from './EventHandler'\nimport { isMouse, isTouch } from './eventTypeChecks'\n\nimport InvalidateLevel from '../enum/InvalidateLevel'\nimport { ShapeEventOperateElement } from '../component/overlay/Shape'\n\nexport default class OverlayEventHandler extends EventHandler {\n  constructor (chartStore, yAxis) {\n    super(chartStore)\n    this._yAxis = yAxis\n  }\n\n  /**\n   * Â§ÑÁêÜË¶ÜÁõñÁâ©Èº†Ê†áhover‰∫ã‰ª∂\n   * @param overlays\n   * @param preHoverOperate\n   * @param coordinate\n   * @param event\n   * @return {*}\n   * @private\n   */\n  _performOverlayMouseHover (overlays, preHoverOperate, coordinate, event) {\n    let hoverOperate\n    if (overlays) {\n      for (const overlay of overlays) {\n        hoverOperate = overlay.checkEventCoordinateOn(coordinate)\n        if (hoverOperate) {\n          break\n        }\n      }\n      if (!hoverOperate || preHoverOperate.id !== hoverOperate.id) {\n        if (preHoverOperate.id && preHoverOperate.instance && isMouse(event)) {\n          preHoverOperate.instance.onMouseLeave({\n            id: preHoverOperate.id,\n            points: preHoverOperate.instance.points(),\n            event\n          })\n        }\n        if (hoverOperate && hoverOperate.id !== preHoverOperate.id && hoverOperate.instance && isMouse(event)) {\n          hoverOperate.instance.onMouseEnter({\n            id: hoverOperate.id,\n            points: hoverOperate.instance.points(),\n            event\n          })\n        }\n      }\n    }\n    return hoverOperate\n  }\n\n  /**\n   * Èº†Ê†áÊä¨Ëµ∑‰∫ã‰ª∂\n   */\n  mouseUpEvent () {\n    this._chartStore.shapeStore().updatePressedInstance()\n  }\n\n  mouseMoveEvent (event) {\n    if (isMouse(event)) {\n      if (this._waitingForMouseMove) {\n        return false\n      }\n      this._waitingForMouseMove = true\n      const coordinate = { x: event.localX, y: event.paneY }\n      const { instance, paneId } = this._chartStore.shapeStore().progressInstance()\n      let shapeHoverOperate\n      let shapeClickOperate\n      let annotationHoverOperate\n      if (instance && instance.isDrawing()) {\n        if (event.paneId) {\n          if (instance.isStart()) {\n            this._chartStore.shapeStore().updateProgressInstance(this._yAxis(event.paneId), event.paneId)\n          }\n          if (paneId === event.paneId) {\n            instance.mouseMoveForDrawing(coordinate, event)\n          }\n          shapeHoverOperate = {\n            id: instance.id(),\n            element: ShapeEventOperateElement.POINT,\n            elementIndex: instance.points().length - 1\n          }\n        }\n        shapeClickOperate = {\n          id: '',\n          element: ShapeEventOperateElement.NONE,\n          elementIndex: -1\n        }\n      } else {\n        const annotations = this._chartStore.annotationStore().get(event.paneId)\n        const shapes = this._chartStore.shapeStore().instances(event.paneId)\n        const prevShapeHoverOperate = this._chartStore.shapeStore().eventOperate().hover\n        const prevAnnotationHoverOperate = this._chartStore.annotationStore().eventOperate()\n        shapeHoverOperate = this._performOverlayMouseHover(shapes, prevShapeHoverOperate, coordinate, event)\n        annotationHoverOperate = this._performOverlayMouseHover(annotations, prevAnnotationHoverOperate, coordinate, event)\n      }\n      this._chartStore.shapeStore().setEventOperate({\n        hover: shapeHoverOperate || {\n          id: '',\n          element: ShapeEventOperateElement.NONE,\n          elementIndex: -1\n        },\n        click: shapeClickOperate\n      })\n      this._chartStore.annotationStore().setEventOperate(annotationHoverOperate || { id: '' })\n      this._waitingForMouseMove = false\n    }\n  }\n\n  /**\n   * Èº†Ê†áÊåâ‰∏ã‰∫ã‰ª∂\n   * @param event\n   */\n  mouseDownEvent (event) {\n    const coordinate = { x: event.localX, y: event.paneY }\n    const { instance, paneId } = this._chartStore.shapeStore().progressInstance()\n    let shapeHoverOperate = {\n      id: '',\n      element: ShapeEventOperateElement.NONE,\n      elementIndex: -1\n    }\n    let progressShapePaneId = paneId\n    let shapeClickOperate\n    if (instance && instance.isDrawing()) {\n      if (isTouch(event)) {\n        if (instance.isStart()) {\n          this._chartStore.shapeStore().updateProgressInstance(this._yAxis(event.paneId), event.paneId)\n          progressShapePaneId = event.paneId\n        }\n        if (progressShapePaneId === event.paneId) {\n          // ÁßªÂä®Á´ØÊ∑ªÂä†ÁÇπÊï∞ÊçÆÂà∞ÂÆû‰æã\n          instance.mouseMoveForDrawing(coordinate, event)\n        }\n      }\n      if (progressShapePaneId === event.paneId) {\n        instance.mouseLeftButtonDownForDrawing()\n        shapeClickOperate = {\n          id: instance.id(),\n          element: ShapeEventOperateElement.POINT,\n          elementIndex: instance.points().length - 1\n        }\n        shapeHoverOperate = {\n          id: instance.id(),\n          element: ShapeEventOperateElement.POINT,\n          elementIndex: instance.points().length - 1\n        }\n      }\n    } else {\n      const shapes = this._chartStore.shapeStore().instances(event.paneId)\n      for (const shape of shapes) {\n        shapeClickOperate = shape.checkEventCoordinateOn(coordinate)\n        if (shapeClickOperate) {\n          this._chartStore.shapeStore().updatePressedInstance(shape, event.paneId, shapeClickOperate.element)\n          if (shapeClickOperate.element === ShapeEventOperateElement.POINT) {\n            shapeHoverOperate = {\n              ...shapeClickOperate\n            }\n          } else {\n            shape.startPressedOtherMove(coordinate)\n          }\n          shape.onClick({\n            id: shapeClickOperate.id,\n            points: shape.points(),\n            event\n          })\n          break\n        }\n      }\n      const visibleAnnotations = this._chartStore.annotationStore().get(event.paneId)\n      if (visibleAnnotations) {\n        for (const an of visibleAnnotations) {\n          const annotationOperate = an.checkEventCoordinateOn(coordinate)\n          if (annotationOperate) {\n            an.onClick({\n              id: annotationOperate.id,\n              points: an.points(),\n              event\n            })\n            break\n          }\n        }\n      }\n    }\n    const shapeOperateValid = this._chartStore.shapeStore().setEventOperate({\n      hover: shapeHoverOperate,\n      click: shapeClickOperate || {\n        id: '',\n        element: ShapeEventOperateElement.NONE,\n        elementIndex: -1\n      }\n    })\n    if (shapeOperateValid) {\n      this._chartStore.invalidate(InvalidateLevel.OVERLAY)\n    }\n  }\n\n  mouseRightDownEvent (event) {\n    const { instance } = this._chartStore.shapeStore().progressInstance()\n    let removeShape\n    if (instance) {\n      removeShape = instance\n    } else {\n      const shapes = this._chartStore.shapeStore().instances(event.paneId)\n      removeShape = shapes.find(s => s.checkEventCoordinateOn({ x: event.localX, y: event.paneY }))\n    }\n    if (removeShape && !removeShape.onRightClick({ id: removeShape.id(), points: removeShape.points(), event })) {\n      this._chartStore.shapeStore().removeInstance(removeShape.id())\n    }\n    const visibleAnnotations = this._chartStore.annotationStore().get(event.paneId)\n    if (visibleAnnotations) {\n      const annotation = visibleAnnotations.find(an => an.checkEventCoordinateOn({ x: event.localX, y: event.paneY }))\n      if (annotation) {\n        annotation.onRightClick({ id: annotation.id(), points: annotation.points(), event })\n      }\n    }\n  }\n\n  pressedMouseMoveEvent (event) {\n    const { instance, paneId, element } = this._chartStore.shapeStore().pressedInstance()\n    if (instance && paneId === event.paneId) {\n      const coordinate = { x: event.localX, y: event.paneY }\n      if (element === ShapeEventOperateElement.POINT) {\n        instance.mousePressedPointMove(coordinate, event)\n      } else {\n        instance.mousePressedOtherMove(coordinate, event)\n      }\n      this._chartStore.crosshairStore().set({ x: event.localX, y: event.paneY, paneId: event.paneId })\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport EventHandler from './EventHandler'\n\nconst KeyBoardCode = {\n  EQUAL: 'Equal',\n  MINUS: 'Minus',\n  ARROW_LEFT: 'ArrowLeft',\n  ARROW_RIGHT: 'ArrowRight'\n}\n\nexport default class KeyBoardEventHandler extends EventHandler {\n  /**\n   * ÈîÆÁõò‰∫ã‰ª∂\n   * @param event\n   */\n  keyBoardDownEvent (event) {\n    if (event.shiftKey) {\n      switch (event.code) {\n        case KeyBoardCode.EQUAL: {\n          this._chartStore.timeScaleStore().zoom(0.5)\n          break\n        }\n        case KeyBoardCode.MINUS: {\n          this._chartStore.timeScaleStore().zoom(-0.5)\n          break\n        }\n        case KeyBoardCode.ARROW_LEFT: {\n          this._chartStore.timeScaleStore().startScroll()\n          this._chartStore.timeScaleStore().scroll(-3 * this._chartStore.timeScaleStore().dataSpace())\n          break\n        }\n        case KeyBoardCode.ARROW_RIGHT: {\n          this._chartStore.timeScaleStore().startScroll()\n          this._chartStore.timeScaleStore().scroll(3 * this._chartStore.timeScaleStore().dataSpace())\n          break\n        }\n        default: {\n          break\n        }\n      }\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport EventBase from './EventBase'\nimport ZoomScrollEventHandler from './ZoomScrollEventHandler'\nimport OverlayEventHandler from './OverlayEventHandler'\nimport KeyBoardEventHandler from './KeyBoardEventHandler'\n\nimport { isTouch } from './eventTypeChecks'\n\nexport default class ChartEvent {\n  constructor (target, chartStore, yAxis) {\n    this._target = target\n    this._chartStore = chartStore\n    this._chartContentLeftRight = {}\n    this._chartContentTopBottom = {}\n    this._paneContentSize = {}\n    this._event = new EventBase(this._target, {\n      pinchStartEvent: this._pinchStartEvent.bind(this),\n      pinchEvent: this._pinchEvent.bind(this),\n      mouseUpEvent: this._mouseUpEvent.bind(this),\n      mouseClickEvent: this._mouseClickEvent.bind(this),\n      mouseDownEvent: this._mouseDownEvent.bind(this),\n      mouseRightDownEvent: this._mouseRightDownEvent.bind(this),\n      mouseLeaveEvent: this._mouseLeaveEvent.bind(this),\n      mouseMoveEvent: this._mouseMoveEvent.bind(this),\n      mouseWheelEvent: this._mouseWheelEvent.bind(this),\n      pressedMouseMoveEvent: this._pressedMouseMoveEvent.bind(this),\n      longTapEvent: this._longTapEvent.bind(this)\n    }, {\n      treatVertTouchDragAsPageScroll: true,\n      treatHorzTouchDragAsPageScroll: false\n    })\n    this._boundKeyBoardDownEvent = this._keyBoardDownEvent.bind(this)\n    this._target.addEventListener('keydown', this._boundKeyBoardDownEvent)\n    this._boundContextMenuEvent = (e) => { e.preventDefault() }\n    this._target.addEventListener('contextmenu', this._boundContextMenuEvent, false)\n    this._zoomScrollEventHandler = new ZoomScrollEventHandler(chartStore)\n    this._overlayEventHandler = new OverlayEventHandler(chartStore, yAxis)\n    this._keyBoardEventHandler = new KeyBoardEventHandler(chartStore)\n  }\n\n  _keyBoardDownEvent (event) {\n    this._keyBoardEventHandler.keyBoardDownEvent(event)\n  }\n\n  _pinchStartEvent () {\n    this._zoomScrollEventHandler.pinchStartEvent()\n  }\n\n  _pinchEvent (middleCoordinate, scale) {\n    this._zoomScrollEventHandler.pinchEvent(middleCoordinate, scale)\n  }\n\n  _mouseUpEvent (event) {\n    if (this._checkEventInChartContent(event)) {\n      this._target.style.cursor = 'crosshair'\n    }\n    this._zoomScrollEventHandler.mouseUpEvent(event)\n    if (this._shouldPerformOverlayEvent()) {\n      this._overlayEventHandler.mouseUpEvent(event)\n    }\n  }\n\n  _mouseLeaveEvent (event) {\n    this._zoomScrollEventHandler.mouseLeaveEvent(event)\n  }\n\n  _mouseMoveEvent (event) {\n    // ÂΩì‰∫ã‰ª∂ÁõÆÊ†áÊòØÂú®ÂÆπÂô®ÂÜÖÈÉ®ÂÖÉÁ¥†Êó∂Ôºå‰∏çÂá∫Êù•move‰∫ã‰ª∂\n    // Á≠âÂæÖÂØªÊâæÊúÄ‰ºòËß£\n    if (event.target instanceof HTMLCanvasElement) {\n      if (this._checkEventInChartContent(event)) {\n        this._target.style.cursor = 'crosshair'\n        const compatEvent = this._compatChartEvent(event, true)\n        if (this._shouldPerformOverlayEvent()) {\n          this._overlayEventHandler.mouseMoveEvent(compatEvent)\n        }\n        if (!this._chartStore.dragPaneFlag()) {\n          this._zoomScrollEventHandler.mouseMoveEvent(compatEvent)\n        }\n      } else {\n        this._target.style.cursor = 'default'\n        this._zoomScrollEventHandler.mouseLeaveEvent(event)\n      }\n    } else {\n      this._target.style.cursor = 'default'\n      this._chartStore.crosshairStore().set()\n    }\n  }\n\n  _mouseWheelEvent (event) {\n    if (this._checkZoomScroll() && this._checkEventInChartContent(event)) {\n      this._zoomScrollEventHandler.mouseWheelEvent(this._compatChartEvent(event))\n    }\n  }\n\n  _mouseClickEvent (event) {\n    if (this._checkZoomScroll() && this._checkEventInChartContent(event)) {\n      this._zoomScrollEventHandler.mouseClickEvent(this._compatChartEvent(event, true))\n      this._modifyEventOptions(event)\n    }\n  }\n\n  _mouseDownEvent (event) {\n    if (this._checkEventInChartContent(event)) {\n      this._target.style.cursor = 'pointer'\n      const compatEvent = this._compatChartEvent(event, true)\n      if (this._shouldPerformOverlayEvent()) {\n        this._overlayEventHandler.mouseDownEvent(compatEvent)\n      }\n      if (this._checkZoomScroll()) {\n        this._zoomScrollEventHandler.mouseDownEvent(compatEvent)\n        this._modifyEventOptions(event)\n      }\n    }\n  }\n\n  _mouseRightDownEvent (event) {\n    if (this._shouldPerformOverlayEvent() && this._checkEventInChartContent(event)) {\n      this._overlayEventHandler.mouseRightDownEvent(this._compatChartEvent(event, true))\n    }\n  }\n\n  _pressedMouseMoveEvent (event) {\n    if (this._checkEventInChartContent(event)) {\n      const compatEvent = this._compatChartEvent(event, true)\n      if (this._checkZoomScroll()) {\n        this._zoomScrollEventHandler.pressedMouseMoveEvent(compatEvent)\n        this._modifyEventOptions(event)\n      } else {\n        this._overlayEventHandler.pressedMouseMoveEvent(compatEvent)\n      }\n    }\n  }\n\n  _longTapEvent (event) {\n    if (this._checkZoomScroll() && this._checkEventInChartContent(event)) {\n      this._zoomScrollEventHandler.longTapEvent(this._compatChartEvent(event, true))\n      this._modifyEventOptions(event)\n    }\n  }\n\n  _checkZoomScroll () {\n    return !this._chartStore.dragPaneFlag() && !this._chartStore.shapeStore().isPressed() && !this._chartStore.shapeStore().isDrawing()\n  }\n\n  /**\n   * ÊòØÂê¶ÈúÄË¶ÅÂ§ÑÁêÜÂõæÂΩ¢Ê†áËÆ∞‰∫ã‰ª∂\n   * @return {boolean}\n   * @private\n   */\n  _shouldPerformOverlayEvent () {\n    return !this._chartStore.shapeStore().isEmpty() || !this._chartStore.annotationStore().isEmpty()\n  }\n\n  /**\n   * ‰øÆÊîπ‰∫ã‰ª∂ÈÖçÁΩÆ\n   * @param event\n   */\n  _modifyEventOptions (event) {\n    if (isTouch(event) && this._chartStore.crosshairStore().get().paneId) {\n      this._event.setOptions({ treatVertTouchDragAsPageScroll: false })\n    } else {\n      this._event.setOptions({ treatVertTouchDragAsPageScroll: true })\n    }\n  }\n\n  /**\n   * ‰∫ã‰ª∂‰ø°ÊÅØÂÖºÂÆπ\n   * @param {*} event\n   * @param {*} compatY\n   * @returns\n   */\n  _compatChartEvent (event, compatY) {\n    if (compatY) {\n      for (const id in this._paneContentSize) {\n        if (Object.prototype.hasOwnProperty.call(this._paneContentSize, id)) {\n          const size = this._paneContentSize[id]\n          if (event.localY > size.contentTop && event.localY < size.contentBottom) {\n            event.paneY = event.localY - size.contentTop\n            event.paneId = id\n            break\n          }\n        }\n      }\n    }\n    event.localX -= this._chartContentLeftRight.contentLeft\n    return event\n  }\n\n  /**\n   * Ê£ÄÊü•‰∫ã‰ª∂ÊòØÂê¶Âú®ÂõæË°®ÂÜÖÂÆπÂÜÖ\n   * @param {*} event\n   * @returns\n   */\n  _checkEventInChartContent (event) {\n    return (event.localX > this._chartContentLeftRight.contentLeft && event.localX < this._chartContentLeftRight.contentRight) &&\n      (event.localY > this._chartContentTopBottom.contentTop && event.localY < this._chartContentTopBottom.contentBottom)\n  }\n\n  setChartContentLeftRight (chartContentLeftRight) {\n    this._chartContentLeftRight = chartContentLeftRight\n  }\n\n  setChartContentTopBottom (chartContentTopBottom) {\n    this._chartContentTopBottom = chartContentTopBottom\n  }\n\n  setPaneContentSize (paneContentSize) {\n    this._paneContentSize = paneContentSize\n  }\n\n  destroy () {\n    this._event.destroy()\n    this._target.removeEventListener('keydown', this._boundKeyBoardDownEvent)\n    this._target.removeEventListener('contextmenu', this._boundContextMenuEvent)\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nexport function throttle (func, wait = 20) {\n  let previous = 0\n  return function () {\n    const now = Date.now()\n    const context = this\n    const args = arguments\n    if (now - previous > wait) {\n      func.apply(context, args)\n      previous = now\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Ê∏≤ÊüìÂ°´ÂÖÖËè±ÂΩ¢\n * @param ctx\n * @param color\n * @param centerCoordinate\n * @param width\n * @param height\n */\nexport function renderFillDiamond (ctx, color, centerCoordinate, width, height) {\n  ctx.fillStyle = color\n  ctx.beginPath()\n  ctx.moveTo(centerCoordinate.x - width / 2, centerCoordinate.y)\n  ctx.lineTo(centerCoordinate.x, centerCoordinate.y - height / 2)\n  ctx.lineTo(centerCoordinate.x + width / 2, centerCoordinate.y)\n  ctx.lineTo(centerCoordinate.x, centerCoordinate.y + height / 2)\n  ctx.closePath()\n  ctx.fill()\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Ê∏≤ÊüìÂ°´ÂÖÖËè±ÂΩ¢\n * @param ctx\n * @param color\n * @param centerCoordinate\n * @param width\n * @param height\n */\nexport function renderFillTriangle (ctx, color, centerCoordinate, width, height) {\n  ctx.fillStyle = color\n  ctx.beginPath()\n  ctx.moveTo(centerCoordinate.x - width / 2, centerCoordinate.y + height / 2)\n  ctx.lineTo(centerCoordinate.x, centerCoordinate.y - height / 2)\n  ctx.lineTo(centerCoordinate.x + width / 2, centerCoordinate.y + height / 2)\n  ctx.closePath()\n  ctx.fill()\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Overlay from './Overlay'\n\nimport { renderFillCircle } from '../../renderer/circle'\nimport { renderFillRect } from '../../renderer/rect'\nimport { renderFillDiamond } from '../../renderer/diamond'\nimport { renderFillTriangle } from '../../renderer/triangle'\nimport {\n  checkCoordinateInCircle, checkCoordinateInDiamond,\n  checkCoordinateInRect, checkCoordinateInTriangle\n} from '../../extension/shape/shapeHelper'\n\nimport { isNumber } from '../../utils/typeChecks'\n\nimport {\n  OverlayPosition,\n  AnnotationSymbolType\n} from '../../options/styleOptions'\n\n/**\n * Ê≥®Ëß£\n */\nexport default class Annotation extends Overlay {\n  constructor ({\n    id, point = {}, chartStore, xAxis, yAxis, styles\n  }) {\n    super({ id, chartStore, points: point, xAxis, yAxis })\n    this._symbolCoordinate = {}\n    this.setStyles(styles, chartStore.styleOptions().annotation)\n  }\n\n  /**\n   * ÁªòÂà∂Ê†áËØÜ\n   * @param ctx\n   * @param isActive\n   * @param styles\n   * @private\n   */\n  _drawSymbol (ctx, isActive, styles) {\n    const barSpace = this._chartStore.timeScaleStore().barSpace()\n    const symbolOptions = styles.symbol\n    const styleSize = symbolOptions.size\n    const styleActiveSize = symbolOptions.activeSize\n    const size = isActive\n      ? (isNumber(styleActiveSize) ? styleActiveSize : barSpace)\n      : (isNumber(styleSize) ? styleSize : barSpace)\n    const color = isActive ? symbolOptions.activeColor : symbolOptions.color\n    switch (symbolOptions.type) {\n      case AnnotationSymbolType.CIRCLE: {\n        renderFillCircle(ctx, color, this._symbolCoordinate, size / 2)\n        break\n      }\n      case AnnotationSymbolType.RECT: {\n        renderFillRect(\n          ctx, color,\n          this._symbolCoordinate.x - size / 2,\n          this._symbolCoordinate.y - size / 2,\n          size, size\n        )\n        break\n      }\n      case AnnotationSymbolType.DIAMOND: {\n        renderFillDiamond(ctx, color, this._symbolCoordinate, size, size)\n        break\n      }\n      case AnnotationSymbolType.TRIANGLE: {\n        renderFillTriangle(ctx, color, this._symbolCoordinate, size, size)\n        break\n      }\n      case AnnotationSymbolType.CUSTOM: {\n        ctx.save()\n        this.drawCustomSymbol({\n          ctx,\n          point: this._points,\n          coordinate: this._symbolCoordinate,\n          viewport: {\n            width: this._xAxis.width(),\n            height: this._yAxis.height(),\n            barSpace\n          },\n          styles: symbolOptions,\n          isActive\n        })\n        ctx.restore()\n        break\n      }\n      default: {\n        break\n      }\n    }\n  }\n\n  draw (ctx) {\n    const styles = this._styles || this._chartStore.styleOptions().annotation\n    const offset = styles.offset || [0, 0]\n    let y = 0\n    switch (styles.position) {\n      case OverlayPosition.POINT: {\n        y = this._yAxis.convertToPixel(this._points.value)\n        break\n      }\n      case OverlayPosition.TOP: {\n        y = 0\n        break\n      }\n      case OverlayPosition.BOTTOM: {\n        y = this._yAxis.height()\n        break\n      }\n    }\n    this._symbolCoordinate.y = y + offset[0]\n    const isActive = this._id === this._chartStore.annotationStore().eventOperate().id\n    this._drawSymbol(ctx, isActive, styles)\n    if (this.drawExtend) {\n      ctx.save()\n      this.drawExtend({\n        ctx,\n        point: this._points,\n        coordinate: this._symbolCoordinate,\n        viewport: {\n          width: this._xAxis.width(),\n          height: this._yAxis.height()\n        },\n        styles,\n        isActive\n      })\n      ctx.restore()\n    }\n  }\n\n  checkEventCoordinateOn (eventCoordinate) {\n    const barSpace = this._chartStore.timeScaleStore().barSpace()\n    const styles = this._styles || this._chartStore.styleOptions().annotation\n    const symbolOptions = styles.symbol\n    const size = isNumber(symbolOptions.size) ? symbolOptions.size : barSpace\n    let isOn\n    switch (symbolOptions.type) {\n      case AnnotationSymbolType.CIRCLE: {\n        isOn = checkCoordinateInCircle(this._symbolCoordinate, size / 2, eventCoordinate)\n        break\n      }\n      case AnnotationSymbolType.RECT: {\n        const coordinate1 = { x: this._symbolCoordinate.x - size / 2, y: this._symbolCoordinate.y - size / 2 }\n        const coordinate2 = { x: this._symbolCoordinate.x + size / 2, y: this._symbolCoordinate.y + size / 2 }\n        isOn = checkCoordinateInRect(coordinate1, coordinate2, eventCoordinate)\n        break\n      }\n      case AnnotationSymbolType.DIAMOND: {\n        isOn = checkCoordinateInDiamond(this._symbolCoordinate, size, size, eventCoordinate)\n        break\n      }\n      case AnnotationSymbolType.TRIANGLE: {\n        isOn = checkCoordinateInTriangle(\n          [\n            { x: this._symbolCoordinate.x - size / 2, y: this._symbolCoordinate.y + size / 2 },\n            { x: this._symbolCoordinate.x, y: this._symbolCoordinate.y - size / 2 },\n            { x: this._symbolCoordinate.x + size / 2, y: this._symbolCoordinate.y + size / 2 }\n          ],\n          eventCoordinate\n        )\n        break\n      }\n      case AnnotationSymbolType.CUSTOM: {\n        isOn = this.checkEventCoordinateOnCustomSymbol({\n          eventCoordinate,\n          coordinate: this._symbolCoordinate,\n          size\n        })\n        break\n      }\n      default: {\n        break\n      }\n    }\n    if (isOn) {\n      return {\n        id: this._id,\n        instance: this\n      }\n    }\n  }\n\n  /**\n   * ÁîüÊàêÊ†áËØÜÂùêÊ†á\n   * @param x\n   */\n  createSymbolCoordinate (x) {\n    const styles = this._styles || this._chartStore.styleOptions().annotation\n    const offset = styles.offset || [0, 0]\n    this._symbolCoordinate = { x: x + offset[1] }\n  }\n\n  /**\n   * Ê£ÄÊü•Èº†Ê†áÁÇπÊòØÂê¶Âú®Ëá™ÂÆö‰πâÊ†áËØÜÂÜÖ\n   * @param eventCoordinate\n   * @param coordinate\n   * @param size\n   */\n  checkEventCoordinateOnCustomSymbol ({ eventCoordinate, coordinate, size }) {}\n\n  /**\n   * ÁªòÂà∂Ëá™ÂÆö‰πâÊ†áËØÜ\n   * @param ctx\n   * @param point\n   * @param coordinate\n   * @param viewport\n   * @param styles\n   * @param isActive\n   */\n  drawCustomSymbol ({ ctx, point, coordinate, viewport, styles, isActive }) {}\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Overlay from './Overlay'\nimport { LineStyle, OverlayPosition, YAxisPosition } from '../../options/styleOptions'\nimport { renderHorizontalLine } from '../../renderer/line'\nimport { isValid, isObject } from '../../utils/typeChecks'\nimport { createFont, getTextRectWidth, getTextRectHeight } from '../../utils/canvas'\nimport { renderStrokeFillRoundRect } from '../../renderer/rect'\nimport { renderText } from '../../renderer/text'\n\nexport default class Tag extends Overlay {\n  constructor ({\n    id, point = {}, text, mark, chartStore, xAxis, yAxis, styles\n  }) {\n    super({ id, chartStore, points: point, xAxis, yAxis })\n    this._text = text\n    this._mark = mark\n    this.setStyles(styles, chartStore.styleOptions().tag)\n  }\n\n  /**\n   * Êõ¥Êñ∞\n   * @param point\n   * @param text\n   * @param mark\n   * @param styles\n   * @return {boolean}\n   */\n  update ({ point, text, mark, styles }) {\n    let success = false\n    if (isObject(point)) {\n      this._points = point\n      success = true\n    }\n    if (isValid(text)) {\n      this._text = text\n      success = true\n    }\n    if (isValid(mark)) {\n      this._mark = mark\n      success = true\n    }\n    if (this.setStyles(styles, this._chartStore.styleOptions().tag)) {\n      success = true\n    }\n    return success\n  }\n\n  /**\n   * ÁªòÂà∂Ê†áËÆ∞ÂíåÁ∫ø\n   * @param ctx\n   */\n  drawMarkLine (ctx) {\n    const options = this._chartStore.styleOptions()\n    const yAxisOptions = options.yAxis\n    const tagOptions = this._styles || options.tag\n    const y = this._getY(tagOptions)\n    ctx.save()\n    this._drawLine(ctx, y, tagOptions, yAxisOptions)\n    this._drawMark(ctx, y, tagOptions, yAxisOptions)\n    ctx.restore()\n  }\n\n  /**\n   * ÁªòÂà∂ÂÄº\n   */\n  drawText (ctx) {\n    if (!isValid(this._text)) {\n      return\n    }\n    const options = this._chartStore.styleOptions()\n    const tagOptions = this._styles || options.tag\n    const tagTextOptions = tagOptions.text\n    ctx.save()\n    const rectWidth = getTextRectWidth(ctx, this._text, tagTextOptions)\n    const rectHeight = getTextRectHeight(tagTextOptions)\n    let x\n    if (this._yAxis.isFromYAxisZero()) {\n      x = 0\n    } else {\n      x = this._yAxis.width() - rectWidth\n    }\n    const y = this._getY(tagOptions)\n    renderStrokeFillRoundRect(\n      ctx,\n      tagTextOptions.backgroundColor,\n      tagTextOptions.borderColor,\n      tagTextOptions.borderSize,\n      x,\n      y - rectHeight / 2,\n      rectWidth,\n      rectHeight,\n      tagTextOptions.borderRadius\n    )\n    renderText(ctx, tagTextOptions.color, x + tagTextOptions.paddingLeft, y, this._text)\n    ctx.restore()\n  }\n\n  /**\n   * ÁªòÂà∂Á∫ø\n   * @param ctx\n   * @param y\n   * @param tagOptions\n   * @private\n   */\n  _drawLine (ctx, y, tagOptions, yAxisOptions) {\n    const tagLineOptions = tagOptions.line\n    if (!tagLineOptions.show) {\n      return\n    }\n    ctx.save()\n    const textRectWidth = getTextRectWidth(ctx, this._text, tagOptions.text)\n    const markRectWidth = getTextRectWidth(ctx, this._mark, tagOptions.mark)\n    ctx.strokeStyle = tagLineOptions.color\n    ctx.lineWidth = tagLineOptions.size\n    if (tagLineOptions.style === LineStyle.DASH) {\n      ctx.setLineDash(tagLineOptions.dashValue)\n    }\n    const markOffset = tagOptions.mark.offset\n    const lines = []\n    const textValid = isValid(this._text)\n    const markValid = isValid(this._mark)\n    if (yAxisOptions.inside) {\n      if (yAxisOptions.position === YAxisPosition.LEFT) {\n        if (textValid && markValid) {\n          if (markOffset > 0) {\n            lines.push([textRectWidth, textRectWidth + markOffset])\n            lines.push([textRectWidth + markOffset + markRectWidth, this._xAxis.width()])\n          } else {\n            if (Math.abs(markOffset) < Math.min(textRectWidth, markRectWidth)) {\n              lines.push([textRectWidth + markOffset + markRectWidth, this._xAxis.width()])\n            } else {\n              lines.push([Math.max(textRectWidth, markRectWidth), this._xAxis.width()])\n            }\n          }\n        } else {\n          if (textValid) {\n            lines.push([textRectWidth, this._xAxis.width()])\n          } else if (markValid) {\n            if (markOffset > 0) {\n              lines.push([0, markOffset])\n              lines.push([markOffset + markRectWidth, this._xAxis.width()])\n            } else {\n              if (Math.abs(markOffset) < markRectWidth) {\n                lines.push([markOffset + markRectWidth, this._xAxis.width()])\n              } else {\n                lines.push([0, this._xAxis.width()])\n              }\n            }\n          } else {\n            lines.push([0, this._xAxis.width()])\n          }\n        }\n      } else {\n        if (textValid && markValid) {\n          if (markOffset < 0) {\n            lines.push([0, this._xAxis.width() - textRectWidth + markOffset - markRectWidth])\n            lines.push([this._xAxis.width() - textRectWidth + markOffset, this._xAxis.width() - textRectWidth])\n          } else {\n            if (markOffset < Math.min(textRectWidth, markRectWidth)) {\n              lines.push([0, this._xAxis.width() - textRectWidth - markRectWidth + markOffset])\n            } else {\n              lines.push([0, this._xAxis.width() - Math.max(textRectWidth, markRectWidth)])\n            }\n          }\n        } else {\n          if (textValid) {\n            lines.push([0, this._xAxis.width() - textRectWidth])\n          } else if (markValid) {\n            if (markOffset < 0) {\n              lines.push([0, this._xAxis.width() + markOffset - markRectWidth])\n              lines.push([this._xAxis.width() + markOffset, this._xAxis.width()])\n            } else {\n              if (markOffset < markRectWidth) {\n                lines.push([0, this._xAxis.width() - markRectWidth + markOffset])\n              } else {\n                lines.push([0, this._xAxis.width()])\n              }\n            }\n          } else {\n            lines.push([0, this._xAxis.width()])\n          }\n        }\n      }\n    } else {\n      if (yAxisOptions.position === YAxisPosition.LEFT) {\n        if (markValid) {\n          if (markOffset > 0) {\n            lines.push([0, markOffset])\n            lines.push([markOffset + markRectWidth, this._xAxis.width()])\n          } else {\n            if (Math.abs(markOffset) < markRectWidth) {\n              lines.push([markRectWidth + markOffset, this._xAxis.width()])\n            } else {\n              lines.push([0, this._xAxis.width()])\n            }\n          }\n        } else {\n          lines.push([0, this._xAxis.width()])\n        }\n      } else {\n        if (markValid) {\n          if (markOffset < 0) {\n            lines.push([0, this._xAxis.width() - markRectWidth + markOffset])\n            lines.push([this._xAxis.width() + markOffset, this._xAxis.width()])\n          } else {\n            if (markOffset < markRectWidth) {\n              lines.push([0, this._xAxis.width() - markRectWidth + markOffset])\n            } else {\n              lines.push([0, this._xAxis.width()])\n            }\n          }\n        } else {\n          lines.push([0, this._xAxis.width()])\n        }\n      }\n    }\n    lines.forEach(line => {\n      renderHorizontalLine(ctx, y, line[0], line[1])\n    })\n    ctx.restore()\n  }\n\n  /**\n   * ÁªòÂà∂Ê†áËÆ∞\n   * @param ctx\n   * @param y\n   * @param tagOptions\n   * @param yAxisOptions\n   * @private\n   */\n  _drawMark (ctx, y, tagOptions, yAxisOptions) {\n    if (!isValid(this._mark)) {\n      return\n    }\n    const tagMarkOptions = tagOptions.mark\n    const rectWidth = getTextRectWidth(ctx, this._mark, tagMarkOptions)\n    const rectHeight = getTextRectHeight(tagMarkOptions)\n    let x\n    if (yAxisOptions.inside) {\n      let textRectWidth = 0\n      if (isValid(this._text)) {\n        textRectWidth = getTextRectWidth(ctx, this._text, tagOptions.text)\n      }\n      if (yAxisOptions.position === YAxisPosition.LEFT) {\n        x = textRectWidth\n      } else {\n        x = this._xAxis.width() - textRectWidth - rectWidth\n      }\n    } else {\n      if (yAxisOptions.position === YAxisPosition.LEFT) {\n        x = 0\n      } else {\n        x = this._xAxis.width() - rectWidth\n      }\n    }\n    x += tagMarkOptions.offset\n    renderStrokeFillRoundRect(\n      ctx,\n      tagMarkOptions.backgroundColor,\n      tagMarkOptions.borderColor,\n      tagMarkOptions.borderSize,\n      x,\n      y - rectHeight / 2,\n      rectWidth,\n      rectHeight,\n      tagMarkOptions.borderRadius\n    )\n    ctx.textBaseline = 'middle'\n    ctx.font = createFont(tagMarkOptions.size, tagMarkOptions.weight, tagMarkOptions.family)\n    renderText(ctx, tagMarkOptions.color, x + tagMarkOptions.paddingLeft, y, this._mark)\n  }\n\n  /**\n   * Ëé∑ÂèñÂùêÊ†áyÂÄº\n   * @param tagOptions\n   * @return {*}\n   * @private\n   */\n  _getY (tagOptions) {\n    const offset = tagOptions.offset\n    switch (tagOptions.position) {\n      case OverlayPosition.TOP: {\n        return offset\n      }\n      case OverlayPosition.BOTTOM: {\n        return this._yAxis.height() + offset\n      }\n      default: {\n        return this._yAxis.convertToNicePixel(this._points.value) + offset\n      }\n    }\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport ChartStore from '../store/ChartStore'\n\nimport CandlePane from './CandlePane'\nimport XAxisPane from './XAxisPane'\n\nimport { YAxisPosition } from '../options/styleOptions'\n\nimport { isArray, isBoolean, isFunction, isValid, isNumber } from '../utils/typeChecks'\nimport { createId } from '../utils/id'\n\nimport TechnicalIndicatorPane from './TechnicalIndicatorPane'\nimport SeparatorPane from './SeparatorPane'\n\nimport ChartEvent from '../event/ChartEvent'\nimport { getPixelRatio } from '../utils/canvas'\nimport { throttle } from '../utils/performance'\nimport { createElement } from '../utils/element'\nimport Annotation from '../component/overlay/Annotation'\nimport Tag from '../component/overlay/Tag'\nimport { perfectOverlayFunc } from '../component/overlay/Overlay'\n\nimport ActionType from '../enum/ActionType'\nimport InvalidateLevel from '../enum/InvalidateLevel'\n\n// ÈªòËÆ§ÊäÄÊúØÊåáÊ†áÁ™óÂè£È´òÂ∫¶\nconst DEFAULT_TECH_PANE_HEIGHT = 100\n\n// ÊäÄÊúØÊåáÊ†áÁ™óÂè£idÂâçÁºÄ\nconst TECH_PANE_ID_PREFIX = 'tech_pane_'\n\n// ÂõæÂΩ¢idÂâçÁºÄ\nconst SHAPE_ID_PREFIX = 'shape_'\n\n// Ê≥®Ëß£idÂâçÁºÄ\nconst ANNOTATION_ID_PREFIX = 'an_'\n\n// Ëú°ÁÉõÂõæÁ™óÂè£id\nexport const CANDLE_PANE_ID = 'candle_pane'\n\n// xËΩ¥Á™óÂè£id\nconst XAXIS_PANE_ID = 'x_axis_pane'\n\nexport default class ChartPane {\n  constructor (container, styleOptions) {\n    this._initChartContainer(container)\n    this._separatorDragStartTopPaneHeight = 0\n    this._separatorDragStartBottomPaneHeight = 0\n    this._chartStore = new ChartStore(styleOptions, {\n      invalidate: this._invalidatePane.bind(this),\n      crosshair: this._crosshairObserver.bind(this)\n    })\n    this._xAxisPane = new XAxisPane({ id: XAXIS_PANE_ID, container: this._chartContainer, chartStore: this._chartStore })\n    this._panes = new Map([[CANDLE_PANE_ID, new CandlePane({\n      container: this._chartContainer,\n      chartStore: this._chartStore,\n      xAxis: this._xAxisPane.xAxis(),\n      id: CANDLE_PANE_ID\n    })]])\n    this._separators = new Map()\n    this._chartWidth = {}\n    this._chartHeight = {}\n    this._chartEvent = new ChartEvent(\n      this._chartContainer,\n      this._chartStore,\n      (paneId) => this._panes.get(paneId).yAxis()\n    )\n    this.adjustPaneViewport(true, true, true)\n  }\n\n  /**\n   * ÂàùÂßãÂåñÂõæË°®ÂÆπÂô®\n   * @param container\n   * @private\n   */\n  _initChartContainer (container) {\n    this._container = container\n    this._chartContainer = createElement('div', {\n      userSelect: 'none',\n      webkitUserSelect: 'none',\n      msUserSelect: 'none',\n      MozUserSelect: 'none',\n      webkitTapHighlightColor: 'transparent',\n      position: 'relative',\n      outline: 'none',\n      borderStyle: 'none',\n      width: '100%',\n      cursor: 'crosshair',\n      boxSizing: 'border-box'\n    })\n    this._chartContainer.tabIndex = 1\n    container.appendChild(this._chartContainer)\n  }\n\n  /**\n   * ÂçÅÂ≠óÂÖâÊ†áËßÇÂØüËÄÖ\n   * @private\n   */\n  _crosshairObserver ({ paneId, dataIndex, kLineData, x, y }) {\n    if (\n      this._chartStore.actionStore().has(ActionType.CROSSHAIR) ||\n      this._chartStore.actionStore().has(ActionType.TOOLTIP)\n    ) {\n      const techDatas = {}\n      this._panes.forEach((_, id) => {\n        const data = {}\n        const techDataList = []\n        const techs = this.chartStore().technicalIndicatorStore().instances(id)\n        techs.forEach(tech => {\n          const result = tech.result\n          const techData = result[dataIndex]\n          data[tech.name] = techData\n          techDataList.push({ name: tech.name, data: techData })\n        })\n        techDatas[id] = data\n        this._chartStore.actionStore().execute(ActionType.TOOLTIP, {\n          paneId: id,\n          dataIndex,\n          kLineData,\n          technicalIndicatorData: techDataList\n        })\n      })\n      if (paneId) {\n        this._chartStore.actionStore().execute(ActionType.CROSSHAIR, {\n          paneId,\n          coordinate: { x, y },\n          dataIndex,\n          kLineData,\n          technicalIndicatorData: techDatas\n        })\n      }\n    }\n  }\n\n  /**\n   * ÂàÜÂâ≤Á∫øÊãñÊãΩÂºÄÂßã\n   * @param topPaneId\n   * @param bottomPaneId\n   * @private\n   */\n  _separatorStartDrag (topPaneId, bottomPaneId) {\n    this._separatorDragStartTopPaneHeight = this._panes.get(topPaneId).height()\n    this._separatorDragStartBottomPaneHeight = this._panes.get(bottomPaneId).height()\n  }\n\n  /**\n   * ÂàÜÂâ≤Á∫øÊãñÊãΩ\n   * @param dragDistance\n   * @param topPaneId\n   * @param bottomPaneId\n   * @private\n   */\n  _separatorDrag (dragDistance, topPaneId, bottomPaneId) {\n    const topPane = this._panes.get(topPaneId)\n    const bottomPane = this._panes.get(bottomPaneId)\n    const topPaneMinHeight = topPane.minHeight()\n    const bottomPaneMinHeight = bottomPane.minHeight()\n    let topPaneHeight = this._separatorDragStartTopPaneHeight + dragDistance\n    let bottomPaneHeight = this._separatorDragStartBottomPaneHeight - dragDistance\n    if (topPaneHeight > this._separatorDragStartTopPaneHeight + this._separatorDragStartBottomPaneHeight) {\n      topPaneHeight = this._separatorDragStartTopPaneHeight + this._separatorDragStartBottomPaneHeight\n      bottomPaneHeight = 0\n    }\n    if (topPaneHeight < 0) {\n      topPaneHeight = 0\n      bottomPaneHeight = this._separatorDragStartTopPaneHeight + this._separatorDragStartBottomPaneHeight\n    }\n    if (topPaneHeight < topPaneMinHeight) {\n      bottomPaneHeight -= bottomPaneMinHeight - topPaneHeight\n      topPaneHeight = topPaneMinHeight\n    }\n    if (bottomPaneHeight < bottomPaneMinHeight) {\n      topPaneHeight -= topPaneMinHeight - bottomPaneHeight\n      bottomPaneHeight = bottomPaneMinHeight\n    }\n    topPane.setHeight(topPaneHeight)\n    bottomPane.setHeight(bottomPaneHeight)\n    this._chartStore.actionStore().execute(ActionType.PANE_DRAG, { topPaneId, bottomPaneId, topPaneHeight, bottomPaneHeight })\n    this.adjustPaneViewport(true, true, true, true, true)\n  }\n\n  /**\n   * Êõ¥Êñ∞ÊâÄÊúâpane\n   * @private\n   */\n  _invalidatePane (invalidateLevel = InvalidateLevel.FULL) {\n    if (invalidateLevel === InvalidateLevel.OVERLAY) {\n      this._xAxisPane.invalidate(invalidateLevel)\n      this._panes.forEach((pane) => {\n        pane.invalidate(invalidateLevel)\n      })\n    } else {\n      let shouldMeasureWidth = false\n      this._panes.forEach((pane) => {\n        const should = pane.yAxis().computeAxis()\n        if (should) {\n          shouldMeasureWidth = should\n        }\n      })\n      this.adjustPaneViewport(false, shouldMeasureWidth, true)\n    }\n  }\n\n  /**\n   * ÊµãÈáèpaneÈ´òÂ∫¶\n   * @private\n   */\n  _measurePaneHeight () {\n    const styleOptions = this._chartStore.styleOptions()\n    const paneHeight = this._container.offsetHeight\n    const separatorSize = styleOptions.separator.size\n    const separatorTotalHeight = separatorSize * this._separators.size\n    const xAxisHeight = this._xAxisPane.xAxis().getSelfHeight()\n    let paneExcludeXAxisSeparatorHeight = paneHeight - xAxisHeight - separatorTotalHeight\n    if (paneExcludeXAxisSeparatorHeight < 0) {\n      paneExcludeXAxisSeparatorHeight = 0\n    }\n    let techPaneTotalHeight = 0\n    this._panes.forEach(pane => {\n      if (pane.id() !== CANDLE_PANE_ID) {\n        let paneHeight = pane.height()\n        const paneMinHeight = pane.minHeight()\n        if (paneHeight < paneMinHeight) {\n          paneHeight = paneMinHeight\n        }\n        if (techPaneTotalHeight + paneHeight > paneExcludeXAxisSeparatorHeight) {\n          techPaneTotalHeight = paneExcludeXAxisSeparatorHeight\n          paneHeight = paneExcludeXAxisSeparatorHeight - techPaneTotalHeight\n          if (paneHeight < 0) paneHeight = 0\n        } else {\n          techPaneTotalHeight += paneHeight\n        }\n        pane.setHeight(paneHeight)\n      }\n    })\n\n    const candlePaneHeight = paneExcludeXAxisSeparatorHeight - techPaneTotalHeight\n\n    const paneContentSize = {}\n    paneContentSize[CANDLE_PANE_ID] = { contentTop: 0, contentBottom: candlePaneHeight }\n    let contentTop = candlePaneHeight\n    let contentBottom = candlePaneHeight\n    this._panes.get(CANDLE_PANE_ID).setHeight(candlePaneHeight)\n    this._chartHeight[CANDLE_PANE_ID] = candlePaneHeight\n    this._panes.forEach(pane => {\n      if (pane.id() !== CANDLE_PANE_ID) {\n        const paneHeight = pane.height()\n        contentBottom += (paneHeight + separatorSize)\n        paneContentSize[pane.id()] = { contentTop, contentBottom }\n        this._chartHeight[pane.id()] = paneHeight\n        contentTop = contentBottom\n      }\n    })\n    this._xAxisPane.setHeight(xAxisHeight)\n    this._chartHeight.xAxis = xAxisHeight\n    this._chartHeight.total = paneHeight\n    this._chartEvent.setPaneContentSize(paneContentSize)\n    this._chartEvent.setChartContentTopBottom({ contentTop: 0, contentBottom })\n  }\n\n  /**\n   * ÊµãÈáèpanÂÆΩÂ∫¶\n   * @private\n   */\n  _measurePaneWidth () {\n    const styleOptions = this._chartStore.styleOptions()\n    const yAxisOptions = styleOptions.yAxis\n    const isYAxisLeft = yAxisOptions.position === YAxisPosition.LEFT\n    const isOutside = !yAxisOptions.inside\n    const paneWidth = this._container.offsetWidth\n    let mainWidth\n    let yAxisWidth = Number.MIN_SAFE_INTEGER\n    let yAxisOffsetLeft\n    let mainOffsetLeft\n    this._panes.forEach(pane => {\n      yAxisWidth = Math.max(yAxisWidth, pane.yAxis().getSelfWidth())\n    })\n    if (yAxisWidth > paneWidth) {\n      yAxisWidth = paneWidth\n    }\n    if (isOutside) {\n      mainWidth = paneWidth - yAxisWidth\n      if (isYAxisLeft) {\n        yAxisOffsetLeft = 0\n        mainOffsetLeft = yAxisWidth\n      } else {\n        yAxisOffsetLeft = paneWidth - yAxisWidth\n        mainOffsetLeft = 0\n      }\n    } else {\n      mainWidth = paneWidth\n      mainOffsetLeft = 0\n      if (isYAxisLeft) {\n        yAxisOffsetLeft = 0\n      } else {\n        yAxisOffsetLeft = paneWidth - yAxisWidth\n      }\n    }\n\n    let totalDataSpace = mainWidth\n    if (totalDataSpace < this._chartStore.timeScaleStore().dataSpace()) {\n      totalDataSpace = this._chartStore.timeScaleStore().dataSpace()\n    }\n    this._chartStore.timeScaleStore().setTotalDataSpace(totalDataSpace)\n\n    this._panes.forEach((pane, paneId) => {\n      pane.setWidth(mainWidth, yAxisWidth)\n      pane.setOffsetLeft(mainOffsetLeft, yAxisOffsetLeft)\n      const separator = this._separators.get(paneId)\n      separator && separator.setSize(mainOffsetLeft, mainWidth)\n    })\n    this._chartWidth = { content: mainWidth, yAxis: yAxisWidth, total: paneWidth }\n    this._xAxisPane.setWidth(mainWidth, yAxisWidth)\n    this._xAxisPane.setOffsetLeft(mainOffsetLeft, yAxisOffsetLeft)\n    this._chartEvent.setChartContentLeftRight({ contentLeft: mainOffsetLeft, contentRight: mainOffsetLeft + mainWidth })\n  }\n\n  /**\n   * Ëé∑ÂèñÂÆπÂô®\n   * @returns\n   */\n  getContainer () { return this._container }\n\n  /**\n   * Ë∞ÉÊï¥Á™óÂè£Â∞∫ÂØ∏\n   * @param shouldMeasureHeight\n   * @param shouldMeasureWidth\n   * @param shouldLayout\n   * @param shouldComputeAxis\n   * @param shouldForceComputeAxis\n   */\n  adjustPaneViewport (\n    shouldMeasureHeight, shouldMeasureWidth, shouldLayout, shouldComputeAxis, shouldForceComputeAxis\n  ) {\n    if (shouldMeasureHeight) {\n      this._measurePaneHeight()\n    }\n    let isAdjust = false\n    if (shouldComputeAxis) {\n      this._panes.forEach(pane => {\n        const adjust = pane.yAxis().computeAxis(shouldForceComputeAxis)\n        if (!isAdjust) {\n          isAdjust = adjust\n        }\n      })\n    }\n    if ((!shouldComputeAxis && shouldMeasureWidth) || (shouldComputeAxis && isAdjust)) {\n      this._measurePaneWidth()\n    }\n    if (shouldLayout) {\n      this._xAxisPane.xAxis().computeAxis(true)\n      this._xAxisPane.layout()\n      this._panes.forEach(pane => {\n        pane.layout()\n      })\n    }\n  }\n\n  /**\n   * Á™óÂè£ÊòØÂê¶Â≠òÂú®\n   * @param paneId\n   * @return {boolean}\n   */\n  hasPane (paneId) {\n    return this._panes.has(paneId)\n  }\n\n  /**\n   * Ëé∑ÂèñÁ™óÂè£\n   * @param paneId\n   * @returns\n   */\n  getPane (paneId) {\n    return this._panes.get(paneId)\n  }\n\n  /**\n   * Ëé∑ÂèñÂõæË°®‰∏äÁöÑÊï∞ÊçÆ\n   * @returns {chartStore}\n   */\n  chartStore () {\n    return this._chartStore\n  }\n\n  /**\n   * ÁßªÈô§ÊåáÊ†á\n   * @param paneId\n   * @param name\n   */\n  removeTechnicalIndicator (paneId, name) {\n    const removed = this._chartStore.technicalIndicatorStore().removeInstance(paneId, name)\n    if (removed) {\n      let shouldMeasureHeight = false\n      if (paneId !== CANDLE_PANE_ID) {\n        if (!this._chartStore.technicalIndicatorStore().hasInstance(paneId)) {\n          shouldMeasureHeight = true\n          this._panes.get(paneId).destroy()\n          const deleteSeparatorTopPaneId = this._separators.get(paneId).topPaneId()\n          this._separators.get(paneId).destroy()\n          this._panes.delete(paneId)\n          this._separators.delete(paneId)\n          this._separators.forEach(separator => {\n            const topPaneId = separator.topPaneId()\n            if (!this._separators.has(topPaneId)) {\n              separator.updatePaneId(deleteSeparatorTopPaneId)\n            }\n          })\n        }\n      }\n      this.adjustPaneViewport(shouldMeasureHeight, true, true, true, true)\n    }\n  }\n\n  /**\n   * ËÆæÁΩÆÊåáÊ†áÁ±ªÂûã\n   * @param tech ÊäÄÊúØÊåáÊ†áÂÆû‰æã\n   * @param isStack ÊòØÂê¶Âè†Âä†\n   * @param options ÈÖçÁΩÆ\n   */\n  createTechnicalIndicator (tech, isStack, options = {}) {\n    if (this._panes.has(options.id)) {\n      const task = this._chartStore.technicalIndicatorStore().addInstance(options.id, tech, isStack)\n      if (task) {\n        task.finally(_ => {\n          this.setPaneOptions(options, this._panes.get(options.id).yAxis().computeAxis(true))\n        })\n      }\n      return options.id\n    }\n    const id = options.id || createId(TECH_PANE_ID_PREFIX)\n    const dragEnabled = isBoolean(options.dragEnabled) ? options.dragEnabled : true\n    this._separators.set(id, new SeparatorPane(\n      this._chartContainer,\n      this._chartStore,\n      Array.from(this._panes.keys()).pop(),\n      id,\n      dragEnabled,\n      {\n        startDrag: this._separatorStartDrag.bind(this),\n        drag: throttle(this._separatorDrag.bind(this), 50)\n      }\n    ))\n    const pane = new TechnicalIndicatorPane({\n      container: this._chartContainer,\n      chartStore: this._chartStore,\n      xAxis: this._xAxisPane.xAxis(),\n      id,\n      height: options.height || DEFAULT_TECH_PANE_HEIGHT,\n      minHeight: options.minHeight\n    })\n    this._panes.set(id, pane)\n    const task = this._chartStore.technicalIndicatorStore().addInstance(id, tech, isStack)\n    if (task) {\n      task.finally(_ => {\n        this.adjustPaneViewport(true, true, true, true, true)\n      })\n    }\n    return id\n  }\n\n  /**\n   * ÂàõÂª∫ÂõæÂΩ¢\n   * @param ShapeTemplateClass\n   * @param shapeOptions\n   * @param paneId\n   */\n  createShape (ShapeTemplateClass, shapeOptions, paneId) {\n    const {\n      id, points, styles, lock, mode, data,\n      onDrawStart, onDrawing,\n      onDrawEnd, onClick,\n      onRightClick, onPressedMove,\n      onMouseEnter, onMouseLeave,\n      onRemove\n    } = shapeOptions\n    const shapeId = id || createId(SHAPE_ID_PREFIX)\n    if (!this._chartStore.shapeStore().hasInstance(shapeId)) {\n      let yAxis = null\n      if (this.hasPane(paneId)) {\n        yAxis = this._panes.get(paneId).yAxis()\n      } else {\n        if (points && points.length > 0) {\n          paneId = CANDLE_PANE_ID\n          yAxis = this._panes.get(CANDLE_PANE_ID).yAxis()\n        }\n      }\n      const shapeInstance = new ShapeTemplateClass({\n        id: shapeId,\n        chartStore: this._chartStore,\n        xAxis: this._xAxisPane.xAxis(),\n        yAxis,\n        points,\n        styles,\n        lock,\n        mode,\n        data\n      })\n      if (isFunction(onDrawStart)) {\n        onDrawStart({ id: shapeId })\n      }\n      perfectOverlayFunc(shapeInstance, [\n        { key: 'onDrawing', fn: onDrawing },\n        { key: 'onDrawEnd', fn: onDrawEnd },\n        { key: 'onClick', fn: onClick },\n        { key: 'onRightClick', fn: onRightClick },\n        { key: 'onPressedMove', fn: onPressedMove },\n        { key: 'onMouseEnter', fn: onMouseEnter },\n        { key: 'onMouseLeave', fn: onMouseLeave },\n        { key: 'onRemove', fn: onRemove }\n      ])\n      this._chartStore.shapeStore().addInstance(shapeInstance, paneId)\n      return shapeId\n    }\n    return null\n  }\n\n  /**\n   * ÂàõÂª∫Ê≥®Ëß£\n   * @param annotations\n   * @param paneId\n   */\n  createAnnotation (annotations, paneId) {\n    const instances = []\n    annotations.forEach(({\n      point,\n      styles,\n      checkEventCoordinateOnCustomSymbol,\n      drawCustomSymbol,\n      drawExtend,\n      onClick,\n      onRightClick,\n      onMouseEnter,\n      onMouseLeave\n    }) => {\n      if (point && point.timestamp) {\n        const annotationInstance = new Annotation({\n          id: createId(ANNOTATION_ID_PREFIX),\n          chartStore: this._chartStore,\n          point,\n          xAxis: this._xAxisPane.xAxis(),\n          yAxis: this._panes.get(paneId).yAxis(),\n          styles\n        })\n\n        perfectOverlayFunc(annotationInstance, [\n          { key: 'drawExtend', fn: drawExtend },\n          { key: 'drawCustomSymbol', fn: drawCustomSymbol },\n          { key: 'checkEventCoordinateOnCustomSymbol', fn: checkEventCoordinateOnCustomSymbol },\n          { key: 'onClick', fn: onClick },\n          { key: 'onRightClick', fn: onRightClick },\n          { key: 'onMouseEnter', fn: onMouseEnter },\n          { key: 'onMouseLeave', fn: onMouseLeave }\n        ])\n        instances.push(annotationInstance)\n      }\n    })\n    if (instances.length > 0) {\n      this._chartStore.annotationStore().add(instances, paneId)\n    }\n  }\n\n  /**\n   * ÂàõÂª∫Ê†áÁ≠æ\n   * @param tags\n   * @param paneId\n   */\n  createTag (tags, paneId) {\n    const instances = []\n    let shouldUpdate = false\n    let shouldAdd = false\n    tags.forEach(({ id, point, text, mark, styles }) => {\n      if (isValid(id)) {\n        if (this._chartStore.tagStore().has(id, paneId)) {\n          const updateSuccess = this._chartStore.tagStore().update(id, paneId, { point, text, mark, styles })\n          if (!shouldUpdate) {\n            shouldUpdate = updateSuccess\n          }\n        } else {\n          shouldAdd = true\n          instances.push(new Tag({\n            id,\n            point,\n            text,\n            mark,\n            styles,\n            chartStore: this._chartStore,\n            xAxis: this._xAxisPane.xAxis(),\n            yAxis: this._panes.get(paneId).yAxis()\n          }))\n        }\n      }\n    })\n    if (shouldAdd) {\n      this._chartStore.tagStore().add(instances, paneId)\n    } else {\n      if (shouldUpdate) {\n        this._invalidatePane(InvalidateLevel.OVERLAY)\n      }\n    }\n  }\n\n  /**\n   * ÁßªÈô§ÊâÄÊúâhtmlÂÖÉÁ¥†\n   */\n  removeAllHtml () {\n    this._panes.forEach(pane => { pane.removeHtml() })\n    this._xAxisPane.removeHtml()\n  }\n\n  /**\n   * ËÆæÁΩÆÁ™ó‰ΩìÂèÇÊï∞\n   * @param options\n   * @param forceShouldAdjust\n   */\n  setPaneOptions (options, forceShouldAdjust) {\n    let shouldAdjust = forceShouldAdjust\n    let shouldMeasureHeight = false\n    if (options.id !== CANDLE_PANE_ID) {\n      const pane = this._panes.get(options.id)\n      if (pane) {\n        if (isNumber(options.minHeight) && options.minHeight > 0) {\n          pane.setMinHeight(options.minHeight)\n        }\n        if (isNumber(options.height) && options.height > 0) {\n          const minHeight = pane.minHeight()\n          const height = options.height < pane.minHeight ? minHeight : options.height\n          if (pane.height() !== height) {\n            shouldAdjust = true\n            pane.setHeight(options.height)\n            shouldMeasureHeight = true\n          }\n        }\n        if (isBoolean(options.dragEnabled)) {\n          this._separators.get(options.id).setDragEnabled(options.dragEnabled)\n        }\n      }\n    }\n    if (shouldAdjust) {\n      this.adjustPaneViewport(shouldMeasureHeight, true, true, true, true)\n    }\n  }\n\n  /**\n   * ËÆæÁΩÆÊó∂Âå∫\n   * @param timezone\n   */\n  setTimezone (timezone) {\n    this._chartStore.timeScaleStore().setTimezone(timezone)\n    this._xAxisPane.xAxis().computeAxis(true)\n    this._xAxisPane.invalidate(InvalidateLevel.FULL)\n  }\n\n  /**\n   * Â∞ÜÂÄºË£ÖÊç¢ÊàêÂÉèÁ¥†\n   * @param timestamp\n   * @param point\n   * @param paneId\n   * @param absoluteYAxis\n   */\n  convertToPixel (point, { paneId = CANDLE_PANE_ID, absoluteYAxis }) {\n    const points = [].concat(point)\n    let coordinates = []\n    const separatorSize = this._chartStore.styleOptions().separator.size\n    let absoluteTop = 0\n    const panes = this._panes.values()\n    for (const pane of panes) {\n      if (pane.id() === paneId) {\n        coordinates = points.map(({ timestamp, dataIndex, value }) => {\n          const coordinate = {}\n          let index = dataIndex\n          if (isValid(timestamp)) {\n            index = this._chartStore.timeScaleStore().timestampToDataIndex(timestamp)\n          }\n          if (isValid(index)) {\n            coordinate.x = this._xAxisPane.xAxis().convertToPixel(index)\n          }\n          if (isValid(value)) {\n            const y = pane.yAxis().convertToPixel(value)\n            coordinate.y = absoluteYAxis ? absoluteTop + y : y\n          }\n          return coordinate\n        })\n        break\n      }\n      absoluteTop += (pane.height() + separatorSize)\n    }\n    return isArray(point) ? coordinates : (coordinates[0] || {})\n  }\n\n  /**\n   * Â∞ÜÂÉèÁ¥†ËΩ¨Êç¢ÊàêÂÄº\n   * @param coordinate\n   * @param paneId\n   * @param dataIndexXAxis\n   * @param absoluteYAxis\n   * @return {{}[]|*[]}\n   */\n  convertFromPixel (coordinate, { paneId = CANDLE_PANE_ID, absoluteYAxis }) {\n    const coordinates = [].concat(coordinate)\n    let points = []\n    const separatorSize = this._chartStore.styleOptions().separator.size\n    let absoluteTop = 0\n    const panes = this._panes.values()\n    for (const pane of panes) {\n      if (pane.id() === paneId) {\n        points = coordinates.map(({ x, y }) => {\n          const point = {}\n          if (isValid(x)) {\n            point.dataIndex = this._xAxisPane.xAxis().convertFromPixel(x)\n            point.timestamp = this._chartStore.timeScaleStore().dataIndexToTimestamp(point.dataIndex)\n          }\n          if (isValid(y)) {\n            const ry = absoluteYAxis ? y - absoluteTop : y\n            point.value = pane.yAxis().convertFromPixel(ry)\n          }\n          return point\n        })\n        break\n      }\n      absoluteTop += pane.height() + separatorSize\n    }\n    return isArray(coordinate) ? points : (points[0] || {})\n  }\n\n  /**\n   * ÂõæË°®ÂÆΩÂ∫¶\n   * @return {*|{}}\n   */\n  chartWidth () {\n    return this._chartWidth\n  }\n\n  /**\n   * ÂõæË°®È´òÂ∫¶\n   * @return {*|{}}\n   */\n  chartHeight () {\n    return this._chartHeight\n  }\n\n  /**\n   * Ëé∑ÂèñÂõæË°®ËΩ¨Êç¢‰∏∫ÂõæÁâáÂêéurl\n   * @param includeOverlay,\n   * @param type\n   * @param backgroundColor\n   */\n  getConvertPictureUrl (includeOverlay, type, backgroundColor) {\n    const width = this._chartContainer.offsetWidth\n    const height = this._chartContainer.offsetHeight\n    const canvas = createElement('canvas', {\n      width: `${width}px`,\n      height: `${height}px`,\n      boxSizing: 'border-box'\n    })\n    const ctx = canvas.getContext('2d')\n    const pixelRatio = getPixelRatio(canvas)\n    canvas.width = width * pixelRatio\n    canvas.height = height * pixelRatio\n    ctx.scale(pixelRatio, pixelRatio)\n\n    ctx.fillStyle = backgroundColor\n    ctx.fillRect(0, 0, width, height)\n    let offsetTop = 0\n    this._panes.forEach((pane, paneId) => {\n      if (paneId !== CANDLE_PANE_ID) {\n        const separator = this._separators.get(paneId)\n        ctx.drawImage(\n          separator.getImage(),\n          0, offsetTop, width, separator.height()\n        )\n        offsetTop += separator.height()\n      }\n      ctx.drawImage(\n        pane.getImage(includeOverlay),\n        0, offsetTop, width, pane.height()\n      )\n      offsetTop += pane.height()\n    })\n    ctx.drawImage(\n      this._xAxisPane.getImage(includeOverlay),\n      0, offsetTop, width, this._xAxisPane.height()\n    )\n    return canvas.toDataURL(`image/${type}`)\n  }\n\n  /**\n   * ÈîÄÊØÅ\n   */\n  destroy () {\n    this._panes.forEach(pane => {\n      pane.destroy()\n    })\n    this._separators.forEach(pane => {\n      pane.destroy()\n    })\n    this._panes.clear()\n    this._separators.clear()\n    this._xAxisPane.destroy()\n    this._container.removeChild(this._chartContainer)\n    this._chartEvent.destroy()\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport ChartPane, { CANDLE_PANE_ID } from './pane/ChartPane'\nimport { clone, isNumber, isObject, isArray, isFunction, isValid, isString } from './utils/typeChecks'\nimport { logWarn } from './utils/logger'\nimport { requestAnimationFrame } from './utils/compatible'\nimport { formatValue } from './utils/format'\nimport { binarySearchNearest } from './utils/number'\n\nimport { hasAction } from './enum/ActionType'\n\nexport default class Chart {\n  constructor (container, styleOptions) {\n    this._chartPane = new ChartPane(container, styleOptions)\n  }\n\n  /**\n   * Ëé∑Âèñdom\n   * @param finder\n   * @returns\n   */\n  getDom (finder) {\n    if (finder) {\n      if (!isObject(finder)) {\n        logWarn('getDom', 'options', 'options must be an object!!!')\n        return null\n      }\n      const { paneId, position } = finder\n      const pane = this._chartPane.getPane(paneId)\n      if (!pane) {\n        logWarn('getDom', 'options.paneId', 'can not find the corresponding pane!!!')\n        return null\n      }\n      return pane.container(position) || null\n    }\n    return this._chartPane.getContainer()\n  }\n\n  /**\n   * Ëé∑ÂèñÂÆΩÂ∞∫ÂØ∏\n   * @return {*|{}}\n   */\n  getWidth () {\n    return this._chartPane.chartWidth()\n  }\n\n  /**\n   * Ëé∑ÂèñÈ´òÂ∫¶Â∞∫ÂØ∏\n   * @return {*|{}}\n   */\n  getHeight () {\n    return this._chartPane.chartHeight()\n  }\n\n  /**\n   * ËÆæÁΩÆÊ†∑ÂºèÈÖçÁΩÆ\n   * @param options ÈÖçÁΩÆ\n   */\n  setStyleOptions (options) {\n    if (!isObject(options)) {\n      logWarn('setStyleOptions', 'options')\n      return\n    }\n    this._chartPane.chartStore().applyStyleOptions(options)\n    this._chartPane.adjustPaneViewport(true, true, true, true, true)\n  }\n\n  /**\n   * Ëé∑ÂèñÊ†∑ÂºèÈÖçÁΩÆ\n   * @returns {[]|*[]}\n   */\n  getStyleOptions () {\n    return clone(this._chartPane.chartStore().styleOptions())\n  }\n\n  /**\n   * ËÆæÁΩÆ‰ª∑Ê†ºÊï∞ÈáèÁ≤æÂ∫¶\n   * @param pricePrecision ‰ª∑Ê†ºÁ≤æÂ∫¶\n   * @param volumePrecision Êï∞ÈáèÁ≤æÂ∫¶\n   */\n  setPriceVolumePrecision (pricePrecision, volumePrecision) {\n    if (!isNumber(pricePrecision) || pricePrecision < 0) {\n      logWarn('setPriceVolumePrecision', 'pricePrecision', 'pricePrecision must be a number and greater than zero!!!')\n      return\n    }\n    if (!isNumber(volumePrecision) || volumePrecision < 0) {\n      logWarn('setPriceVolumePrecision', 'volumePrecision', 'volumePrecision must be a number and greater than zero!!!')\n      return\n    }\n    this._chartPane.chartStore().setPriceVolumePrecision(pricePrecision, volumePrecision)\n  }\n\n  /**\n   * ËÆæÁΩÆÊó∂Âå∫\n   * @param timezone Êó∂Âå∫\n   */\n  setTimezone (timezone) {\n    this._chartPane.setTimezone(timezone)\n  }\n\n  /**\n   * Ëé∑ÂèñÂΩìÂâçÊó∂Âå∫\n   */\n  getTimezone () {\n    return this._chartPane.chartStore().timeScaleStore().timezone()\n  }\n\n  /**\n   * ÈáçÁΩÆÂ∞∫ÂØ∏ÔºåÊÄªÊòØ‰ºöÂ°´ÂÖÖÁà∂ÂÆπÂô®\n   */\n  resize () {\n    this._chartPane.adjustPaneViewport(true, true, true, true, true)\n  }\n\n  /**\n   * ËÆæÁΩÆÂè≥ËæπÈó¥Ë∑ù\n   * @param space Á©∫Èó¥Â§ßÂ∞è\n   */\n  setOffsetRightSpace (space) {\n    if (!isNumber(space)) {\n      logWarn('setOffsetRightSpace', 'space', 'space must be a number!!!')\n      return\n    }\n    this._chartPane.chartStore().timeScaleStore().setOffsetRightSpace(space, true)\n  }\n\n  /**\n   * ËÆæÁΩÆÂ∑¶ËæπÂèØËßÅÁöÑÊúÄÂ∞èbarÊï∞Èáè\n   * @param barCount barÊï∞Èáè\n   */\n  setLeftMinVisibleBarCount (barCount) {\n    if (!isNumber(barCount) || barCount <= 0) {\n      logWarn('setLeftMinVisibleBarCount', 'barCount', 'barCount must be a number and greater than zero!!!')\n      return\n    }\n    this._chartPane.chartStore().timeScaleStore().setLeftMinVisibleBarCount(Math.ceil(barCount))\n  }\n\n  /**\n   * ËÆæÁΩÆÂè≥ËæπÂèØËßÅÁöÑÊúÄÂ∞èbarÊï∞Èáè\n   * @param barCount barÊï∞Èáè\n   */\n  setRightMinVisibleBarCount (barCount) {\n    if (!isNumber(barCount) || barCount <= 0) {\n      logWarn('setRightMinVisibleBarCount', 'barCount', 'barCount must be a number and greater than zero!!!')\n      return\n    }\n    this._chartPane.chartStore().timeScaleStore().setRightMinVisibleBarCount(Math.ceil(barCount))\n  }\n\n  /**\n   * ËÆæÁΩÆ‰∏ÄÊù°Êï∞ÊçÆÁöÑÁ©∫Èó¥\n   * @param space Á©∫Èó¥Â§ßÂ∞è\n   */\n  setDataSpace (space) {\n    if (!isNumber(space)) {\n      logWarn('setDataSpace', 'space', 'space must be a number!!!')\n      return\n    }\n    this._chartPane.chartStore().timeScaleStore().setDataSpace(space)\n  }\n\n  /**\n   * Ëé∑ÂèñÂçïÊù°Êï∞ÊçÆÁöÑÁ©∫Èó¥\n   * @returns\n   */\n  getDataSpace () {\n    return this._chartPane.chartStore().timeScaleStore().dataSpace()\n  }\n\n  /**\n   * Ëé∑ÂèñÂçïÊù°Êï∞ÊçÆÁªòÂà∂ÁöÑÁ©∫Èó¥\n   * @returns\n   */\n  getBarSpace () {\n    return this._chartPane.chartStore().timeScaleStore().barSpace()\n  }\n\n  /**\n   * Ê∏ÖÁ©∫Êï∞ÊçÆ\n   */\n  clearData () {\n    this._chartPane.chartStore().clearDataList()\n  }\n\n  /**\n   * Ëé∑ÂèñÊï∞ÊçÆÊ∫ê\n   */\n  getDataList () {\n    return this._chartPane.chartStore().dataList()\n  }\n\n  /**\n   * Ê∑ªÂä†Êñ∞Êï∞ÊçÆ\n   * @param dataList kÁ∫øÊï∞ÊçÆÊï∞ÁªÑ\n   * @param more ÊòØÂê¶ËøòÊúâÊõ¥Â§öÊ†áËØÜ\n   */\n  applyNewData (dataList, more) {\n    if (!isArray(dataList)) {\n      logWarn('applyNewData', 'dataList', 'dataList must be an array!!!')\n      return\n    }\n    const chartStore = this._chartPane.chartStore()\n    chartStore.clearDataList()\n    chartStore.addData(dataList, 0, more)\n    chartStore.technicalIndicatorStore().calcInstance().finally(\n      _ => {\n        this._chartPane.adjustPaneViewport(false, true, true, true)\n      }\n    )\n  }\n\n  /**\n   * Ê∑ªÂä†ÂéÜÂè≤Êõ¥Â§öÊï∞ÊçÆ\n   * @param dataList kÁ∫øÊï∞ÊçÆÊï∞ÁªÑ\n   * @param more ÊòØÂê¶ËøòÊúâÊõ¥Â§öÊ†áËØÜ\n   */\n  applyMoreData (dataList, more) {\n    if (!isArray(dataList)) {\n      logWarn('applyMoreData', 'dataList', 'dataList must be an array!!!')\n      return\n    }\n    const chartStore = this._chartPane.chartStore()\n    chartStore.addData(dataList, 0, more)\n    chartStore.technicalIndicatorStore().calcInstance().finally(\n      _ => {\n        this._chartPane.adjustPaneViewport(false, true, true, true)\n      }\n    )\n  }\n\n  /**\n   * Êõ¥Êñ∞Êï∞ÊçÆ\n   * @param data Êñ∞ÁöÑkÁ∫øÊï∞ÊçÆ\n   */\n  updateData (data) {\n    if (!isObject(data) || isArray(data)) {\n      logWarn('updateData', 'data', 'data must be an object!!!')\n      return\n    }\n    const chartStore = this._chartPane.chartStore()\n    const dataList = chartStore.dataList()\n    const dataSize = dataList.length\n    // ËøôÈáåÂà§Êñ≠Âçï‰∏™Êï∞ÊçÆÂ∫îËØ•Ê∑ªÂä†Âà∞Âì™‰∏™‰ΩçÁΩÆ\n    const timestamp = formatValue(data, 'timestamp', 0)\n    const lastDataTimestamp = formatValue(dataList[dataSize - 1], 'timestamp', 0)\n    if (timestamp >= lastDataTimestamp) {\n      let pos = dataSize\n      if (timestamp === lastDataTimestamp) {\n        pos = dataSize - 1\n      }\n      chartStore.addData(data, pos)\n      chartStore.technicalIndicatorStore().calcInstance().finally(\n        _ => {\n          this._chartPane.adjustPaneViewport(false, true, true, true)\n        }\n      )\n    }\n  }\n\n  /**\n   * ËÆæÁΩÆÂä†ËΩΩÊõ¥Â§öÂõûË∞É\n   * @param cb ÂõûË∞ÉÊñπÊ≥ï\n   */\n  loadMore (cb) {\n    if (!isFunction(cb)) {\n      logWarn('loadMore', 'cb', 'cb must be a function!!!')\n      return\n    }\n    this._chartPane.chartStore().timeScaleStore().setLoadMoreCallback(cb)\n  }\n\n  /**\n   * ÂàõÂª∫‰∏Ä‰∏™ÊäÄÊúØÊåáÊ†á\n   * @param value ÊåáÊ†áÂêçÊàñËÄÖÊåáÊ†á\n   * @param isStack ÊòØÂê¶Ë¶ÜÁõñ\n   * @param paneOptions Á™óÂè£ÈÖçÁΩÆ\n   * @returns {string|null}\n   */\n  createTechnicalIndicator (value, isStack, paneOptions) {\n    if (!isValid(value)) {\n      logWarn('createTechnicalIndicator', 'value', 'value is invalid!!!')\n      return null\n    }\n    const tech = isObject(value) && !isArray(value) ? value : { name: value }\n    if (!this._chartPane.chartStore().technicalIndicatorStore().hasTemplate(tech.name)) {\n      logWarn('createTechnicalIndicator', 'value', 'can not find the corresponding technical indicator!!!')\n      return null\n    }\n    return this._chartPane.createTechnicalIndicator(tech, isStack, paneOptions)\n  }\n\n  /**\n   * Ê∑ªÂä†ÊäÄÊúØÊåáÊ†áÊ®°Êùø\n   * @param template ÊåáÊ†áÊ®°Êùø\n   */\n  addTechnicalIndicatorTemplate (template) {\n    if (!isObject(template)) {\n      logWarn('addTechnicalIndicatorTemplate', 'template', 'template must be an object or array!!!')\n      return\n    }\n    const templates = [].concat(template)\n    this._chartPane.chartStore().technicalIndicatorStore().addTemplate(templates)\n  }\n\n  /**\n   * Ë¶ÜÁõñÊäÄÊúØÊåáÊ†á\n   * @param override Ë¶ÜÁõñÂèÇÊï∞\n   * @param paneId Á™óÂè£id\n   */\n  overrideTechnicalIndicator (techOverride, paneId) {\n    if (!isObject(techOverride) || isArray(techOverride)) {\n      logWarn('overrideTechnicalIndicator', 'overrideTech', 'overrideTech must be an object!!!')\n      return\n    }\n    const promise = this._chartPane.chartStore().technicalIndicatorStore().override(techOverride, paneId)\n    if (promise) {\n      promise.then(\n        _ => {\n          this._chartPane.adjustPaneViewport(false, true, true, true)\n        }\n      )\n    }\n  }\n\n  /**\n   * Ëé∑ÂèñÊäÄÊúØÊåáÊ†áÂêçÂ≠óËé∑ÂèñÊäÄÊúØÊåáÊ†á\n   * @param name ÊåáÊ†áÂêç\n   * @return {{}}\n   */\n  getTechnicalIndicatorTemplate (name) {\n    return this._chartPane.chartStore().technicalIndicatorStore().getTemplateInfo(name)\n  }\n\n  /**\n    * Ëé∑ÂèñÁ™óÂè£‰∏äÁöÑÊäÄÊúØÊåáÊ†á\n    * @param paneId Á™óÂè£id\n    * @param name ÊåáÊ†áÂêç\n    * @return {{}}\n    */\n  getTechnicalIndicatorByPaneId (paneId, name) {\n    return this._chartPane.chartStore().technicalIndicatorStore().getInstanceInfo(paneId, name)\n  }\n\n  /**\n   * ÁßªÈô§‰∏Ä‰∏™ÊäÄÊúØÊåáÊ†á\n   * @param paneId Á™óÂè£id\n   * @param name ÊåáÊ†áÂêç\n   */\n  removeTechnicalIndicator (paneId, name) {\n    this._chartPane.removeTechnicalIndicator(paneId, name)\n  }\n\n  /**\n   * Ê∑ªÂä†ÂõæÂΩ¢Ê®°Êùø\n   * @param template ÂõæÂΩ¢Ê®°Êùø\n   */\n  addShapeTemplate (template) {\n    if (!isObject(template)) {\n      logWarn('addShapeTemplate', 'template', 'template must be an object or array!!!')\n      return\n    }\n    const templates = [].concat(template)\n    this._chartPane.chartStore().shapeStore().addTemplate(templates)\n  }\n\n  /**\n   * ÂàõÂª∫ÂõæÂΩ¢\n   * @param value ÂõæÂΩ¢ÂêçÊàñËÄÖÂõæÂΩ¢ÈÖçÁΩÆ\n   * @param paneId Á™óÂè£id\n   */\n  createShape (value, paneId) {\n    if (!isValid(value)) {\n      logWarn('createShape', 'value', 'value is invalid!!!')\n      return null\n    }\n    const shapeOptions = isObject(value) && !isArray(value) ? value : { name: value }\n    const Shape = this._chartPane.chartStore().shapeStore().getTemplate(shapeOptions.name)\n    if (!Shape) {\n      logWarn('createShape', 'value', 'can not find the corresponding shape!!!')\n      return null\n    }\n    const id = this._chartPane.createShape(Shape, shapeOptions, paneId)\n    if (!id) {\n      logWarn('createShape', 'options.id', 'duplicate id!!!')\n    }\n    return id\n  }\n\n  /**\n   * Ëé∑ÂèñÂõæÂΩ¢Ê†áËÆ∞\n   * @param shapeId ÂõæÂΩ¢Ê†áËÆ∞id\n   * @return {{name, lock: *, styles, id, points: (*|*[])}[]|{name, lock: *, styles, id, points: (*|*[])}}\n   */\n  getShape (shapeId) {\n    return this._chartPane.chartStore().shapeStore().getInstanceInfo(shapeId)\n  }\n\n  /**\n   * ËÆæÁΩÆÂõæÂΩ¢Ê†áËÆ∞ÈÖçÁΩÆ\n   * @param options ÂõæÂΩ¢Ê†áËÆ∞ÈÖçÁΩÆ\n   */\n  setShapeOptions (options) {\n    if (!isObject(options) || isArray(options)) {\n      logWarn('setShapeOptions', 'options', 'options must be an object!!!')\n      return\n    }\n    this._chartPane.chartStore().shapeStore().setInstanceOptions(options)\n  }\n\n  /**\n   * ÁßªÈô§ÂõæÂΩ¢\n   * @param shapeId ÂõæÂΩ¢id\n   */\n  removeShape (shapeId) {\n    this._chartPane.chartStore().shapeStore().removeInstance(shapeId)\n  }\n\n  /**\n   * ÂàõÂª∫Ê≥®Ëß£\n   * @param annotation Âçï‰∏™Ê≥®Ëß£ÊàñËÄÖÊ≥®Ëß£Êï∞ÁªÑ\n   * @param paneId Á™óÂè£id\n   */\n  createAnnotation (annotation, paneId = CANDLE_PANE_ID) {\n    if (!isObject(annotation)) {\n      logWarn('createAnnotation', 'annotation', 'annotation must be an object or array!!!')\n      return\n    }\n    if (!this._chartPane.hasPane(paneId)) {\n      logWarn('createAnnotation', 'paneId', 'can not find the corresponding pane!!!')\n      return\n    }\n    const annotations = [].concat(annotation)\n    this._chartPane.createAnnotation(annotations, paneId)\n  }\n\n  /**\n   * ÁßªÈô§Ê≥®Ëß£\n   * @param paneId Á™óÂè£id\n   * @param points Âçï‰∏™ÁÇπÊàñËÄÖÁÇπÊï∞ÁªÑ\n   */\n  removeAnnotation (paneId, points) {\n    this._chartPane.chartStore().annotationStore().remove(paneId, points)\n  }\n\n  /**\n   * ÂàõÂª∫Ê†áÁ≠æ\n   * @param tag Âçï‰∏™Ê†áÁ≠æÊàñËÄÖÊ†áÁ≠æÊï∞ÁªÑ\n   * @param paneId Á™óÂè£id\n   */\n  createTag (tag, paneId = CANDLE_PANE_ID) {\n    if (!isObject(tag)) {\n      logWarn('createTag', 'tag', 'tag must be an object or array!!!')\n      return\n    }\n    if (!this._chartPane.hasPane(paneId)) {\n      logWarn('createTag', 'paneId', 'can not find the corresponding pane!!!')\n      return\n    }\n    const tags = [].concat(tag)\n    this._chartPane.createTag(tags, paneId)\n  }\n\n  /**\n   * ÁßªÈô§Ê†áÁ≠æ\n   * @param paneId Á™óÂè£id\n   * @param tagId Ê†áÁ≠æid\n   */\n  removeTag (paneId, tagId) {\n    this._chartPane.chartStore().tagStore().remove(paneId, tagId)\n  }\n\n  /**\n   * ÂàõÂª∫htmlÂÖÉÁ¥†\n   * @param html\n   * @param paneId\n   * @returns\n   */\n  createHtml (html, paneId = CANDLE_PANE_ID) {\n    if (!isObject(html)) {\n      logWarn('createHtml', 'html', 'options must be an object!!!')\n      return null\n    }\n    if (!isString(html.content) && !(html.content instanceof HTMLElement)) {\n      logWarn('createHtml', 'html.content', 'invalid html.content!!!')\n      return null\n    }\n    const pane = this._chartPane.getPane(paneId)\n    if (!pane) {\n      logWarn('createHtml', 'paneId', 'can not find the corresponding pane!!!')\n      return null\n    }\n    return pane.createHtml(html)\n  }\n\n  /**\n   * ÁßªÈô§htmlÂÖÉÁ¥†\n   * @param paneId\n   * @param htmlId\n   */\n  removeHtml (paneId, htmlId) {\n    if (paneId) {\n      const pane = this._chartPane.getPane(paneId)\n      pane && pane.removeHtml(htmlId)\n    } else {\n      this._chartPane.removeAllHtml()\n    }\n  }\n\n  /**\n   * ËÆæÁΩÆÁ™óÂè£Â±ûÊÄß\n   * @param options Á™óÂè£ÈÖçÁΩÆ\n   */\n  setPaneOptions (options) {\n    if (!isObject(options)) {\n      logWarn('setPaneOptions', 'options', 'options must be an object!!!')\n      return\n    }\n    this._chartPane.setPaneOptions(options, false)\n  }\n\n  /**\n   * ËÆæÁΩÆÊòØÂê¶ÂèØ‰ª•Áº©Êîæ\n   * @param enabled Ê†áËØÜ\n   */\n  setZoomEnabled (enabled) {\n    this._chartPane.chartStore().timeScaleStore().setZoomEnabled(enabled)\n  }\n\n  /**\n   * ÊòØÂê¶ÂèØ‰ª•Áº©Êîæ\n   * @return {boolean}\n   */\n  isZoomEnabled () {\n    return this._chartPane.chartStore().timeScaleStore().zoomEnabled()\n  }\n\n  /**\n   * ËÆæÁΩÆÊòØÂê¶ÂèØ‰ª•ÊãñÊãΩÊªöÂä®\n   * @param enabled Ê†áËØÜ\n   */\n  setScrollEnabled (enabled) {\n    this._chartPane.chartStore().timeScaleStore().setScrollEnabled(enabled)\n  }\n\n  /**\n   * ÊòØÂê¶ÂèØ‰ª•ÊãñÊãΩÊªöÂä®\n   * @return {boolean}\n   */\n  isScrollEnabled () {\n    return this._chartPane.chartStore().timeScaleStore().scrollEnabled()\n  }\n\n  /**\n   * ÊåâË∑ùÁ¶ªÊªöÂä®\n   * @param distance Ë∑ùÁ¶ª\n   * @param animationDuration Âä®ÁîªÊåÅÁª≠Êó∂Èó¥\n   */\n  scrollByDistance (distance, animationDuration) {\n    if (!isNumber(distance)) {\n      logWarn('scrollByDistance', 'distance', 'distance must be a number!!!')\n      return\n    }\n    if (isNumber(animationDuration) && animationDuration > 0) {\n      this._chartPane.chartStore().timeScaleStore().startScroll()\n      const startTime = new Date().getTime()\n      const animation = () => {\n        const progress = (new Date().getTime() - startTime) / animationDuration\n        const finished = progress >= 1\n        const dis = finished ? distance : distance * progress\n        this._chartPane.chartStore().timeScaleStore().scroll(dis)\n        if (!finished) {\n          requestAnimationFrame(animation)\n        }\n      }\n      animation()\n    } else {\n      this._chartPane.chartStore().timeScaleStore().startScroll()\n      this._chartPane.chartStore().timeScaleStore().scroll(distance)\n    }\n  }\n\n  /**\n   * ÊªöÂä®Âà∞ÂÆûÊó∂‰ΩçÁΩÆ\n   * @param animationDuration Âä®ÁîªÊåÅÁª≠Êó∂Èó¥\n   */\n  scrollToRealTime (animationDuration) {\n    const dataSpace = this._chartPane.chartStore().timeScaleStore().dataSpace()\n    const difBarCount = this._chartPane.chartStore().timeScaleStore().offsetRightBarCount() - this._chartPane.chartStore().timeScaleStore().offsetRightSpace() / dataSpace\n    const distance = difBarCount * dataSpace\n    this.scrollByDistance(distance, animationDuration)\n  }\n\n  /**\n   * ÊªöÂä®Âà∞ÊåáÂÆöÁöÑÊï∞ÊçÆÁ¥¢Âºï\n   * @param dataIndex Êï∞ÊçÆÁ¥¢Âºï\n   * @param animationDuration Âä®ÁîªÊåÅÁª≠Êó∂Èó¥\n   */\n  scrollToDataIndex (dataIndex, animationDuration) {\n    if (!isNumber(dataIndex)) {\n      logWarn('scrollToDataIndex', 'dataIndex', 'dataIndex must be a number!!!')\n      return\n    }\n    const distance = (\n      this._chartPane.chartStore().timeScaleStore().offsetRightBarCount() + (this.getDataList().length - 1 - dataIndex)\n    ) * this._chartPane.chartStore().timeScaleStore().dataSpace()\n    this.scrollByDistance(distance, animationDuration)\n  }\n\n  /**\n   * ÊªöÂä®Âà∞ÊåáÂÆöÊó∂Èó¥Êà≥\n   * @param timestamp Êó∂Èó¥Êà≥\n   * @param animationDuration Âä®ÁîªÊåÅÁª≠Êó∂Èó¥\n   */\n  scrollToTimestamp (timestamp, animationDuration) {\n    if (!isNumber(timestamp)) {\n      logWarn('scrollToTimestamp', 'timestamp', 'timestamp must be a number!!!')\n      return\n    }\n    const dataIndex = binarySearchNearest(this.getDataList(), 'timestamp', timestamp)\n    this.scrollToDataIndex(dataIndex, animationDuration)\n  }\n\n  /**\n   * Âú®Êüê‰∏™ÂùêÊ†áÁÇπÁº©Êîæ\n   * @param scale Áº©ÊîæÊØî‰æã\n   * @param coordinate ÂùêÊ†áÁÇπ\n   * @param animationDuration Âä®ÁîªÊåÅÁª≠Êó∂Èó¥\n   */\n  zoomAtCoordinate (scale, coordinate, animationDuration) {\n    if (!isNumber(scale)) {\n      logWarn('zoomAtCoordinate', 'scale', 'scale must be a number!!!')\n      return\n    }\n    if (isNumber(animationDuration) && animationDuration > 0) {\n      const dataSpace = this._chartPane.chartStore().timeScaleStore().dataSpace()\n      const scaleDataSpace = dataSpace * scale\n      const difSpace = scaleDataSpace - dataSpace\n      const startTime = new Date().getTime()\n      const animation = () => {\n        const progress = (new Date().getTime() - startTime) / animationDuration\n        const finished = progress >= 1\n        const progressDataSpace = finished ? difSpace : difSpace * progress\n        this._chartPane.chartStore().timeScaleStore().zoom(progressDataSpace / dataSpace, coordinate)\n        if (!finished) {\n          requestAnimationFrame(animation)\n        }\n      }\n      animation()\n    } else {\n      this._chartPane.chartStore().timeScaleStore().zoom(scale, coordinate)\n    }\n  }\n\n  /**\n   * Âú®Êüê‰∏™Êï∞ÊçÆÁ¥¢ÂºïÁº©Êîæ\n   * @param scale Áº©ÊîæÊØî‰æã\n   * @param dataIndex Á¥¢Âºï‰ΩçÁΩÆ\n   * @param animationDuration Âä®ÁîªÊåÅÁª≠Êó∂Èó¥\n   */\n  zoomAtDataIndex (scale, dataIndex, animationDuration) {\n    if (!isNumber(scale)) {\n      logWarn('zoomAtDataIndex', 'scale', 'scale must be a number!!!')\n      return\n    }\n    if (!isNumber(dataIndex)) {\n      logWarn('zoomAtDataIndex', 'dataIndex', 'dataIndex must be a number!!!')\n      return\n    }\n    const x = this._chartPane.chartStore().timeScaleStore().dataIndexToCoordinate(dataIndex)\n    this.zoomAtCoordinate(scale, { x }, animationDuration)\n  }\n\n  /**\n   * Âú®Êüê‰∏™Êó∂Èó¥Êà≥Áº©Êîæ\n   * @param scale Áº©ÊîæÊØî‰æã\n   * @param timestamp Êó∂Èó¥Êà≥\n   * @param animationDuration Âä®ÁîªÊåÅÁª≠Êó∂Èó¥\n   */\n  zoomAtTimestamp (scale, timestamp, animationDuration) {\n    if (!isNumber(scale)) {\n      logWarn('zoomAtTimestamp', 'scale', 'scale must be a number!!!')\n      return\n    }\n    if (!isNumber(timestamp)) {\n      logWarn('zoomAtTimestamp', 'timestamp', 'timestamp must be a number!!!')\n      return\n    }\n    const dataIndex = binarySearchNearest(this.getDataList(), 'timestamp', timestamp)\n    this.zoomAtDataIndex(scale, dataIndex, animationDuration)\n  }\n\n  /**\n   * Â∞ÜÂÄºË£ÖÊç¢ÊàêÂÉèÁ¥†\n   * @param point Âçï‰∏™ÁÇπÊàñËÄÖÁÇπÈõÜÂêà\n   * @param finder ËøáÊª§Êù°‰ª∂\n   */\n  convertToPixel (point, finder) {\n    return this._chartPane.convertToPixel(point, finder)\n  }\n\n  /**\n   * Â∞ÜÂÉèÁ¥†ËΩ¨Êç¢ÊàêÂÄº\n   * @param coordinate Âçï‰∏™ÂùêÊ†áÊàñËÄÖÂùêÊ†áÈõÜÂêà\n   * @param finder ËøáÊª§Êù°‰ª∂\n   */\n  convertFromPixel (coordinate, finder) {\n    return this._chartPane.convertFromPixel(coordinate, finder)\n  }\n\n  /**\n   * ËÆ¢ÈòÖÂõæË°®Âä®‰Ωú\n   * @param type Âä®‰ΩúÁ±ªÂûã\n   * @param callback ÂõûË∞ÉÊñπÊ≥ï\n   */\n  subscribeAction (type, callback) {\n    if (!hasAction(type)) {\n      logWarn('subscribeAction', 'type', 'type does not exist!!!')\n      return\n    }\n    if (!isFunction(callback)) {\n      logWarn('subscribeAction', 'callback', 'callback must be a function!!!')\n      return\n    }\n    this._chartPane.chartStore().actionStore().subscribe(type, callback)\n  }\n\n  /**\n   * ÂèñÊ∂àËÆ¢ÈòÖÂõæË°®Âä®‰Ωú\n   * @param type Âä®‰ΩúÁ±ªÂûã\n   * @param callback ÂõûË∞ÉÊñπÊ≥ï\n   */\n  unsubscribeAction (type, callback) {\n    if (!hasAction(type)) {\n      logWarn('unsubscribeAction', 'type', 'type does not exist!!!')\n      return\n    }\n    this._chartPane.chartStore().actionStore().unsubscribe(type, callback)\n  }\n\n  /**\n   * Ëé∑ÂèñÂ∞ÜÂõæË°®Ë£ÖÊç¢ÊàêÂõæÁâáÂêéÁöÑurl\n   * @param includeOverlay ÊòØÂê¶ÂåÖÂê´Ë¶ÜÁõñÂ±Ç\n   * @param type ÂõæÁâáÁ±ªÂûã\n   * @param backgroundColor ËÉåÊôØËâ≤\n   */\n  getConvertPictureUrl (includeOverlay, type = 'jpeg', backgroundColor = '#FFFFFF') {\n    if (type !== 'png' && type !== 'jpeg' && type !== 'bmp') {\n      logWarn('getConvertPictureUrl', 'type', 'type only supports jpeg, png and bmp!!!')\n      return\n    }\n    return this._chartPane.getConvertPictureUrl(includeOverlay, type, backgroundColor)\n  }\n\n  /**\n   * ÈîÄÊØÅ\n   */\n  destroy () {\n    this._chartPane.destroy()\n  }\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport Chart from './Chart'\nimport { logError, logTag, logWarn } from './utils/logger'\nimport {\n  clone, merge, isString, isNumber, isValid, isObject, isArray, isFunction, isBoolean\n} from './utils/typeChecks'\n\nimport { formatValue, formatPrecision, formatBigNumber } from './utils/format'\n\nconst instances = {}\nlet chartBaseId = 1\nconst CHART_NAME_PREFIX = 'k_line_chart_'\n\n/**\n * Ëé∑ÂèñÁâàÊú¨Âè∑\n * @returns {string}\n */\nfunction version () {\n  return '__BUILD_VERSION__'\n}\n\n/**\n * ÂàùÂßãÂåñ\n * @param ds\n * @param style\n * @returns {Chart}\n */\nfunction init (ds, style = {}) {\n  logTag()\n  const errorMessage = 'The chart cannot be initialized correctly. Please check the parameters. The chart container cannot be null and child elements need to be added!!!'\n  let dom\n  if (!ds) {\n    logError('', '', errorMessage)\n    return null\n  }\n  if (isString(ds)) {\n    dom = document.getElementById(ds)\n  } else {\n    dom = ds\n  }\n  if (!dom) {\n    logError('', '', errorMessage)\n    return null\n  }\n  let chart = instances[dom.chartId || '']\n  if (chart) {\n    logWarn('', '', 'The chart has been initialized on the domÔºÅÔºÅÔºÅ')\n    return chart\n  }\n  const id = `${CHART_NAME_PREFIX}${chartBaseId++}`\n  chart = new Chart(dom, style)\n  chart.id = id\n  dom.chartId = id\n  instances[id] = chart\n  return chart\n}\n\n/**\n * ÈîÄÊØÅ\n * @param dcs\n */\nfunction dispose (dcs) {\n  if (dcs) {\n    let id\n    if (isString(dcs)) {\n      const dom = document.getElementById(dcs)\n      id = dom && dom.chartId\n    } else if (dcs instanceof Chart) {\n      id = dcs.id\n    } else {\n      id = dcs && dcs.chartId\n    }\n    if (id) {\n      instances[id].destroy()\n      delete instances[id]\n    }\n  }\n}\n\nconst utils = {\n  clone,\n  merge,\n  isString,\n  isNumber,\n  isValid,\n  isObject,\n  isArray,\n  isFunction,\n  isBoolean,\n  formatValue,\n  formatPrecision,\n  formatBigNumber\n}\n\nexport {\n  version, init, dispose, utils\n}\n","/**\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n\n * http://www.apache.org/licenses/LICENSE-2.0\n\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport extension from './store/extension'\nimport { version, init, dispose, utils } from './core'\n\nconst klinecharts = {\n  version, init, dispose, utils, extension\n}\n\nexport default klinecharts\n"],"names":["technicalIndicatorExtensions","shapeExtensions","addTechnicalIndicatorTemplate","template","concat","forEach","tmp","name","addShapeTemplate","_typeof","merge","target","source","isObject","key","Object","prototype","hasOwnProperty","call","targetProp","sourceProp","isArray","isValid","clone","copy","v","value","toString","isFunction","isNumber","isNaN","undefined","isBoolean","isString","StrokeFillStyle","STROKE","FILL","LineStyle","DASH","SOLID","YAxisPosition","LEFT","RIGHT","YAxisType","NORMAL","PERCENTAGE","LOG","CandleType","CANDLE_SOLID","CANDLE_STROKE","CANDLE_UP_STROKE","CANDLE_DOWN_STROKE","OHLC","AREA","TooltipShowRule","ALWAYS","FOLLOW_CROSS","NONE","TooltipShowType","RECT","STANDARD","AnnotationSymbolType","CIRCLE","TRIANGLE","DIAMOND","CUSTOM","OverlayPosition","POINT","TOP","BOTTOM","defaultGrid","show","horizontal","size","color","style","dashValue","vertical","defaultCandle","margin","top","bottom","type","bar","upColor","downColor","noChangeColor","area","lineSize","lineColor","backgroundColor","offset","priceMark","high","textMargin","textSize","textFamily","textWeight","low","last","line","text","paddingLeft","paddingTop","paddingRight","paddingBottom","family","weight","borderRadius","tooltip","showRule","showType","labels","values","defaultValue","rect","offsetLeft","offsetTop","offsetRight","borderSize","borderColor","marginLeft","marginTop","marginRight","marginBottom","defaultTechnicalIndicator","colors","circle","lastValueMark","showName","showParams","defaultXAxis","height","axisLine","tickText","tickLine","length","defaultYAxis","width","position","inside","reverse","defaultCrosshair","defaultShape","point","radius","activeBackgroundColor","activeBorderColor","activeBorderSize","activeRadius","polygon","stroke","fill","arc","defaultAnnotation","symbol","activeSize","activeColor","defaultTag","mark","defaultSeparator","defaultStyleOptions","grid","candle","technicalIndicator","xAxis","yAxis","separator","crosshair","shape","annotation","tag","formatValue","data","formatDate","dateTimeFormat","timestamp","format","dateTimeString","Date","dateTimeStringArray","split","dateStringArray","date","YYYY","MM","DD","match","replace","formatPrecision","precision","toFixed","formatBigNumber","logWarn","api","invalidParam","append","console","log","logError","logTag","binarySearchNearest","dataList","valueKey","targetValue","left","right","midIndex","Math","floor","mid","midValue","nice","exponent","log10","exp10","index10","f","nf","round","min","max","getPrecision","str","eIndex","indexOf","slice","dotIndex","pow","ActionType","ZOOM","SCROLL","CROSSHAIR","TOOLTIP","PANE_DRAG","hasAction","MIN_DATA_SPACE","MAX_DATA_SPACE","TimeScaleStore","chartStore","_chartStore","_dateTimeFormat","Intl","DateTimeFormat","hour12","year","month","day","hour","minute","_zoomEnabled","_scrollEnabled","_loading","_loadMoreCallback","_more","_totalDataSpace","_dataSpace","_barSpace","_calcBarSpace","_offsetRightSpace","_offsetRightBarCount","_leftMinVisibleBarCount","_rightMinVisibleBarCount","_from","_to","_preOffsetRightBarCount","rateBarSpace","floorBarSpace","optimalBarSpace","dataSize","barLength","maxRightOffsetBarCount","minRightOffsetBarCount","adjustVisibleDataList","more","loading","timezone","timeZone","e","resolvedOptions","dataSpace","adjustBeforeFuc","adjustFromTo","crosshairStore","recalculate","invalidate","totalSpace","space","setOffsetRightSpace","barCount","distance","distanceBarCount","actionStore","execute","cross","get","set","dataIndex","x","deltaFromRight","index","getDataByDataIndex","pixel","ceil","coordinateToFloatIndex","scale","coordinate","floatIndex","setDataSpace","enabled","callback","setPrototypeOf","assertThisInitialized","require$$0","TechnicalIndicatorPlotType","LINE","BAR","TechnicalIndicatorSeries","PRICE","VOLUME","getTechnicalIndicatorPlotStyle","kLineDataList","techDataList","plot","techStyles","defaultStyle","isStroke","isDashed","cbData","prev","kLineData","technicalIndicatorData","current","next","TechnicalIndicator","shortName","series","calcParams","plots","shouldCheckParamCount","shouldOhlc","shouldFormatBigNumber","minValue","maxValue","styles","extendData","_precisionFlag","result","map","param","flag","parseInt","params","i","allowDecimal","oldParam","push","regeneratePlots","_createParams","defaultStyles","_regeneratorRuntime","calcTechnicalIndicator","options","TechnicalIndicatorStore","_templates","_createTemplates","_instances","Map","tech","mapping","extensions","extension","templateInstance","_createTemplateInstance","createToolTipDataSource","render","techOptions","styleOptions","Template","_createSuper","templates","instance","_createTechInfo","templateInfos","paneId","isStack","paneInstances","has","create","getPrototypeOf","setCalcParams","setPrecision","setShouldOhlc","setShouldFormatBigNumber","setStyles","setExtendData","clear","calc","removed","delete","tasks","Promise","all","info","instanceInfos","_createForOfIteratorHelper","entry","instanceInfo","infos","paneInstance","pricePrecision","volumePrecision","techOverride","defaultTechStyleOptions","instances","setShortName","overiderSuccss","shortNameSuccess","calcParamsSuccess","precisionSuccess","shouldOhlcSuccess","shouldFormatBigNumberSuccess","styleSuccess","extendDataSuccess","perfectOverlayFunc","overlay","funcs","fn","Overlay","id","points","_id","_points","_xAxis","_yAxis","_styles","ctx","event","renderFillCircle","fillColor","circleCoordinate","fillStyle","beginPath","y","PI","closePath","DEVIATION","getTriangleSquare","coordinate1","coordinate2","coordinate3","x1","abs","y1","x2","y2","checkCoordinateInCircle","circleCenterCoordinate","targetCoordinate","difX","difY","checkCoordinateInTriangle","triangleCoordinates","square","compareSquare","checkCoordinateInDiamond","centerCoordinate","xDis","yDis","checkCoordinateInRect","renderPath","coordinates","strokeFill","save","lineWidth","translate","move","moveTo","lineTo","restore","renderCloseStrokePath","renderCloseFillPath","renderHorizontalLine","correction","renderVerticalLine","renderLine","getPixelRatio","canvas","ownerDocument","defaultView","devicePixelRatio","calcTextWidth","measureText","createFont","fontSize","fontWeight","fontFamily","getTextRectWidth","font","textWidth","getTextRectHeight","SHAPE_DRAW_STEP_START","SHAPE_DRAW_STEP_FINISHED","ShapeEventOperateElement","OTHER","ShapeElementType","TEXT","CONTINUOUS_LINE","POLYGON","ARC","LineType","COMMON","HORIZONTAL","VERTICAL","ShapeMode","WEAK_MAGNET","STRONG_MAGNET","getLineType","Shape","totalStep","lock","mode","_name","_totalStep","_lock","_mode","setMode","_data","_drawStep","setPoints","_prevPressPoint","_prevPoints","_coordinates","repeatTotalStep","performEventMoveForDrawing","step","movePoint","performEventPressedMove","pressPointIndex","pressPoint","timeScaleStore","timestampToDataIndex","convertToPixel","lines","strokeStyle","setLineDash","lineType","continuousLines","polygons","strokeStyles","arcs","startAngle","endAngle","texts","fillStroke","strokeText","fillText","_timestampOrDataIndexToCoordinateX","shapeOptions","viewport","price","volume","_shapeDataSources","createShapeDataSource","isDraw","dataSource","_drawLines","_drawContinuousLines","_drawPolygons","_drawArcs","_drawText","drawExtend","shapeEventOperate","shapeStore","eventOperate","hover","element","click","isDrawing","elementIndex","eventCoordinate","start","isCheck","sources","checkEventCoordinateOnShape","convertFromPixel","highY","buffValue","lowY","open","close","dataIndexToTimestamp","_performValue","onDrawing","progressInstanceComplete","onDrawEnd","onPressedMove","difDataIndex","difValue","InvalidateLevel","OVERLAY","MAIN","FULL","ShapeStore","_eventOperate","_progressInstance","_pressedInstance","TemplateClass","_createTemplateClass","shapeId","find","s","getInstance","fixed","progressInstance","setYAxis","shouldInvalidate","apply","setLock","setData","shapes","onRemove","removeIndex","findIndex","splice","operate","hoverSuccess","clickSuccess","pressedInstance","AnnotationStore","_annotations","_visibleAnnotations","visibleDataList","annotations","an","createSymbolCoordinate","timestampAnnotations","createVisibleAnnotations","shouldAdjust","paneAnnotations","TagStore","_tags","tags","_getById","update","idTags","tagId","paneTags","ids","CrosshairStore","_crosshair","notInvalidate","cr","realDataIndex","coordinateToDataIndex","realX","dataIndexToCoordinate","prevCrosshair","_objectSpread","crosshairChange","Delegate","_observers","observer","ActionStore","_delegates","hasObservers","subscribe","delegate","unsubscribe","ChartStore","handler","_handler","_styleOptions","_pricePrecision","_volumePrecision","_dataList","_visibleDataList","_dragPaneFlag","_timeScaleStore","_technicalIndicatorStore","_shapeStore","_annotationStore","_tagStore","_crosshairStore","_actionStore","from","to","setSeriesPrecision","pos","setLoading","setMore","isFirstAdd","resetOffsetRightSpace","offsetRightBarCount","setOffsetRightBarCount","invalidateLevel","superPropBase","createElement","document","ContainerPosition","ROOT","CONTENT","YAXIS","Pane","props","_height","_container","container","_initBefore","_initElement","_mainWidget","_createMainWidget","_element","_yAxisWidget","_createYAxisWidget","padding","overflow","boxSizing","lastElement","lastChild","insertBefore","appendChild","offsetWidth","mainWidgetWidth","yAxisWidgetWidth","setWidth","setHeight","mainWidgetOffsetLeft","yAxisWidgetOffsetLeft","setOffsetLeft","offsetHeight","layout","level","content","htmlId","createHtml","removeHtml","includeOverlay","getContext","pixelRatio","mainWidgetElement","getElement","mainWidgetHeight","drawImage","getImage","yAxisWidgetElement","yAxisWidgetHeight","removeChild","Widget","_width","_mainView","_createMainView","_overlayView","_createOverlayView","_htmlBaseId","_htmls","html","zIndex","innerHTML","replaceChild","flush","requestAnimationFrame","window","setTimeout","cancelAnimationFrame","clearTimeout","View","_initCanvas","_canvas","_ctx","extendFun","clearRect","_draw","_redraw","requestAnimationId","TechnicalIndicatorView","_paneId","globalCompositeOperation","_drawContent","_drawTechs","_drawGrid","gridOptions","gridHorizontalOptions","ticks","tick","gridVerticalOptions","techs","technicalIndicatorStore","techResult","technicalIndicatorDataList","barSpace","lineColors","lineColorSize","linePlotStyles","lineCoordinates","isCandleYAxis","_drawGraphics","halfBarSpace","techData","lineCount","_drawCandleBar","valueY","plotStyle","_drawCircle","baseValue","baseValueY","_drawBar","prePlotStyle","n","strokeRect","fillRect","barOptions","barStyle","openY","closeY","priceY","sort","a","b","barHeight","renderText","TechnicalIndicatorOverlayView","textBaseline","_drawTag","_drawShape","_drawAnnotation","crosshairOptions","_drawCrosshairLine","_drawTooltip","annotationStore","draw","tagStore","drawMarkLine","progressShape","_drawBatchTechToolTip","_shouldDrawTooltip","optionsKey","end","drawLine","crosshairDirectionOptions","crosshairLineOptions","isDrawTechTooltip","techTooltipOptions","startTop","_drawTechTooltip","techTooltipTextOptions","textMarginLeft","textMarginRight","textColor","labelX","labelY","tooltipHeight","tooltipData","_getTechTooltipData","nameText","nameTextWidth","calcParamText","calcParamTextWidth","title","tooltipOptions","join","colorSize","TechnicalIndicatorWidget","renderStrokeFillRoundRect","renderFillRoundRect","renderStrokeRoundRect","renderFillRect","w","h","r","renderRoundRect","arcTo","YAxisView","yAxisOptions","_drawAxisLine","_drawTickLines","_drawTickLabels","_drawTechLastValue","_drawLastPriceLabel","isFromYAxisZero","tickLineLength","startX","endX","tickLineShow","textAlign","lastValueMarkOptions","_drawMarkLabel","priceMarkOptions","lastPriceMarkOptions","convertToNicePixel","yAxisType","fromData","fromClose","rectWidth","rectHeight","rectStartX","YAxisOverlayView","_drawCrossHairLabel","drawText","crosshairHorizontalOptions","crosshairHorizontalTextOptions","rectY","YAxisWidget","Axis","_cacheMinValue","_cacheMaxValue","_minValue","_maxValue","_range","_realMinValue","_realMaxValue","_realRange","_ticks","_initMeasureCanvas","measureCanvas","_measureCtx","forceCompute","minMax","_optimalMinMax","_computeMinMax","range","realMin","realMax","realRange","_optimalTicks","_computeTicks","intervalPrecision","_computeInterval","interval","first","YAxis","_isCandleYAxis","minMaxArray","Number","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","plotsResult","techPrecision","techGap","candleOptions","isArea","areaValueKey","shouldCompareHighLow","specifyMin","specifyMax","dif","minCheck","maxCheck","marginOptions","topRate","rate","bottomRate","realMinValue","realMaxValue","optimalTicks","textHeight","validY","_innerConvertToPixel","isReverse","yAxisWidth","crosshairVerticalTextWidth","valueText","TechnicalIndicatorPane","_minHeight","_initHeight","_createYAxis","minHeight","setMinHeight","mh","CandleView","_drawLastPriceLine","_drawArea","_drawHighLowPrice","_drawCandle","areaCoordinates","minY","areaOptions","areaCoordinateLength","lastCoordinate","gradient","createLinearGradient","addColorStop","highest","lowest","highOffset","lowOffset","_drawRealHighLowPrice","startY","lineEndX","textStartX","CandleOverlayView","candleTooltipOptions","isDrawCandleTooltip","_drawCandleTooltipWithRect","_drawCandleTooltipWithStandard","_getCandleTooltipData","label","labelWidth","valueColor","baseLabels","baseValues","baseTextMarginLeft","baseTextMarginRight","baseTextMarginTop","baseTextMarginBottom","baseTextSize","baseTextColor","rectOptions","rectBorderSize","rectPaddingLeft","rectPaddingRight","rectPaddingTop","rectPaddingBottom","rectLeft","rectRight","maxLabelWidth","techTooltipTextMarginLeft","techTooltipTextMarginRight","techTooltipTextMarginTop","techTooltipTextMarginBottom","techTooltipTextSize","techTooltipDataList","centerX","rectX","baseLabelX","indicatorLabelX","CandleWidget","CandlePane","XAxisView","xAxisOptions","xAxisLine","endY","tickLength","XAxisOverlayView","_drawCrosshairLabel","crosshairVerticalOptions","crosshairVerticalTextOptions","XAxisWidget","XAxis","defaultLabelWidth","tickCountDif","nextPos","nextX","xDif","prePos","preKLineData","preTimestamp","_optimalTickLabel","oV","optimalTickLength","firstTimestamp","secondTimestamp","thirdV","test","comparedTimestamp","stylOptions","xAxisHeight","crosshairVerticalTextHeight","XAxisPane","ID","_baseId","prefix","getTime","_prevIdTimestamp","createId","EventType","MOUSE","TOUCH","isTouch","isMouse","MouseEventButton","DELAY_RESET_CLICK","DELAY_LONG_TAG","getBoundingClientRect","isTouchEvent","Boolean","touches","preventDefault","cancelable","mobileTouch","touchEvent","DocumentTouch","navigator","maxTouchPoints","msMaxTouchPoints","getDistance","p1","p2","xDiff","clientX","yDiff","clientY","sqrt","EventBase","eventHandler","_target","_options","_clickCount","_clickTimeoutId","_longTapTimeoutId","_longTapActive","_mouseMoveStartPosition","_moveExceededManhattanDistance","_cancelClick","_unsubscribeOutsideEvents","_unsubscribeMousemove","_unsubscribeRoot","_startPinchMiddleCoordinate","_startPinchDistance","_pinchPrevented","_preventDragProcess","_mousePressed","_init","_clearLongTapTimeout","_resetClickTimeout","enterEvent","boundMouseMoveHandler","_mouseMoveHandler","bind","boundMouseWheelHandler","_mouseWheelHandler","removeEventListener","addEventListener","passive","compatEvent","_makeCompatEvent","_processEvent","mouseEnterEvent","moveEvent","mouseMoveEvent","wheelEvent","localX","localY","mouseWheelEvent","button","startMouseMovePos","xOffset","pageX","yOffset","pageY","moveExceededManhattanDistance","correctedXOffset","isVertDrag","treatVertTouchDragAsPageScroll","isHorzDrag","treatHorzTouchDragAsPageScroll","pressedMouseMoveEvent","mouseUpEvent","_mouseLeaveHandler","mouseDoubleClickEvent","mouseClickEvent","downEvent","mouseRightDownEvent","_mouseEnterHandler","boundMouseMoveWithDownHandler","_mouseMoveWithDownHandler","boundMouseUpHandler","_mouseUpHandler","rootElement","documentElement","_longTapHandler","mouseDownEvent","doc","outsideHandler","mouseDownOutsideEvent","contains","_mouseDownHandler","_initPinch","pinchStartEvent","pinchEvent","pinchEndEvent","_checkPinchState","currentDistance","_stopPinch","_startPinch","box","mouseLeaveEvent","longTapEvent","eventLike","changedTouches","screenX","screenY","ctrlKey","altKey","shiftKey","metaKey","startsWith","view","SeparatorPane","topPaneId","bottomPaneId","dragEnabled","dragEventHandler","_topPaneId","_bottomPaneId","_dragEnabled","_offsetLeft","_dragEventHandler","_dragFlag","_initEvent","_wrapper","cursor","_dragEvent","_mouseDownEvent","_mouseUpEvent","_pressedMouseMoveEvent","_mouseEnterEvent","_mouseLeaveEvent","_startY","startDrag","setDragPaneFlag","dragDistance","drag","separatorOptions","background","destroy","EventHandler","TOUCH_MIN_RADIUS","ZoomScrollEventHandler","_flingStartTime","_flingScrollTimerId","_startScrollCoordinate","_touchCoordinate","_touchCancelCrosshair","_touchZoomed","_pinchScale","middleCoordinate","zoomScale","zoom","time","flingScroll","startScroll","scroll","paneY","deltaX","deltaY","deltaMode","DOM_DELTA_PAGE","DOM_DELTA_LINE","sign","yDif","OverlayEventHandler","overlays","preHoverOperate","hoverOperate","checkEventCoordinateOn","onMouseLeave","onMouseEnter","updatePressedInstance","_waitingForMouseMove","shapeHoverOperate","shapeClickOperate","annotationHoverOperate","isStart","updateProgressInstance","mouseMoveForDrawing","prevShapeHoverOperate","prevAnnotationHoverOperate","_performOverlayMouseHover","setEventOperate","progressShapePaneId","mouseLeftButtonDownForDrawing","startPressedOtherMove","onClick","visibleAnnotations","annotationOperate","shapeOperateValid","removeShape","onRightClick","removeInstance","mousePressedPointMove","mousePressedOtherMove","KeyBoardCode","EQUAL","MINUS","ARROW_LEFT","ARROW_RIGHT","KeyBoardEventHandler","code","ChartEvent","_chartContentLeftRight","_chartContentTopBottom","_paneContentSize","_event","_pinchStartEvent","_pinchEvent","_mouseClickEvent","_mouseRightDownEvent","_mouseMoveEvent","_mouseWheelEvent","_longTapEvent","_boundKeyBoardDownEvent","_keyBoardDownEvent","_boundContextMenuEvent","_zoomScrollEventHandler","_overlayEventHandler","_keyBoardEventHandler","keyBoardDownEvent","_checkEventInChartContent","_shouldPerformOverlayEvent","HTMLCanvasElement","_compatChartEvent","dragPaneFlag","_checkZoomScroll","_modifyEventOptions","isPressed","isEmpty","setOptions","compatY","contentTop","contentBottom","contentLeft","contentRight","chartContentLeftRight","chartContentTopBottom","paneContentSize","throttle","func","wait","previous","now","context","args","arguments","renderFillDiamond","renderFillTriangle","Annotation","_symbolCoordinate","isActive","symbolOptions","styleSize","styleActiveSize","drawCustomSymbol","_drawSymbol","isOn","checkEventCoordinateOnCustomSymbol","Tag","_text","_mark","success","tagOptions","_getY","_drawLine","_drawMark","tagTextOptions","tagLineOptions","textRectWidth","markRectWidth","markOffset","textValid","markValid","tagMarkOptions","DEFAULT_TECH_PANE_HEIGHT","TECH_PANE_ID_PREFIX","SHAPE_ID_PREFIX","ANNOTATION_ID_PREFIX","CANDLE_PANE_ID","XAXIS_PANE_ID","ChartPane","_initChartContainer","_separatorDragStartTopPaneHeight","_separatorDragStartBottomPaneHeight","_invalidatePane","_crosshairObserver","_xAxisPane","_chartContainer","_panes","_separators","_chartWidth","_chartHeight","_chartEvent","adjustPaneViewport","userSelect","webkitUserSelect","msUserSelect","MozUserSelect","webkitTapHighlightColor","outline","borderStyle","tabIndex","techDatas","_","topPane","bottomPane","topPaneMinHeight","bottomPaneMinHeight","topPaneHeight","bottomPaneHeight","pane","shouldMeasureWidth","should","computeAxis","paneHeight","separatorSize","separatorTotalHeight","getSelfHeight","paneExcludeXAxisSeparatorHeight","techPaneTotalHeight","paneMinHeight","candlePaneHeight","total","setPaneContentSize","setChartContentTopBottom","isYAxisLeft","isOutside","paneWidth","mainWidth","yAxisOffsetLeft","mainOffsetLeft","getSelfWidth","totalDataSpace","setTotalDataSpace","setSize","setChartContentLeftRight","shouldMeasureHeight","shouldLayout","shouldComputeAxis","shouldForceComputeAxis","_measurePaneHeight","isAdjust","adjust","_measurePaneWidth","hasInstance","deleteSeparatorTopPaneId","updatePaneId","task","addInstance","finally","setPaneOptions","Array","keys","pop","_separatorStartDrag","_separatorDrag","ShapeTemplateClass","onDrawStart","hasPane","shapeInstance","annotationInstance","add","shouldUpdate","shouldAdd","updateSuccess","forceShouldAdjust","setDragEnabled","setTimezone","absoluteYAxis","absoluteTop","panes","ry","toDataURL","Chart","_chartPane","finder","getPane","getContainer","chartWidth","chartHeight","applyStyleOptions","setPriceVolumePrecision","setLeftMinVisibleBarCount","setRightMinVisibleBarCount","clearDataList","addData","calcInstance","lastDataTimestamp","cb","setLoadMoreCallback","paneOptions","hasTemplate","createTechnicalIndicator","addTemplate","promise","override","then","getTemplateInfo","getInstanceInfo","removeTechnicalIndicator","getTemplate","createShape","setInstanceOptions","createAnnotation","remove","createTag","HTMLElement","removeAllHtml","setZoomEnabled","zoomEnabled","setScrollEnabled","scrollEnabled","animationDuration","startTime","animation","progress","finished","dis","difBarCount","offsetRightSpace","scrollByDistance","getDataList","scrollToDataIndex","scaleDataSpace","difSpace","progressDataSpace","zoomAtCoordinate","zoomAtDataIndex","getConvertPictureUrl","chartBaseId","CHART_NAME_PREFIX","version","init","ds","errorMessage","dom","getElementById","chart","chartId","dispose","dcs","utils","klinecharts"],"mappings":"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"}