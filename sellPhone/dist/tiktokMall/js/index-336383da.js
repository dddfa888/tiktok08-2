import{_ as N,e as b,o as r,c as f,b as y,w as _,a as t,i as $,v as S,r as g,ae as I,Z,a9 as B,d as E,t as n,F as P,E as q,n as w,z,x as H,y as A,T as F,M}from"./index-55507c28.js";import{P as j}from"./index-16851c38.js";import{L as U}from"./index-748d9839.js";import{E as O}from"./index-94a2e4c2.js";import{u as G}from"./index-76527f4c.js";import{_ as J}from"./goods.api-b16574c1.js";import{s as K,r as Q}from"./config-3fe7fd75.js";import"./use-id-acc627d9.js";const W=b({name:"RefundRequest",setup(){const e=$(),{toClipboard:o}=G(),{t:c}=S.useI18n(),D=new URL("/www/png/name-20d65991.png",self.location),m=g([]),v=g(!1),a=g(!0),d=g(!1),l=g({pageNum:1,pageSize:10}),h=()=>{({...l.value},J().then(i=>{const u=i.pageList||[];u.forEach(p=>{const T=Number(p.returnStatus),k=Number(p.returnReason),L=K.find(C=>C.id===T);p.statusTxt=L.txt,p.statusColor=L.color;const R=Q.find(C=>C.id===k);p.returnReason=R?c(R.txt):""}),m.value=l.value.pageNum===1?u:[...m.value,...u],l.value.pageNum++,a.value=!1,v.value=!1,d.value=i.pageInfo.lastPage}).catch(()=>{d.value=!0,a.value=!1,v.value=!1}))};return{t:c,listData:m,refreshing:v,loading:a,finished:d,empytImg:D,formatZoneDate:I,numberStrFormat:Z,isArLang:e,getListData:h,onRefresh:()=>{a.value=!0,l.value.pageNum=1,h()},copyHandle:async i=>{try{await o(i),F(c("copySuccess"))}catch(u){console.error(u)}},goToDetails:i=>{M({path:"/refundRequest/details",query:{id:i.id}})}}}}),X={key:0,class:"list-content"},Y=["onClick"],x={class:"info-item"},ee={class:"info-item"},te={class:"copy"},se=["onClick"],ne={class:"info-item"},oe={class:"info-item"},ae={class:"info-item"},le={class:"info-item"};function ie(e,o,c,D,m,v){const a=B,d=O,l=U,h=j;return r(),f("div",null,[y(a,{fixed:!0},{title:_(()=>[E(n(e.$t("refundRequest")),1)]),_:1}),o[3]||(o[3]=t("div",{style:{height:"46px"}},null,-1)),y(h,{modelValue:e.refreshing,"onUpdate:modelValue":o[1]||(o[1]=s=>e.refreshing=s),"pulling-text":e.t("pullingText"),"loosing-text":e.t("loosingText"),"loading-text":e.t("loading"),onRefresh:e.onRefresh},{default:_(()=>[y(l,{loading:e.loading,"onUpdate:loading":o[0]||(o[0]=s=>e.loading=s),finished:e.finished,"loading-text":e.t("loading"),"finished-text":e.listData.length?e.t("product.3"):"",onLoad:e.getListData},{default:_(()=>[e.listData.length?(r(),f("div",X,[(r(!0),f(P,null,q(e.listData,s=>(r(),f("div",{key:s.id,class:w(["item",{"is-ar":e.isArLang}]),onClick:V=>e.goToDetails(s)},[t("div",x,[t("p",null,n(e.t("申请时间")),1),t("div",null,n(s.refundTime?e.formatZoneDate(s.refundTime):"-"),1)]),t("div",ee,[t("p",null,n(e.t("退款单号")),1),t("div",te,[t("p",{class:w({"is-ar":e.isArLang})},n(s.id),3),(r(),f("svg",{onClick:V=>e.copyHandle(s.id),width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[...o[2]||(o[2]=[t("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.00416 3.0188C6.90246 3.0188 6.00935 3.91191 6.00935 5.01361V6.00834H5.01337C3.91166 6.00834 3.01855 6.90145 3.01855 8.00315V12.9859C3.01855 14.0876 3.91166 14.9807 5.01337 14.9807H9.99608C11.0978 14.9807 11.9909 14.0876 11.9909 12.9859V11.9911H12.9869C14.0886 11.9911 14.9817 11.098 14.9817 9.99632V5.01361C14.9817 3.91191 14.0886 3.0188 12.9869 3.0188H8.00416ZM11.9909 10.9911H12.9869C13.5363 10.9911 13.9817 10.5457 13.9817 9.99632V5.01361C13.9817 4.46419 13.5363 4.0188 12.9869 4.0188H8.00416C7.45474 4.0188 7.00935 4.46419 7.00935 5.01361V6.00834H9.99608C11.0978 6.00834 11.9909 6.90145 11.9909 8.00315V10.9911ZM4.01855 8.00315C4.01855 7.45373 4.46395 7.00834 5.01337 7.00834H9.99608C10.5455 7.00834 10.9909 7.45373 10.9909 8.00315V12.9859C10.9909 13.5353 10.5455 13.9807 9.99608 13.9807H5.01337C4.46395 13.9807 4.01855 13.5353 4.01855 12.9859V8.00315Z",fill:"#333"},null,-1)])],8,se))])]),t("div",ne,[t("p",null,n(e.t("退款金额")),1),t("div",null,"$"+n(e.numberStrFormat(s.returnPrice)),1)]),t("div",oe,[t("p",null,n(e.t("退款状态")),1),t("div",{style:z({color:s.statusColor})},n(e.t(s.statusTxt)),5)]),t("div",ae,[t("p",null,n(e.t("退款理由")),1),t("div",null,n(s.returnReason||e.t("无")),1)]),t("div",le,[t("p",null,n(e.t("退款说明")),1),t("div",null,n(s.returnDetail||e.t("无")),1)])],10,Y))),128))])):H("",!0),!e.listData.length&&!e.loading?(r(),A(d,{key:1,image:e.empytImg.href,description:e.t("noData")},null,8,["image","description"])):H("",!0)]),_:1},8,["loading","finished","loading-text","finished-text","onLoad"])]),_:1},8,["modelValue","pulling-text","loosing-text","loading-text","onRefresh"])])}const he=N(W,[["render",ie],["__scopeId","data-v-ca7f050e"]]);export{he as default};
