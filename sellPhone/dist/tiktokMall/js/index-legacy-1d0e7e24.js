System.register(["./index-legacy-27bdf402.js","./index-legacy-55462584.js","./index-legacy-5db326f8.js","./index-legacy-3b191162.js","./nationalityList-legacy-17a4b5cd.js","./index-legacy-1603ab3e.js","./index-legacy-e01b4a75.js","./index-legacy-00472a3a.js","./index-legacy-591c4a77.js","./use-id-legacy-dafc5df9.js","./index-legacy-978b0f9e.js","./index-legacy-b4569500.js","./countryList-legacy-5f7563e4.js"],function(e,a){"use strict";var l,t,o,i,n,d,u,c,s,r,v,b,p,g,x,m,y,h,f,A,w,V,k,C,j,E,B,S,T,I,U;return{setters:[e=>{l=e._,t=e.a0,o=e.l,i=e.v,n=e.r,d=e.j,u=e.q,c=e.cj,s=e.f,r=e.o,v=e.c,b=e.b,p=e.w,g=e.a,x=e.x,m=e.u,y=e.d,h=e.t,f=e.T,A=e.ck,w=e.cl,V=e.cm,k=e.a9,C=e.X},e=>{j=e.B},e=>{E=e.P,B=e.N},e=>{S=e.E},e=>{T=e.n},e=>{I=e.u},e=>{U=e.I},null,null,null,null,null,null],execute:function(){var a=document.createElement("style");a.textContent=".bindVerify[data-v-edbc1bb8]{width:100%;min-height:100vh;box-sizing:border-box}.content[data-v-edbc1bb8]{font-size:12px;padding:0 16px}.iptbox[data-v-edbc1bb8]{height:44px;margin-top:8px;padding:0 10px 0 20px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-radius:3px}.iptbox input[data-v-edbc1bb8]{-webkit-box-flex:1;-webkit-flex:1 1;flex:1 1;height:100%;border:none}.iptbox input[data-v-edbc1bb8]::-webkit-input-placeholder{color:#868c9a}.iptbox span[data-v-edbc1bb8]{color:#1d91ff}.imgbox[data-v-edbc1bb8]{border:1px solid #E5E7ED;padding:5px;width:182px;height:182px;box-sizing:border-box}.imgbox img[data-v-edbc1bb8]{width:100%;height:100%}.code[data-v-edbc1bb8]{font-size:15px;font-weight:300;line-height:18px;margin-top:22px;height:18px}.code img[data-v-edbc1bb8]{width:14px;height:14px;margin-left:5px}.tips[data-v-edbc1bb8]{margin-top:10px;color:#999}.copy[data-v-edbc1bb8]{border-radius:4px;width:132px;height:40px;margin-top:16px;border:1px solid #E5E7ED;line-height:40px}.bottom[data-v-edbc1bb8]{padding:20px 16px 7px}.bottom p[data-v-edbc1bb8]{padding-bottom:13px}.van-password-input[data-v-edbc1bb8]{margin:0}.van-password-input__security li[data-v-edbc1bb8],[data-v-edbc1bb8] .van-password-input__security li{background:#F5F5F5;width:50px;height:50px;color:#333}[data-v-edbc1bb8] .van-button--primary{background-color:var(--site-main-color);border-color:var(--site-main-color);border-radius:4px}[data-v-edbc1bb8] .inputBackground{background-color:#fff!important;border-radius:4px;border:1px solid #eee}\n",document.head.appendChild(a);const z={class:"bindVerify h-full bg-white"},F={class:"content"},q={key:0},H={style:{"margin-top":"22px"}},N={style:{"margin-top":"22px"}},R={key:1},$={class:"pl-30 pr-30 text-center flex flex-col items-center justify-center mt40"},D={class:"imgbox"},J={class:"code flex items-center justify-center textColor"},O={class:"tips"},X={class:"flex justify-between mt-6 mb-3"},_={class:"flex items-center"},P={class:"mt-5 bottom tabBackground textColor"};e("default",l({__name:"index",setup(e){const a=t(),l=o(),{t:Y}=i.useI18n(),{toClipboard:G}=I(),Z=n(""),K=n(""),M=n(""),W=n(!1),Q=n(0),L=n(""),ee=n(""),ae=n(""),le=n(!1),te=n("");n(!0);const oe=n(""),ie=n(0),ne=n(null);n(0);const de=n(""),ue=d(),ce=n(!1);u(()=>{console.log("ss"),se(),clearInterval(ne.value),ne.value=null});const se=()=>{Q.value=a.query.type,L.value=a.query.verifyCode||"",1==Q.value?(Z.value=Y("bindPhone"),W.value=!0):2==Q.value?Z.value=Y("bindEmail"):3==Q.value&&(Z.value=Y("googleAuthenticatorEn"),ge())},re=()=>{2!=Q.value||""!=K.value?1!=Q.value||""!=K.value?""!=M.value?(ce.value=!0,1==Q.value?pe():2==Q.value?be():3==Q.value&&xe()):f(Y("请输入登录密码")):f(Y("entryPhone")):f(Y("entryEmail"))},ve=async()=>{await ue.getUserInfo(!0),f(Y("bindSuccess")),ce.value=!1,setTimeout(()=>{a.query.reset?l.go(-2):l.back()},1e3)},be=()=>{A({target:K.value,email:K.value,verifcode:ee.value,password:M.value,verifyCode:L.value}).then(e=>{ve()}).catch(e=>{console.log(e),ce.value=!1})},pe=()=>{w({target:`${ie.value} ${K.value}`,phone:`${ie.value} ${K.value}`,verifcode:ee.value,password:M.value,verifyCode:L.value}).then(e=>{ve()}).catch(e=>{console.log(e),ce.value=!1})},ge=()=>{c({}).then(e=>{ae.value=e.google_auth_secret,oe.value=e.google_auth_url,console.log(e)})},xe=()=>{V({secret:ae.value,code:te.value}).then(e=>{e.google_auth_bind?ve():f(err||Y("bindFailed"))})},me=async()=>{try{await G(ae.value),f(Y("copySuccess"))}catch(e){console.error(e)}},ye=async()=>{te.value=await navigator.clipboard.readText()},he=(e,a,l)=>{de.value=a,ie.value=l},fe=n(null),Ae=()=>{fe.value.open()};return s(te,(e,a)=>{6===te.value.length&&(le.value=!1)}),(e,a)=>{const l=k,t=C,o=E,i=B,n=j;return r(),v("div",z,[b(l,null,{title:p(()=>[y(h(Z.value),1)]),_:1}),g("div",F,[1==Q.value||2==Q.value?(r(),v("div",q,[g("div",H,[b(S,{label:2==Q.value?e.$t("email"):e.$t("phoneNum"),placeholderText:2==Q.value?e.$t("entryEmail"):e.$t("entryPhone"),modelValue:K.value,"onUpdate:modelValue":a[0]||(a[0]=e=>K.value=e),area:W.value,onSelectArea:Ae,dialCode:ie.value,icon:de.value},null,8,["label","placeholderText","modelValue","area","dialCode","icon"])]),g("div",N,[b(S,{label:e.$t("登录密码"),placeholderText:e.$t("请输入登录密码"),modelValue:M.value,"onUpdate:modelValue":a[1]||(a[1]=e=>M.value=e),typeText:"password",clearBtn:!1},null,8,["label","placeholderText","modelValue"])])])):x("",!0),3==Q.value?(r(),v("div",R,[g("div",$,[g("div",D,[b(m(U),{src:oe.value},{loading:p(()=>[b(t,{type:"spinner",size:"20"})]),_:1},8,["src"])]),g("div",J,[y(h(ae.value)+" ",1),g("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKzSURBVHgBvVZdbtpAEP5214G+VOUI9ATlBqEnKDlB4CVV1JeitJHSKIqjCJCaEsRDFYVUIj1BuEHICUJPUN+gPDY23unuEsjaQLDz00+yZHt29tud2Z35GFKi9vV7AYIXGHiOJHLg0pMS3t7nzX4Sf5Zk0OHRSdHhYp2AkvrM3TO0F8qwvYi80ep07yVsNE7ylHW6ICoiDQgDPwjX3J1NzyZTESnzRT714x/rlBHXC8iG6vFun1kwFDIZ8bvePP1ok41Nc9Bone2TJDdOov61QaPe7vaHgW0weWVOiXOmw563bcTYgBEV7tYSw+G305Jg7CLiRGgHYsV1q5UhlqB2dOoyzvYX2SOEOmfIiEt7lRSisru9cY4UqDVPygyiO88WzWFG7EdCIqmalsxMysXqItt0h+ZEqkRbhvOdrY0KUsI+IHMXM3khh5dsww0PD/DEZBFCVT3eTV717tzq3R16KrIooXXfJHCFFEhKpuGMHVT+pPU3DAZIgZu/JvyJUmAIRyPkhXVeiWf/IAXsErYMhsZxkNjhsTCEN3gRqSBEwWs8Ewzhbcka3v3kRTwTHOu9j3G/AxNsFU+EerNzobuHmZfQnx6VkOjndBShqJsuHglTm/UmSJVL9ejrNiXc+/S+Byusgouu2+rm8BioRmB9eQFf6UWKNyGsWp/5jPS7eCDqrbNWrBG09VmZ6Yf1486lDqm1jJ7vy2rSu+a63Vz2VdCKVR7vy9aGOfkzEsNnK2ssIh1YScmFy1qzU15GpvOefRlcx8l8Hr6dzjbPUZc6yGgjnjgrhz6BfoVSmvLHOfIMzhsViTJmFZ0hsxvBQtVm6mvIXTC2joeAWN8Xo0q86yzVpVoucMSUwP3w1NiD3a35SiGRENbQ+eFMlJRAeoOxCpuEb6h2o0joSlLYS6rA/xv+AZfLLFBKDLSAAAAAAElFTkSuQmCC",alt:"",onClick:ge})]),g("p",O,h(e.$t("saveKeyTips")),1),g("div",{class:"copy textColor",onClick:me},h(e.$t("copy")),1)]),g("div",X,[g("div",null,h(e.$t("googleVerificationCode")),1),g("div",_,[g("div",{class:"colorMain",onClick:a[2]||(a[2]=e=>te.value="")},h(e.$t("clear")),1),g("div",{class:"colorMain ml-30",onClick:ye},h(e.$t("paste")),1)])]),b(o,{value:te.value,gutter:16,focused:le.value,onFocus:a[3]||(a[3]=e=>le.value=!0),mask:!1},null,8,["value","focused"]),b(i,{modelValue:te.value,"onUpdate:modelValue":a[4]||(a[4]=e=>te.value=e),show:le.value,onBlur:a[5]||(a[5]=e=>le.value=!1)},null,8,["modelValue","show"]),a[6]||(a[6]=g("div",{class:"mt-2"},null,-1)),g("div",P,[g("p",null,h(e.$t("precautions")),1),g("p",null,h(e.$t("precautionsTips1")),1),g("p",null,h(e.$t("precautionsTips2")),1)])])):x("",!0),b(n,{class:"w-full",style:{"margin-top":"30px"},type:"primary",loading:ce.value,onClick:re},{default:p(()=>[y(h(e.$t("confirm")),1)]),_:1},8,["loading"])]),b(T,{ref_key:"controlChildRef",ref:fe,title:e.$t("selectArea"),onGetName:he},null,8,["title"])])}}},[["__scopeId","data-v-edbc1bb8"]]))}}});
