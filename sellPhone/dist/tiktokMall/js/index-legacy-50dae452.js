System.register(["./index-legacy-27bdf402.js","./index-legacy-55462584.js","./config-legacy-053ee913.js","./config-legacy-38ba3b90.js","./index-legacy-f9272a6a.js","./vue3-puzzle-vcode.es-legacy-19f008c1.js","./index-legacy-3a7d3f57.js","./login.api-legacy-a7397982.js","./index-legacy-00472a3a.js","./index-legacy-591c4a77.js","./use-id-legacy-dafc5df9.js"],function(e,t){"use strict";var a,n,o,i,l,d,c,r,s,g,u,p,v,m,f,b,h,x,w,k,y,A,I,U,C,V,S,j,z,M,T,B,R,_,N,P,E,Q,L,X,Y;return{setters:[e=>{a=e._,n=e.v,o=e.o,i=e.c,l=e.a,d=e.t,c=e.u,r=e.b,s=e.w,g=e.d,u=e.n,p=e.e,v=e.r,m=e.f,f=e.g,b=e.h,h=e.T,x=e.i,w=e.j,k=e.k,y=e.l,A=e.m,I=e.p,U=e.q,C=e.s,V=e.x,S=e.y,j=e.z,z=e.A,M=e.G,T=e.B,B=e.C,R=e.D,_=e.I},e=>{N=e.B},e=>{P=e.l},e=>{E=e.l},e=>{Q=e.I},e=>{L=e.M},e=>{X=e.default},e=>{Y=e.n},null,null,null],execute:function(){var t=document.createElement("style");t.textContent=".area-code-dialog[data-v-e88d9f70]{width:100%;height:100vh;pointer-events:none;position:fixed;top:0;left:0;z-index:999998;opacity:0}.area-code-dialog>div[data-v-e88d9f70]{position:fixed;left:0}.area-code-dialog>div.code-content[data-v-e88d9f70]{width:calc(100vw - 30px);height:80vh;bottom:10vh;left:15px;background-color:#fff;border-radius:16px;z-index:999999;-webkit-animation-duration:.75s;animation-duration:.75s}.area-code-dialog>div.code-content>.title[data-v-e88d9f70]{width:100%;height:60px;text-align:center;line-height:60px;color:#000;font-size:18px}.area-code-dialog>div.code-content>.scroll-content[data-v-e88d9f70]{height:calc(80vh - 119px);overflow-y:scroll}.area-code-dialog>div.code-content>.btn[data-v-e88d9f70]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding-top:15px}.area-code-dialog>div.code-content>.btn .van-button--custom[data-v-e88d9f70]{color:#fff;background:#1552f0!important;padding:10px 20px!important;border-radius:4px}.area-code-dialog>div.code-bg[data-v-e88d9f70]{top:0;width:100%;height:100vh;background-color:rgba(0,0,0,.4);z-index:999998;opacity:0;-webkit-transition:all .3s ease;transition:all .3s ease}.area-code-dialog.active[data-v-e88d9f70]{pointer-events:auto;opacity:1}.area-code-dialog.active>.code-content[data-v-e88d9f70]{-webkit-animation-name:bounceInUp;animation-name:bounceInUp}.area-code-dialog.active>.code-bg[data-v-e88d9f70]{opacity:1}.number-code-dialog[data-v-937b5b09]{width:100%;height:100vh;pointer-events:none;position:fixed;top:0;left:0;z-index:98;opacity:0}.number-code-dialog>div[data-v-937b5b09]{position:fixed;left:0}.number-code-dialog>div.code-content[data-v-937b5b09]{width:90vw;height:200px;left:5vw;top:50%;margin-top:-100px;background-color:#fff;border-radius:8px;z-index:9;-webkit-animation-duration:.75s;animation-duration:.75s;padding:0 20px}.number-code-dialog>div.code-content>.title[data-v-937b5b09]{width:100%;height:60px;text-align:center;line-height:60px;color:#000;font-size:16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.number-code-dialog>div.code-content>.input-content[data-v-937b5b09]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border:1px solid #ddd;border-radius:4px;padding:5px 15px;color:#000}.number-code-dialog>div.code-content>.input-content>.input[data-v-937b5b09]{-webkit-box-flex:1;-webkit-flex:1 1;flex:1 1;height:100%;padding-right:15px;background-color:#fff}.number-code-dialog>div.code-content>.input-content>.input>input[data-v-937b5b09]{background-color:#fff;width:100%}.number-code-dialog>div.code-bg[data-v-937b5b09]{top:0;width:100%;height:100vh;background-color:rgba(0,0,0,.4);z-index:8;opacity:0;-webkit-transition:all .3s ease;transition:all .3s ease}.number-code-dialog.active[data-v-937b5b09]{pointer-events:auto;opacity:1}.number-code-dialog.active>.code-content[data-v-937b5b09]{-webkit-animation-name:bounceInUp;animation-name:bounceInUp}.number-code-dialog.active>.code-bg[data-v-937b5b09]{opacity:1}.van-button--custom[data-v-937b5b09]{color:#fff;background:var(--site-main-color)!important;margin-top:20px}[data-v-c4e771d1] .van-cell{background:none;padding:5px 16px}[data-v-c4e771d1] .van-cell-group{background:none}[data-v-c4e771d1] .van-cell-group--inset{margin:0;border:1px solid;border-radius:5px}[data-v-c4e771d1] .van-field__control,[data-v-c4e771d1] .van-field__label{color:#fff}.login-register-content[data-v-c4e771d1]{width:100%;min-height:100vh;background-position:center top;background-repeat:no-repeat;background-size:cover;background-attachment:fixed;padding:0 15px 20px;padding-top:calc(8vh + 60px);box-sizing:border-box;background-color:#1e1e1e;color:#fff}.login-register-content>.header-content[data-v-c4e771d1]{width:100%;height:60px;padding:0 15px;position:fixed;top:0;left:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.login-register-content>.header-content>h2[data-v-c4e771d1]{font-size:24px;font-weight:700}.login-register-content>.header-content>.language[data-v-c4e771d1]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.login-register-content>.header-content>.language.is-ar>img[data-v-c4e771d1]:last-child{margin-left:0}.login-register-content>.header-content>.language.is-ar>img[data-v-c4e771d1]:first-child{margin-left:6px}.login-register-content>.header-content>.language>img[data-v-c4e771d1]:first-child{width:24px;height:24px}.login-register-content>.header-content>.language>img[data-v-c4e771d1]:last-child{width:10px;margin-left:6px}.login-register-content>.logo-content[data-v-c4e771d1]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-bottom:8vh}.login-register-content>.logo-content>img[data-v-c4e771d1]{width:20vw;height:auto}.login-register-content>.logo-content>h2[data-v-c4e771d1]{font-size:24px;font-weight:700;margin-top:8px}.login-register-content>.type-tab[data-v-c4e771d1]{overflow:hidden}.login-register-content>.type-tab>.item[data-v-c4e771d1]{min-width:80px;height:34px;padding:0 10px;text-align:center;line-height:34px;font-size:12px;border-radius:4px;margin-right:10px;background-color:#fff;color:#333;float:left}.login-register-content>.type-tab>.item[data-v-c4e771d1]:last-child{margin-right:0}.login-register-content>.type-tab>.item.active[data-v-c4e771d1]{background-color:var(--site-main-color);color:#fff}.login-register-content>.form-content[data-v-c4e771d1]{margin-top:24px}.login-register-content>.form-content>.item[data-v-c4e771d1]{margin-top:20px}.login-register-content>.form-content>.item[data-v-c4e771d1]:first-child{margin-top:0}.login-register-content>.form-content>.item>.title[data-v-c4e771d1]{font-size:12px;margin-bottom:10px}.login-register-content>.form-content>.link-content[data-v-c4e771d1]{font-size:12px;margin-top:10px;width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start}.login-register-content>.form-content>.link-content.is-ar>p[data-v-c4e771d1]:first-child{padding-left:20px;padding-right:0}.login-register-content>.form-content>.link-content>p[data-v-c4e771d1]{line-height:1.5}.login-register-content>.form-content>.link-content>p[data-v-c4e771d1]:first-child{-webkit-box-flex:1;-webkit-flex:1 1;flex:1 1;padding-right:20px}.login-register-content>.form-content>.link-content>p[data-v-c4e771d1]:last-child{max-width:40%}.login-register-content>.form-content>.link-content .link[data-v-c4e771d1]{color:#1d91ff}.login-register-content>.form-content>.btn[data-v-c4e771d1]{margin-top:20px}.van-button--custom[data-v-c4e771d1]{color:#fff;background:var(--site-main-color)!important}.agree-content[data-v-c4e771d1]{position:relative;margin-top:10px}.agree-content.is-ar>.check[data-v-c4e771d1]{left:calc(100% - 16px)}.agree-content>.check[data-v-c4e771d1]{width:16px;height:16px;border-radius:4px;border:1px solid #fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;position:absolute;left:0;top:2px}.agree-content>p[data-v-c4e771d1]{font-size:12px;line-height:21px;text-indent:23px}.agree-content>p .link[data-v-c4e771d1]{color:#1d91ff}\n",document.head.appendChild(t);const D={class:"code-content"},J={class:"title"},$={class:"scroll-content"},G={class:"btn"},H=p({name:"AgreeDialog"}),O=Object.assign(H,{props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","done"],setup(e,{emit:t}){const{t:a}=n.useI18n(),p=t,v=()=>{p("update:modelValue",!1)},m=()=>{p("done"),p("update:modelValue",!1)};return(t,n)=>{const p=N;return o(),i("div",{class:u([{active:e.modelValue},"area-code-dialog"])},[l("div",D,[l("div",J,d(c(a)("用户协议")),1),l("div",$,[r(X)]),l("div",G,[r(p,{type:"custom",size:"small",onClick:m},{default:s(()=>[g(d(c(a)("我已阅读")),1)]),_:1})])]),l("div",{class:"code-bg",onClick:v})],2)}}}),Z=a(O,[["__scopeId","data-v-e88d9f70"]]),F={class:"code-content"},W={class:"title"},q={class:"input-content"},K={class:"input"},ee=["placeholder"],te=["width","height"],ae=p({name:"NumberCodeDialog"}),ne=Object.assign(ae,{props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","done"],setup(e,{emit:t}){const{t:a}=n.useI18n(),p=t,x=e,w=v(""),k=v(""),y=v(180),A=v(240),I=v(100),U=v(35),C=v(50),V=v(160),S=v(32),j=v(40),z=v(40),M=v(100),T=(e,t)=>Math.floor(Math.random()*(t-e)+e),B=(e,t)=>"rgb("+T(e,t)+","+T(e,t)+","+T(e,t)+")",R=(e,t,a)=>{e.fillStyle=B(C.value,V.value),e.font=T(S.value,j.value)+"px SimHei";let n=(a+1)*(I.value/(k.value.length+1)),o=T(j.value,U.value-5);var i=T(-15,15);e.translate(n,o),e.rotate(i*Math.PI/180),e.fillText(t,0,0),e.rotate(-i*Math.PI/180),e.translate(-n,-o)},_=e=>{for(let t=0;t<4;t++)e.strokeStyle=B(z.value,M.value),e.beginPath(),e.moveTo(T(0,I.value),T(0,U.value)),e.lineTo(T(0,I.value),T(0,U.value)),e.stroke()},P=e=>{for(let t=0;t<10;t++)e.fillStyle=B(0,100),e.beginPath(),e.arc(T(0,I.value),T(0,U.value),1,0,2*Math.PI),e.fill()},E=()=>{const e=[0,1,2,3,4,5,6,7,8,9];let t="";for(let a=0;a<4;a++)t+=e[Math.floor(Math.random()*e.length)];k.value=t,(()=>{let e=document.getElementById("s-canvas").getContext("2d");e.textBaseline="bottom",e.fillStyle=B(y.value,A.value),e.fillRect(0,0,I.value,U.value);for(let t=0;t<k.value.length;t++)R(e,k.value[t],t);_(e),P(e)})()};m(()=>x.modelValue,e=>{e?(k.value="",E()):w.value=""});const Q=()=>{p("update:modelValue",!1)},L=()=>{w.value?w.value===k.value?(p("done"),Q()):h(a("验证码不正确")):h(a("验证码不能为空"))};return(t,n)=>{const p=N;return o(),i("div",{class:u([{active:e.modelValue},"number-code-dialog"])},[l("div",F,[l("div",W,d(c(a)("entryVerifyCode")),1),l("div",q,[l("div",K,[f(l("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=e=>w.value=e),placeholder:c(a)("verificationCode")},null,8,ee),[[b,w.value]])]),l("div",{onClick:E},[l("canvas",{id:"s-canvas",width:I.value,height:U.value},null,8,te)])]),r(p,{type:"custom",block:"",onClick:L},{default:s(()=>[g(d(c(a)("确定")),1)]),_:1})]),l("div",{class:"code-bg",onClick:Q})],2)}}}),oe=a(ne,[["__scopeId","data-v-937b5b09"]]),ie={class:"header-content"},le=["src"],de=["src"],ce={class:"logo-content"},re=["src"],se={class:"form-content"},ge={key:0,class:"item"},ue={class:"title"},pe={class:"input-content"},ve={key:1,class:"item"},me={class:"item"},fe={class:"title"},be={class:"input-content"},he={class:"btn"};e("default",a({__name:"index",setup(e){const t=x(),{t:a,locale:p}=n.useI18n(),m=w(),f=k(),b=y(),X="tiktokMall",D=v(new URL("/www/png/name-3ddd62dd.png",self.location)),J=A(()=>["familyMart"].includes(X)),$=new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAACVSURBVHgB7ZPJDYAgEEU/iQVYAiXYkhVoB8QKLMkStAO1Au1g/N5ckeXigZcMSxgehAlA4ncoEcnZG0aOSJRSZcZmpXTmvEYc5/2UthKOeTyCC53407/emYuaMXrI9lwNG0woGIuj0C47SGsHWQUfxF4kgxDkuUg9QpF7kUbnd7NIj0XSX/nZVwJ/0kBRs7s5npC4sgFBUms+k2q2aQAAAABJRU5ErkJggg==",self.location),G=A(()=>{const e=p.value||"en";return P.find(t=>t.key===e).image}),H=A(()=>{const e=E.find(e=>("mbuy"===e.key?"argos":e.key)===X);return e||E[0]}),O=new URL("/www/png/name-593a7e78.png",self.location),F=new URL("/www/png/name-ae6e9405.png",self.location),W=new URL("/www/png/name-8130147b.png",self.location),q=new URL("/www/png/name-dab02cab.png",self.location),K=new URL("/www/png/name-ca360226.png",self.location),ee=[O.href,F.href,W.href,q.href,K.href],te=v(!1),ae=v(0),ne=v(!1),xe=localStorage.getItem("areaCode")?localStorage.getItem("areaCode"):44,we=v(xe),ke=I({username:"",password:""}),ye=v(!1),Ae=()=>{const e=0===ae.value?"entryEmail":"entryPhone";return ke.username=z(ke.username),""===ke.username?(h(a(e)),!1):""===ke.password?(h(a("entryPassword")),!1):ke.password.length<6||ke.password.length>20?(h(a("setPasswordTips")),!1):J.value&&!Ce.value?(h(`${a("我已阅读并同意")}《${a("用户协议")}》`),!1):void(["hive","argos"].includes(X)?Ie():["tiktok-wholesale"].includes(X)?ye.value=!0:te.value=!0)},Ie=()=>{te.value=!1,ne.value=!0,Y({username:0==ae.value?ke.username:`${we.value} ${ke.username}`,password:ke.password,type:0==ae.value?2:1,roleType:Number(1)}).then(async e=>{localStorage.removeItem("storeUserName"),localStorage.removeItem("storeMobile");const t=0==ae.value?"storeUserName":"storeMobile";localStorage.setItem(t,ke.username),localStorage.setItem("loginType",ae.value),await m[M](e),await T().then(e=>{e.id?localStorage.setItem("sellerId",e.id):localStorage.removeItem("sellerId")}).catch(()=>{ne.value=!1}),ne.value=!1,f.setShowNotic(!0),document.dispatchEvent(new CustomEvent("getMoneyInfoHandle")),B().setChatHandle(),h.success(a("loginSuc")),b.push("/shop")}).catch(e=>{ne.value=!1,console.log(e)})},Ue=()=>{const{hostname:e,origin:t}=window.location,a=`${"localhost"===e?"https://www.sparmalla.top/promote/#/":`${t}/promote/#/`}?lang=${p.value}`;window.plus?window.plus.runtime.openURL(a):window.webkit?window.webkit.messageHandlers.openWindow.postMessage({url:a}):window.open(a)},Ce=v(!1),Ve=v(!1);return U(()=>{m.logout()}),C(()=>{const e=localStorage.getItem("loginType");ae.value=e?Number(e):0;const t=0==ae.value?"storeUserName":"storeMobile",a=localStorage.getItem(t);ke.username=a||""}),(e,n)=>{const p=_,v=N;return o(),i("div",{style:j({"background-image":"url("+D.value.href+")"}),class:"login-register-content"},[r(oe,{modelValue:ye.value,"onUpdate:modelValue":n[0]||(n[0]=e=>ye.value=e),onDone:Ie},null,8,["modelValue"]),r(Z,{modelValue:Ve.value,"onUpdate:modelValue":n[1]||(n[1]=e=>Ve.value=e),onDone:n[2]||(n[2]=e=>Ce.value=!0)},null,8,["modelValue"]),r(c(L),{successText:c(a)("vertifyPass"),failText:c(a)("vertifuFail"),sliderText:c(a)("vertifyTips"),imgs:ee,show:te.value,onSuccess:Ie},null,8,["successText","failText","sliderText","show"]),l("div",ie,[l("h2",null,d(c(a)("login")),1),l("div",{class:u(["language",{"is-ar":c(t)}]),onClick:n[3]||(n[3]=e=>c(b).push("/language"))},[l("img",{src:G.value.href,alt:""},null,8,le),l("img",{src:c($).href,alt:""},null,8,de)],2)]),l("div",ce,[l("img",{src:H.value.logo.href,alt:""},null,8,re),l("h2",null,d(H.value.name),1)]),l("div",se,[0===ae.value?(o(),i("div",ge,[l("div",ue,d(c(a)("邮箱或手机号")),1),l("div",pe,[r(Q,{modelValue:ke.username,"onUpdate:modelValue":n[4]||(n[4]=e=>ke.username=e),type:"text",placeholder:c(a)("请输入邮箱或手机号"),clear:""},null,8,["modelValue","placeholder"])])])):V("",!0),1===ae.value?(o(),i("div",ve)):V("",!0),l("div",me,[l("div",fe,d(c(a)("password")),1),l("div",be,[r(Q,{modelValue:ke.password,"onUpdate:modelValue":n[5]||(n[5]=e=>ke.password=e),type:"password",placeholder:c(a)("entryPassword"),clear:"","show-password":""},null,8,["modelValue","placeholder"])])]),l("div",{class:u(["link-content",{"is-ar":c(t)}])},[l("p",null,[g(d(c(a)("如果您没有账号"))+", ",1),l("span",{class:"link",onClick:Ue},d(c(a)("点击注册")),1)]),l("p",{onClick:n[6]||(n[6]=(...e)=>c(R)&&c(R)(...e)),class:"link"},d(c(a)("forgetPassword")),1)],2),J.value?(o(),i("div",{key:2,class:u(["agree-content",{"is-ar":c(t)}])},[l("div",{class:"check",onClick:n[7]||(n[7]=e=>Ce.value=!Ce.value)},[Ce.value?(o(),S(p,{key:0,name:"success",size:12})):V("",!0)]),l("p",null,[l("span",{onClick:n[8]||(n[8]=e=>Ce.value=!Ce.value)},d(c(a)("我已阅读并同意")),1),l("span",{class:"link",onClick:n[9]||(n[9]=e=>Ve.value=!0)},"《"+d(c(a)("用户协议"))+"》",1)])],2)):V("",!0),l("div",he,[r(v,{type:"custom",loading:ne.value,block:"",onClick:Ae},{default:s(()=>[g(d(c(a)("login")),1)]),_:1},8,["loading"])])])],4)}}},[["__scopeId","data-v-c4e771d1"]]))}}});
