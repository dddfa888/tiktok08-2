import{_ as $,i as U,v as z,r as s,o as u,c as k,b as g,w as d,x as y,y as x,u as n,n as D,T as _,aa as P,a8 as T,a as V,t as F,F as j,E as A,I as H}from"./index-55507c28.js";import{E as q}from"./index-94a2e4c2.js";import{P as G}from"./index-16851c38.js";import{L as J}from"./index-748d9839.js";import"./index-6e53b41f.js";import"./index-3bdff75a.js";import{S as K}from"./index-29b5376b.js";import{_ as M}from"./search-icon-e5826669.js";import{a as O,o as Q}from"./orderItem-4e44279b.js";import"./use-id-acc627d9.js";import"./index-a906d245.js";import"./config-3fe7fd75.js";import"./index-021b9a81.js";const W={key:0,class:"list ml-4 mr-4 mt-4 mb-4"},X={__name:"orderSearch",setup(Y){const w=U(),{t:m}=z.useI18n();let t=s(""),r=s(1);const l=s([]),i=s(!1),c=s(!1),p=s(!1),v=s(!1),C=new URL("/www/png/name-20d65991.png",self.location),b=()=>{r.value=1,t.value="",c.value=!1,i.value=!0,r.value=1,v.value=!1,l.value=[]},L=a=>{t.value?(v.value=!1,c.value=!1,i.value=!0,r.value=1,a&&_.loading({forbidClick:!0,loadingType:"spinner",duration:0}),S()):(_(m("请输入订单号")),i.value=!1,p.value=!1,c.value=!0,l.value=[])},I=()=>{L(!0)},S=()=>{const a={pageNum:r.value,pageSize:20,orderId:t.value};O(a).then(e=>{const{pageInfo:h,pageList:f}=e;l.value=r.value===1?f:[...l.value,...f],i.value=!1,p.value=!1,v.value=!0,c.value=h.lastPage,r.value++,_.clear()}).catch(()=>{_.clear()})};return(a,e)=>{const h=H,f=K,N=P,B=J,E=G,R=q;return u(),k("div",{class:D(["search-container",{"is-ar":n(w)}])},[g(N,{fixed:"","left-arrow":"",onClickLeft:e[1]||(e[1]=()=>a.$router.back())},{title:d(()=>[g(f,{modelValue:n(t),"onUpdate:modelValue":e[0]||(e[0]=o=>T(t)?t.value=o:t=o),shape:"round",onSearch:I,clearable:!1,placeholder:a.$t("请输入订单号")},{"left-icon":d(()=>[...e[5]||(e[5]=[V("img",{class:"search-icon",src:M},null,-1)])]),"right-icon":d(()=>[n(t)?(u(),x(h,{key:0,name:"cross",onClick:b,size:"14",color:"#333333"})):y("",!0)]),_:1},8,["modelValue","placeholder"])]),right:d(()=>[V("div",{onClick:I},F(n(m)("搜索")),1)]),_:1}),l.value.length>0?(u(),k("div",W,[g(E,{modelValue:p.value,"onUpdate:modelValue":e[3]||(e[3]=o=>p.value=o),"loading-text":a.$t("加载中"),"loosing-text":a.$t("释放以刷新"),"pulling-text":a.$t("下拉以刷新"),onRefresh:e[4]||(e[4]=o=>L(!1))},{default:d(()=>[g(B,{loading:i.value,"onUpdate:loading":e[2]||(e[2]=o=>i.value=o),finished:c.value,"finished-text":n(m)("没有更多了"),onLoad:S},{default:d(()=>[(u(!0),k(j,null,A(l.value,o=>(u(),x(Q,{info:o},null,8,["info"]))),256))]),_:1},8,["loading","finished","finished-text"])]),_:1},8,["modelValue","loading-text","loosing-text","pulling-text"])])):y("",!0),!l.value.length&&v.value?(u(),x(R,{key:1,image:n(C).href,description:n(m)("noData")},null,8,["image","description"])):y("",!0)],2)}}},me=$(X,[["__scopeId","data-v-c0dd8477"]]);export{me as default};
