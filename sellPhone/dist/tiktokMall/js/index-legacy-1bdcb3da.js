System.register(["./index-legacy-27bdf402.js","./index-legacy-9ab921f3.js","./index-legacy-e9d6ff65.js","./index-legacy-00472a3a.js","./index-legacy-591c4a77.js","./index-legacy-b4569500.js","./search-icon-legacy-4edb4440.js","./more-legacy-52efb473.js","./product.api-legacy-857ca90b.js","./use-id-legacy-dafc5df9.js","./index-legacy-f6c88de2.js","./___vite-browser-external_commonjs-proxy-legacy-c463071b.js"],function(e,t){"use strict";var a,i,o,l,n,s,d,c,r,p,u,f,m,g,x,v,b,h,w,k,y,j,_,P,S,I,$,C,z,N,L,M,V,E;return{setters:[e=>{a=e._,i=e.i,o=e.v,l=e.a0,n=e.l,s=e.r,d=e.m,c=e.a1,r=e.q,p=e.o,u=e.c,f=e.a,m=e.b,g=e.w,x=e.u,v=e.a8,b=e.t,h=e.d,w=e.n,k=e.e,y=e.a2,j=e.Z,_=e.F,P=e.E,S=e.x,I=e.J,$=e.I},e=>{C=e.P},e=>{z=e.L},null,null,e=>{N=e.S},e=>{L=e._},e=>{M=e._},e=>{V=e.s,E=e.m},null,null,null],execute:function(){var t=document.createElement("style");t.textContent='.take_off[data-v-72e3c9a5]{position:absolute;left:50%;top:50%;margin-left:-35px;margin-top:-35px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);border:3px solid #e74343;color:#e74343;border-radius:50%;font-size:13px;width:70px;height:70px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.product[data-v-72e3c9a5]{padding-top:20px;padding-bottom:50px}.product .search-wrap[data-v-72e3c9a5]{margin:0 15px;border-radius:25px;height:45px;text-align:center;pointer-events:none}.product .search-wrap .search-icon[data-v-72e3c9a5]{height:24px}.product .product-header[data-v-72e3c9a5]{background:#ffffff;border-radius:4px;padding:20px 0;margin-top:20px}.product .product-header .moeny[data-v-72e3c9a5]{font-weight:600;font-size:20px;height:24px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.product .product-header .moeny.icon[data-v-72e3c9a5]{height:34px}.product .product-header .moeny.icon>img[data-v-72e3c9a5]{height:34px;width:auto}.product .product-header .moeny.icon+.title[data-v-72e3c9a5]{margin-top:0}.product .product-header .title[data-v-72e3c9a5]{margin-top:10px;color:#999;font-size:12px}.product .product-header .after[data-v-72e3c9a5]{position:relative}.product .product-header .after[data-v-72e3c9a5]:after{position:absolute;height:100%;width:1px;background:#dddddd;content:"";right:0;top:0}.product .list .item[data-v-72e3c9a5]{background:#ffffff;border-radius:4px;margin-bottom:20px}.product .list .item .more-icon[data-v-72e3c9a5]{width:20px}.product .list .item .product-img[data-v-72e3c9a5]{-webkit-flex-shrink:0;flex-shrink:0;width:100%;height:auto}.product .list .item .left[data-v-72e3c9a5]{-webkit-box-align:center;-webkit-align-items:center;align-items:center}.product .list .item .left .product-info[data-v-72e3c9a5]{padding-left:10px}.product .list .item .left .product-info .name-content[data-v-72e3c9a5]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;margin-bottom:5px}.product .list .item .left .product-info .name-content>p[data-v-72e3c9a5]{-webkit-box-flex:1;-webkit-flex:1 1;flex:1 1;font-size:14px;color:#333;line-height:16px;font-weight:700;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;-ms-text-overflow:ellipsis;text-overflow:ellipsis;word-break:break-all}.product .list .item .left .product-info .name-content>.more[data-v-72e3c9a5]{width:40px;height:30px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;padding-top:5px}.product .list .item .left .product-info .name[data-v-72e3c9a5]{font-size:14px;color:#333;width:180px;line-height:16px;font-weight:700;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;-ms-text-overflow:ellipsis;text-overflow:ellipsis;margin-bottom:5px}.product .list .item .left .product-info .Specification[data-v-72e3c9a5]{font-size:12px;color:#999}.product .list .item .left .product-info .money[data-v-72e3c9a5]{color:var(--site-main-color);font-weight:400}.product .list .item .left .product-info .money-content[data-v-72e3c9a5]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;color:var(--site-main-color);font-weight:400}.product .list .item .left .product-info .money-content>.dis[data-v-72e3c9a5]{font-size:14px;color:#ff3e3e}.product .list .product-img-wrap[data-v-72e3c9a5]{position:relative;overflow:hidden}.product .list .delete-wrap[data-v-72e3c9a5]{padding:0 15px;background:rgba(0,0,0,.6);position:absolute;left:0;top:0;font-size:12px;color:#fff}[data-v-72e3c9a5] .van-search__content{background:#fff}[data-v-72e3c9a5] .search-wrap .van-field__control{text-align:center}.list-content[data-v-72e3c9a5]{min-height:60vh}.list-content.is-ar .item .left .product-info[data-v-72e3c9a5]{padding-left:0;padding-right:10px}.list-content[data-v-72e3c9a5] .van-list{min-height:60vh}.goods-removed[data-v-72e3c9a5]{background-color:#f5f5f5}\n',document.head.appendChild(t);const J={class:"product"},O={class:"flex ml-4 mr-4 product-header"},U={key:0,class:"moeny icon"},q=["src"],G={key:1,class:"moeny"},R={class:"title"},D={class:"moeny"},F={class:"title"},K={class:"hot-title ml-4 mr-4 mt-4 mb-4"},Z=["onClick"],A={class:"flex-1 flex left"},B={class:"product-img-wrap w-20 h-20"},H=["src"],Q={key:0,class:"take_off"},T={class:"product-info flex-1"},W={class:"name-content"},X=["onClick"],Y={class:"Specification"},ee={style:{"margin-left":"20px"}},te={class:"money-content"},ae={key:0,class:"dis"},ie=k({name:"ProductIndex"}),oe=Object.assign(ie,{setup(e){const t=i();o.useI18n(),l();const a=n();let k=s("");s(!1);let ie=s(1),oe=s(0),le=s(0),ne=s(0),se=s({});const de=s([]),ce=s(!1),re=s(!1),pe=s(!1),ue=d(()=>["int"].includes("tiktokMall")),fe=s(!0);c(()=>{if(!fe.value){sessionStorage.getItem("productReload")&&(sessionStorage.removeItem("productReload"),me(!0));const e=sessionStorage.getItem("currentProductId");if(e){const t=de.value.findIndex(t=>t.id===e);sessionStorage.getItem("productDelete")?(de.value.splice(t,1),ne.value-=1,sessionStorage.removeItem("productDelete")):me(!0),sessionStorage.removeItem("currentProductId")}}});const me=e=>{e&&(ie.value=1);let t={pageNum:ie.value,pageSize:20};E(t).then(t=>{fe.value=!1,re.value&&(re.value=!1),oe.value=t.evaluations,le.value=t.systemGoodsNum,ne.value=t.sellerGoodsNum,de.value=e?t.pageList||[]:1===ie.value?t.pageList:[...de.value,...t.pageList],pe.value=de.value.length>=t.sellerGoodsNum,ie.value++,ce.value=!1})},ge=()=>{me(!0)},xe=()=>{a.push("/search?id=1")},ve=()=>{a.push("/productPage/list")},be=()=>{a.push("/productPage/comment")},he=s(""),we=s("");return V().then(e=>{he.value=e.sysParaMin,we.value=e.sysParaMax}),r(()=>{document.addEventListener("langChange",()=>{ge()})}),(e,i)=>{const o=N,l=$,n=z,s=C;return p(),u("div",J,[f("div",{onClick:xe},[m(o,{class:"search-wrap",disabled:"",modelValue:x(k),"onUpdate:modelValue":i[0]||(i[0]=e=>v(k)?k.value=e:k=e),placeholder:e.$t("请输入搜索商品名称"),clearable:""},{"left-icon":g(e=>[...i[3]||(i[3]=[f("img",{class:"search-icon",src:L},null,-1)])]),_:1},8,["modelValue","placeholder"])]),f("div",O,[f("div",{class:"flex-1 text-center after",onClick:ve},[ue.value?(p(),u("div",U,[f("img",{src:x(y)("image/order/diamond.svg"),alt:""},null,8,q)])):(p(),u("div",G,b(x(j)(x(le),0)),1)),f("div",R,[h(b(e.$t("商品库"))+" ",1),m(l,{name:"arrow"})])]),f("div",{class:"flex-1 text-center",onClick:be},[f("div",D,b(x(oe)),1),f("div",F,[h(b(e.$t("评论"))+" ",1),m(l,{name:"arrow"})])])]),f("div",K,b(e.$t("店铺产品"))+"("+b(x(j)(x(ne),0))+")",1),f("div",{class:w(["list ml-4 mr-4 mt-4 mb-4 list-content",{"is-ar":x(t)}])},[m(s,{modelValue:re.value,"onUpdate:modelValue":i[2]||(i[2]=e=>re.value=e),onRefresh:ge,"loading-text":e.$t("加载中"),"loosing-text":e.$t("释放以刷新"),"pulling-text":e.$t("下拉以刷新")},{default:g(()=>[m(n,{ref:"vanList",loading:ce.value,"onUpdate:loading":i[1]||(i[1]=e=>ce.value=e),"loading-text":e.$t("加载中"),finished:pe.value,"finished-text":e.$t("noMore"),onLoad:me},{default:g(()=>[(p(!0),u(_,null,P(de.value,(t,o)=>(p(),u("div",{class:w(["item pl-3 pr-3 pb-3 pt-3 flex",{"goods-removed":t.isShelf/1==0}]),onClick:e=>(e=>{a.push({path:"/productPage/details",query:{item:JSON.stringify(e)}})})(t),key:o},[f("div",A,[f("div",B,[f("img",{class:"product-img",src:t.imgUrl1},null,8,H),t.isShelf/1==0?(p(),u("div",Q,b(e.$t("已下架")),1)):S("",!0)]),f("div",T,[f("div",W,[f("p",null,b(t.name),1),f("div",{class:"more",onClick:I(e=>(e=>{e.sysParaMin=he.value,e.sysParaMax=we.value,a.push({path:"/productPage/productEdit",query:{item:JSON.stringify(e)}}),se.value=e})(t),["stop"])},[...i[4]||(i[4]=[f("img",{class:"more-icon",src:M},null,-1)])],8,X)]),f("div",Y,[f("span",null,b(t.categoryName),1),f("span",ee,b(e.$t("销量"))+": "+b(x(j)(t.soldNum,0)),1)]),f("div",te,[f("p",null,"$"+b(x(j)(t.sellingPrice)),1),t.discountPrice?(p(),u("p",ae,b(e.$t("折扣价"))+" $"+b(x(j)(t.discountPrice)),1)):S("",!0)])])])],10,Z))),128))]),_:1},8,["loading","loading-text","finished","finished-text"])]),_:1},8,["modelValue","loading-text","loosing-text","pulling-text"]),i[5]||(i[5]=f("div",{class:"safe-area-inset-bottom"},null,-1))],2)])}}});e("default",a(oe,[["__scopeId","data-v-72e3c9a5"]]))}}});
