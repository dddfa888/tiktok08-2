import{_ as g,cd as v,r,v as y,j as x,a0 as k,s as I,o as u,c as d,a as _,b as S,u as q,z as B,x as b,T as N,B as j,aa as w}from"./index-55507c28.js";import{q as z}from"./index-260e30ee.js";import"./___vite-browser-external_commonjs-proxy-685e0cd7.js";const C=["src"],T={__name:"index",setup(V){const{height:f}=v();r(null);const s=f.value-46,{t:m}=y.useI18n(),c=x();let i="";i=location.host;const n=k();let e=null;"partyId"in n.query?e={token:c.userInfo.token,lang:localStorage.getItem("lang")||"en",height:"".concat(s,"px"),partyid:n.query.partyId,name:n.query.username}:e={token:c.userInfo.token,lang:localStorage.getItem("lang")||"en",height:"".concat(s,"px")};let o=r("");"name"in e?o.value=e.name:o.value=m("消息中心");const l=r("");I(async()=>{N.loading({duration:0});let t="";try{await j().then(a=>{t=a.avatar||""})}catch(a){console.log(a)}e.nohead=!0,e.type="shop",t&&(e.selfimg=t),l.value="https://"+i+"/chat/#/h5/message/blue?"+z.stringify(e)});const p=()=>{router.go(-1)};return(t,a)=>{const h=w;return u(),d("div",null,[_("div",null,[S(h,{ref:"navEl",title:q(o),"left-arrow":"",onClickLeft:p,fixed:""},null,8,["title"])]),l.value?(u(),d("div",{key:0,style:B({height:s+46+"px"}),class:"iframe-content"},[_("iframe",{src:l.value,class:"flex-1"},null,8,C)],4)):b("",!0)])}}},H=g(T,[["__scopeId","data-v-56de4ed6"]]);export{H as default};
