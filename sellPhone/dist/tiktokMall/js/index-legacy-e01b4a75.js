System.register(["./index-legacy-27bdf402.js"],function(o,r){"use strict";var e,a,i,l,n,s,t,c,u,d,v,g,f,h,b,m,y,p,w,z;return{setters:[o=>{e=o.aq,a=o.e,i=o.r,l=o.bv,n=o.m,s=o.au,t=o.b7,c=o.f,u=o.bK,d=o.ac,v=o.b,g=o.as,f=o.aG,h=o.aD,b=o.g,m=o.c1,y=o.az,p=o.s,w=o.I,z=o.av}],execute:function(){const[r,S]=e("image"),x={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:g,height:g,radius:g,lazyLoad:Boolean,iconSize:g,showError:f,errorIcon:h("photo-fail"),iconPrefix:String,showLoading:f,loadingIcon:h("photo")};var I=a({name:r,props:x,emits:["load","error"],setup(o,{emit:r,slots:e}){const a=i(!1),g=i(!0),f=i(),{$Lazyload:h}=l().proxy,z=n(()=>{const r={width:s(o.width),height:s(o.height)};return t(o.radius)&&(r.overflow="hidden",r.borderRadius=s(o.radius)),r});c(()=>o.src,()=>{a.value=!1,g.value=!0});const x=o=>{g.value=!1,r("load",o)},I=o=>{a.value=!0,g.value=!1,r("error",o)},L=(r,e,a)=>a?a():v(w,{name:r,size:o.iconSize,class:e,classPrefix:o.iconPrefix},null),$=()=>{if(a.value||!o.src)return;const r={alt:o.alt,class:S("img"),style:{objectFit:o.fit,objectPosition:o.position}};return o.lazyLoad?b(v("img",y({ref:f},r),null),[[m("lazy"),o.src]]):v("img",y({src:o.src,onLoad:x,onError:I},r),null)},P=({el:o})=>{const r=()=>{o===f.value&&g.value&&x()};f.value?r():p(r)},j=({el:o})=>{o!==f.value||a.value||I()};return h&&u&&(h.$on("loaded",P),h.$on("error",j),d(()=>{h.$off("loaded",P),h.$off("error",j)})),()=>{var r;return v("div",{class:S({round:o.round,block:o.block}),style:z.value},[$(),g.value&&o.showLoading?v("div",{class:S("loading")},[L(o.loadingIcon,S("loading-icon"),e.loading)]):a.value&&o.showError?v("div",{class:S("error")},[L(o.errorIcon,S("error-icon"),e.error)]):void 0,null==(r=e.default)?void 0:r.call(e)])}}});o("I",z(I))}}});
