System.register(["./index-legacy-27bdf402.js","./index-legacy-55462584.js","./index-legacy-3b191162.js","./nationalityList-legacy-17a4b5cd.js","./countryList-legacy-5f7563e4.js","./index-legacy-00472a3a.js","./index-legacy-591c4a77.js","./use-id-legacy-dafc5df9.js","./index-legacy-978b0f9e.js","./index-legacy-b4569500.js"],function(e,a){"use strict";var t,l,i,o,d,n,r,c,p,s,u,b,x,v,g,h,m,y,f,w,k,j;return{setters:[e=>{t=e._,l=e.a0,i=e.l,o=e.v,d=e.r,n=e.j,r=e.q,c=e.o,p=e.c,s=e.b,u=e.w,b=e.a,x=e.u,v=e.T,g=e.cJ,h=e.a9,m=e.d,y=e.t},e=>{f=e.B},e=>{w=e.E},e=>{k=e.n},e=>{j=e.c},null,null,null,null,null],execute:function(){var a=document.createElement("style");a.textContent=".bindVerify[data-v-cab0a7d6]{width:100%;min-height:100vh;box-sizing:border-box}.content[data-v-cab0a7d6]{font-size:12px;padding:0 16px}.iptbox[data-v-cab0a7d6]{height:44px;margin-top:8px;padding:0 10px 0 20px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;border-radius:3px}.iptbox input[data-v-cab0a7d6]{-webkit-box-flex:1;-webkit-flex:1 1;flex:1 1;height:100%;border:none}.iptbox input[data-v-cab0a7d6]::-webkit-input-placeholder{color:#868c9a}.iptbox span[data-v-cab0a7d6]{color:#1d91ff}.imgbox[data-v-cab0a7d6]{border:1px solid #E5E7ED;padding:5px;width:182px;height:182px;box-sizing:border-box}.imgbox img[data-v-cab0a7d6]{width:100%;height:100%}.code[data-v-cab0a7d6]{font-size:15px;font-weight:300;line-height:18px;margin-top:22px;height:18px}.code img[data-v-cab0a7d6]{width:14px;height:14px;margin-left:5px}.tips[data-v-cab0a7d6]{margin-top:10px;color:#999}.copy[data-v-cab0a7d6]{border-radius:4px;width:132px;height:40px;margin-top:16px;border:1px solid #E5E7ED;line-height:40px}.bottom[data-v-cab0a7d6]{padding:20px 16px 7px}.bottom p[data-v-cab0a7d6]{padding-bottom:13px}.van-password-input[data-v-cab0a7d6]{margin:0}.van-password-input__security li[data-v-cab0a7d6],[data-v-cab0a7d6] .van-password-input__security li{background:#F5F5F5;width:50px;height:50px;color:#333}[data-v-cab0a7d6] .van-button--primary{background-color:var(--site-main-color);border-color:var(--site-main-color);border-radius:4px}[data-v-cab0a7d6] .inputBackground{background-color:#fff!important;border-radius:4px;border:1px solid #eee}\n",document.head.appendChild(a);const _={class:"bindVerify h-full bg-white"},V={class:"content"},$={style:{"margin-top":"22px"}},E={style:{"margin-top":"22px"}};e("default",t({__name:"index",setup(e){const a=l(),t=i(),{t:C}=o.useI18n(),T=d(""),z=d(""),I=d(0),N=d(""),B=n(),F=d(!1),P=d("修改手机号码");r(()=>{const e=B.userInfo.phone;if(e&&!B.phoneverif){const a=e.split(" ");P.value="bindPhone",I.value=Number(a[0]),T.value=a[1];for(const e in j)j[e].dialCode===Number(a[0])&&(N.value=j[e].code)}});const S=()=>{""!=T.value?/^[0-9]+$/.test(T.value)?""!=z.value?(F.value=!0,U()):v(C("请输入登录密码")):v(C("请输入正确的手机号码")):v(C("entryPhone"))},U=()=>{g({target:`${I.value} ${T.value}`,phone:`${I.value} ${T.value}`,password:z.value}).then(e=>{(async()=>{await B.getUserInfo(!0),v(C("bindSuccess")),F.value=!1,setTimeout(()=>{a.query.reset?t.go(-2):t.back()},1e3)})()}).catch(e=>{console.log(e),F.value=!1})},q=(e,a,t)=>{console.log(a),N.value=a,I.value=t},A=d(null),D=()=>{A.value.open()};return(e,a)=>{const t=h,l=f;return c(),p("div",_,[s(t,null,{title:u(()=>[m(y(x(C)(P.value)),1)]),_:1}),b("div",V,[b("div",$,[s(w,{label:x(C)("phoneNum"),placeholderText:x(C)("entryPhone"),modelValue:T.value,"onUpdate:modelValue":a[0]||(a[0]=e=>T.value=e),area:!0,onSelectArea:D,dialCode:I.value,icon:N.value},null,8,["label","placeholderText","modelValue","dialCode","icon"])]),b("div",E,[s(w,{label:e.$t("登录密码"),placeholderText:e.$t("请输入登录密码"),modelValue:z.value,"onUpdate:modelValue":a[1]||(a[1]=e=>z.value=e),typeText:"password",clearBtn:!1},null,8,["label","placeholderText","modelValue"])]),s(l,{class:"w-full",style:{"margin-top":"30px"},type:"primary",loading:F.value,onClick:S},{default:u(()=>[m(y(e.$t("confirm")),1)]),_:1},8,["loading"])]),s(k,{ref_key:"controlChildRef",ref:A,title:e.$t("selectArea"),onGetName:q},null,8,["title"])])}}},[["__scopeId","data-v-cab0a7d6"]]))}}});
