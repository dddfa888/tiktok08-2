import{_ as le,i as oe,v as ne,a0 as ie,l as ce,r as l,q as ue,B as de,P as re,m as ve,o as u,c as d,b as g,w as h,a as s,t as c,n as y,u as o,x as D,M as pe,T as Q,a9 as fe,ap as me,d as L,F as M,E as J,y as H,Z as ge,I as he}from"./index-55507c28.js";import{P as ye}from"./index-16851c38.js";import{L as ke}from"./index-748d9839.js";import{c as Ae,g as be}from"./product.api-71b8732b.js";import{e as _e}from"./editProfit-6278ed92.js";import"./index-260e30ee.js";import"./___vite-browser-external_commonjs-proxy-685e0cd7.js";import"./index-64f4bac7.js";import"./index-ae8bb03f.js";import"./index-6e53b41f.js";import"./index-3bdff75a.js";import"./use-id-acc627d9.js";import"./index-316b036f.js";import"./function-call-cafb329d.js";const Ie="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2RkExMEI5MkQ1NEMxMUVEQUQ2RDhGQzcyMkRFNDQ2RSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo2RkExMEI5M0Q1NEMxMUVEQUQ2RDhGQzcyMkRFNDQ2RSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjZGQTEwQjkwRDU0QzExRURBRDZEOEZDNzIyREU0NDZFIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjZGQTEwQjkxRDU0QzExRURBRDZEOEZDNzIyREU0NDZFIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8++lp+GgAAAvdJREFUeNrUmd1t4kAQxzfWvcepIE4FZwTvcSo4UoFNBSEV4FQQUwFOBXepAHhHiq8Clg7cATcbjXXLZNZe468w0l+KIIYf49n58tXxeBSXZo64QLsaj8dNrvdAAcgHXYNcVA46gCQoA21MH7Db7Wp/6Y8zQBXkFBQioI3lCP4OSvsMDwW7Rj3VABb4v+qHrkB7UNQ1tIveWSN4U/M0eK8LaBWrHxgK3C3fgp5BD6A7dUZQN6AR6BH0hrHNwe8nk8mizYMYGuJPwS5BCf5taxHqnnkvgQP53NTTJuAX9GhcE1jg56nwmjGen4PHV02gfQZY4u0+B5aDV+H0h94J21BxmDj7zQA/YL5tyyTG+5K8HgP4tC50TE50ASw7Km5zPKi6rQDctYWOmCzRJbAOnpEUu7CFXjCHrmtgVcZzDBV6ML0q6IAJi7ivBgjAJTqJ3oFS6Ijxct9G835oim1Hy8u6l9O+iTFM3khs+yZo2k9sBmyVae6e2kK/DwidkRC5N0H7zIWDGIaIJMWOhb5mqtWQ9lePay71OdgAfRfgix1s5SVCezbQ+zoX9GC3zNDxBfrA9NNDml4Fc8woX6AzZuoexDBT+IZMcgJNK+CvAb1sVZ0dpgoFNXcabVpYUdZPssfSti3sMDQC4mkJ8ZyVQSfk9acBMsmrbXvsaGmFtoWrHr08JwdQeTm1KS4xE9vznjLGos4Q4pDy+cLcsrDj6rcmB39b5mWujCdMmkk78ngBTGfT6Jze45FpWl6rxvozUtuHaHFrmhv2HbFovlsuvJsaasHn+2Xrg7IuTwp+FeaJ08W4jadc8X8hv2eqXl4X3OaZS4J5u2yuk9gnSA1UfelPTGWmCrvFHx8wKfbTcbgTqQ0ttA9tq+DkmKmS4kEReDayBbcdAjY4ls0ajmQF7B2twpjmZjahUndySfELR9ivbC2uOeD/qjNyI0p23LbgTZ8j6oODq0kimBQVS3juOWJVqLQF3WTXYSrvJvDRt33MXBIq0T8BBgA0uu1O4qhZPgAAAABJRU5ErkJggg==";const we={class:"product"},xe={class:"dropdown"},Ze={class:"p-2.5 bg-white flex justify-between items-center w-full h-full"},Re={class:"text-xs"},Se={class:"p-2.5 bg-white flex justify-between items-center w-full h-full"},De={class:"text-xs"},Be={class:"classify-pop-content"},Ne={class:"title"},je={class:"content"},Ee=["onClick"],Ce={class:"classify-pop-content"},Ge={class:"title"},Qe={class:"content"},Le=["onClick"],Me={class:"pl-3 pr-3"},Je=["onClick"],Ue={class:"flex-1 flex left"},Te={class:"product-img-wrap"},ze=["src"],Fe={class:"name"},Ve={class:"Specification"},We={class:"money"},Xe={__name:"list",setup(He){const k=oe(),{t:i}=ne.useI18n();ie();const Y=ce();l(""),l(!1);let w=l(1),f=l(!1),B=l(!1),A=l([]);const r=l([]),N=l(!1),x=l(!1),U=l(!1),T=l(!1),v=l(0);ue(()=>{sessionStorage.setItem("productReload",!0),P(),V()});const P=async()=>{let t={};await de().then(m=>{t=m||{}}),await re().then(m=>{const _=Number(m.status);let I=_;_===2?I=3:_===3&&(I=2),t.authStatus=I});const{avatar:e,name:n,authStatus:p}=t;!e||!n?v.value=1:(p===0||p===1||p===2)&&(v.value=2),T.value=!0},O=()=>{const t=v.value===1?"/shop/settings":"/name";pe(t)},q=()=>{B.value=!1},K=()=>{if(A.value=[],r.value.map(t=>{t.check&&A.value.push(t.id)}),A.value.length>200){Q(i("一次性最多上架",{maxNum:200}));return}A.value.length?B.value=!0:Q(i("请选择商品"))},z=()=>{w.value=1,r.value=[],j()},j=()=>{let t={pageNum:w.value,pageSize:20};b.value?t.secondaryCategoryId=b.value:t.categoryId=S.value,be(t).then(e=>{x.value&&(x.value=!1),w.value++;for(let n=0;n<e.pageList.length;n++)e.pageList[n].check=!1,r.value.push(e.pageList[n]);N.value=!1,e.pageList.length==0&&(U.value=!0)})},E=l([]),F=l(i("一级分类")),C=l(i("二级分类")),Z=l(!1),R=l(!1),S=l(""),b=l(""),V=()=>{Ae().then(t=>{const e=t||[];e.unshift({name:i("全部分类"),categoryId:"",subList:[]}),E.value=e.filter(n=>n.name)})},$=ve(()=>{const t=E.value.find(n=>n.categoryId===S.value);let e=[{name:i("全部分类"),categoryId:""}];if(t&&t.subList&&t.subList.length){const n=t.subList.filter(p=>p.name);e=[...e,...n]}return e}),W=(t,e)=>{e?(F.value=t.name,S.value=t.categoryId,Z.value=!1,C.value=i("二级分类"),b.value=""):(C.value=t.name,b.value=t.categoryId,R.value=!1),Q.loading({duration:0,forbidClick:!0}),f.value=!1,w.value=1,r.value=[],X(),j()},ee=()=>{f.value=!f.value,r.value.map(t=>{f.value?t.check=!0:t.check=!1})},X=()=>{let t=0;return r.value.map(e=>{e.check&&(t=t+1)}),t},te=()=>{Y.push("/search?id=2")},se=()=>{f.value=!1,V(),z()},ae=t=>{t.check=!t.check;const e=r.value.filter(n=>n.check);f.value=r.value.length===e.length};return(t,e)=>{const n=fe,p=he,m=me,_=ke,I=ye;return u(),d("div",we,[g(n,{fixed:""},{title:h(()=>[L(c(o(i)("product.2")),1)]),right:h(()=>[s("img",{onClick:te,class:"nav_filtering_icon",src:Ie})]),_:1}),s("div",xe,[s("div",{class:"dropdownitem one h-10.5",onClick:e[0]||(e[0]=a=>Z.value=!0)},[s("div",Ze,[s("span",Re,c(F.value),1),e[6]||(e[6]=s("div",{class:"triangle"},null,-1))])]),s("div",{class:"dropdownitem one h-10.5",onClick:e[1]||(e[1]=a=>R.value=!0)},[s("div",Se,[s("span",De,c(C.value),1),e[7]||(e[7]=s("div",{class:"triangle"},null,-1))])])]),g(m,{show:Z.value,"onUpdate:show":e[2]||(e[2]=a=>Z.value=a),round:""},{default:h(()=>[s("div",Be,[s("div",Ne,c(o(i)("一级分类")),1),s("div",je,[(u(!0),d(M,null,J(E.value,a=>(u(),d("div",{key:a.categoryId,class:"classify-item",onClick:G=>W(a,!0)},[L(c(a.name)+" ",1),S.value===a.categoryId?(u(),H(p,{key:0,name:"success",class:"yes"})):D("",!0)],8,Ee))),128))])])]),_:1},8,["show"]),g(m,{show:R.value,"onUpdate:show":e[3]||(e[3]=a=>R.value=a),round:""},{default:h(()=>[s("div",Ce,[s("div",Ge,c(o(i)("二级分类")),1),s("div",Qe,[(u(!0),d(M,null,J($.value,a=>(u(),d("div",{key:a.categoryId,class:"classify-item",onClick:G=>W(a,!1)},[L(c(a.name)+" ",1),b.value===a.categoryId?(u(),H(p,{key:0,name:"success",class:"yes"})):D("",!0)],8,Le))),128))])])]),_:1},8,["show"]),s("div",{class:y(["list mt-4 mb-4",o(k)?"ml-4":"mr-4"])},[g(I,{"loading-text":t.$t("加载中"),"loosing-text":t.$t("释放以刷新"),"pulling-text":t.$t("下拉以刷新"),modelValue:x.value,"onUpdate:modelValue":e[5]||(e[5]=a=>x.value=a),onRefresh:z},{default:h(()=>[g(_,{loading:N.value,"onUpdate:loading":e[4]||(e[4]=a=>N.value=a),"loading-text":t.$t("加载中"),finished:U.value,"finished-text":o(i)("product.3"),onLoad:j},{default:h(()=>[(u(!0),d(M,null,J(r.value,(a,G)=>(u(),d("div",{class:"item pb-3 pt-3 flex",key:G},[s("div",Me,[s("div",{class:y(["check-icon",[a.check?"check-true ":"check"]]),onClick:Ye=>ae(a)},[...e[8]||(e[8]=[s("i",{class:"iconfont icon-duigoux"},null,-1)])],10,Je)]),s("div",Ue,[s("div",Te,[s("img",{class:"w-20 h-20",style:{"object-fit":"contain"},src:a.imgUrl1},null,8,ze)]),s("div",{class:y(["product-info",{"is-ar":o(k)}])},[s("div",Fe,c(a.name),1),s("div",Ve,[s("span",null,c(a.categoryName),1)]),s("div",We,"$"+c(o(ge)(a.systemPrice)),1)],2)])]))),128))]),_:1},8,["loading","loading-text","finished","finished-text"])]),_:1},8,["loading-text","loosing-text","pulling-text","modelValue"]),T.value?(u(),d("div",{key:0,class:y(["flex fixed-wrap",{"pl-3":!o(k)&&!v.value,"pr-3":o(k)&&!v.value}])},[v.value?D("",!0):(u(),d("div",{key:0,class:"flex-1 flex",onClick:ee},[s("div",{class:y(["check-icon",[o(f)?"check-true ":"check"]])},[...e[9]||(e[9]=[s("i",{class:"iconfont icon-duigoux"},null,-1)])],2),s("div",{class:y(o(k)?"pr-2":"pl-2")},c(o(i)("product.5"))+": "+c(X()),3)])),v.value?(u(),d("div",{key:2,class:"submit-but disabled",onClick:O},c(v.value===1?o(i)("product.34"):o(i)("product.35")),1)):(u(),d("div",{key:1,class:"submit-but",onClick:K},c(o(i)("product.6")),1))],2)):D("",!0)],2),g(_e,{isEdit:o(B),onUpdate:se,productArry:o(A),onClose:q},null,8,["isEdit","productArry"])])}}},ut=le(Xe,[["__scopeId","data-v-8f93dd0a"]]);export{ut as default};
