import{aq as D,e as F,r as k,aI as W,ar as g,m as w,b7 as tt,q as et,f as z,ay as j,b as h,K as ot,aG as nt,as as q,aH as st,bC as ct,bw as C,s as at,aJ as it,bn as rt,bm as K,p as lt,aw as dt,bL as ut,cz as ht,av as X,_ as ft,a0 as pt,l as mt,o as N,c as H,w as M,u as vt,a8 as gt,a9 as _t,d as xt,F as yt,E as bt,a as Tt}from"./index-55507c28.js";import"./index-6e53b41f.js";import"./index-3bdff75a.js";import{S as kt}from"./index-29b5376b.js";import"./use-id-acc627d9.js";function St(){const o="A".charCodeAt(0);return Array(26).fill("").map((e,d)=>String.fromCharCode(o+d))}const[Y,A]=D("index-bar"),Rt={sticky:nt,zIndex:q,teleport:[String,Object],highlightColor:String,stickyOffsetTop:st(0),indexList:{type:Array,default:St}},G=Symbol(Y);var At=F({name:Y,props:Rt,emits:["select","change"],setup(o,{emit:p,slots:e}){const d=k(),_=k(),i=k(""),x=W(),u=g.useScrollParent(d),{children:s,linkChildren:y}=g.useChildren(G);let c;y({props:o});const S=w(()=>{if(tt(o.zIndex))return{zIndex:+o.zIndex+1}}),I=w(()=>{if(o.highlightColor)return{color:o.highlightColor}}),P=(t,n)=>{for(let a=s.length-1;a>=0;a--){const l=a>0?n[a-1].height:0,r=o.sticky?l+o.stickyOffsetTop:0;if(t+r>=n[a].top)return a}return-1},E=t=>s.find(n=>String(n.index)===t),R=()=>{if(ct(d))return;const{sticky:t,indexList:n}=o,a=C(u.value),l=g.useRect(u),r=s.map(b=>b.getRect(u.value,l));let m=-1;if(c){const b=E(c);if(b){const v=b.getRect(u.value,l);m=P(v.top,r)}}else m=P(a,r);i.value=n[m],t&&s.forEach((b,v)=>{const{state:f,$el:Q}=b;if(v===m||v===m-1){const T=Q.getBoundingClientRect();f.left=T.left,f.width=T.width}else f.left=null,f.width=null;if(v===m)f.active=!0,f.top=Math.max(o.stickyOffsetTop,r[v].top-a)+l.top;else if(v===m-1&&c===""){const T=r[m].top-a;f.active=T>0,f.top=T+l.top-r[v].height}else f.active=!1}),c=""},L=()=>{at(R)};g.useEventListener("scroll",R,{target:u,passive:!0}),et(L),z(()=>o.indexList,L),z(i,t=>{t&&p("change",t)});const J=()=>o.indexList.map(t=>{const n=t===i.value;return h("span",{class:A("index",{active:n}),style:n?I.value:void 0,"data-index":t},[t])}),O=t=>{c=String(t);const n=E(c);if(n){const a=C(u.value),l=g.useRect(u),{offsetHeight:r}=document.documentElement;if(n.$el.scrollIntoView(),a===r-l.height){R();return}o.sticky&&o.stickyOffsetTop&&rt(K()-o.stickyOffsetTop),p("select",n.index)}},$=t=>{const{index:n}=t.dataset;n&&O(n)},U=t=>{$(t.target)};let B;const Z=t=>{if(x.move(t),x.isVertical()){it(t);const{clientX:n,clientY:a}=t.touches[0],l=document.elementFromPoint(n,a);if(l){const{index:r}=l.dataset;r&&B!==r&&(B=r,$(l))}}},V=()=>h("div",{ref:_,class:A("sidebar"),style:S.value,onClick:U,onTouchstartPassive:x.start},[J()]);return j({scrollTo:O}),g.useEventListener("touchmove",Z,{target:_}),()=>{var t;return h("div",{ref:d,class:A()},[o.teleport?h(ot,{to:o.teleport},{default:()=>[V()]}):V(),(t=e.default)==null?void 0:t.call(e)])}}});const[wt,Ct]=D("index-anchor"),It={index:q};var Pt=F({name:wt,props:It,setup(o,{slots:p}){const e=lt({top:0,left:null,rect:{top:0,height:0},width:null,active:!1}),d=k(),{parent:_}=g.useParent(G);if(!_)return;const i=()=>e.active&&_.props.sticky,x=w(()=>{const{zIndex:s,highlightColor:y}=_.props;if(i())return dt(ut(s),{left:e.left?"".concat(e.left,"px"):void 0,width:e.width?"".concat(e.width,"px"):void 0,transform:e.top?"translate3d(0, ".concat(e.top,"px, 0)"):void 0,color:y})});return j({state:e,getRect:(s,y)=>{const c=g.useRect(d);return e.rect.height=c.height,s===window||s===document.body?e.rect.top=c.top+K():e.rect.top=c.top+C(s)-y.top,e.rect}}),()=>{const s=i();return h("div",{ref:d,style:{height:s?"".concat(e.rect.height,"px"):void 0}},[h("div",{style:x.value,class:[Ct({sticky:s}),{[ht]:s}]},[p.default?p.default():o.index])])}}});const Et=X(Pt),Lt=X(At);const Ot={class:"selectPay pb-10"},$t={__name:"selectPay",setup(o){pt();const p=mt();let e=k("");const d=()=>{p.push("add")};return(_,i)=>{const x=_t,u=kt,s=Et,y=Lt;return N(),H("div",Ot,[h(x,null,{title:M(()=>[...i[2]||(i[2]=[xt("全部收款方式",-1)])]),_:1}),h(u,{modelValue:vt(e),"onUpdate:modelValue":i[0]||(i[0]=c=>gt(e)?e.value=c:e=c),placeholder:"请输入搜索关键词"},null,8,["modelValue"]),h(y,null,{default:M(()=>[h(s,{class:"index-anchor",index:"A"}),(N(),H(yt,null,bt(10,(c,S)=>Tt("div",{onClick:i[1]||(i[1]=I=>d()),class:"item-cell ml-4 py-4",key:S},"Asia Hawala ")),64))]),_:1})])}}},Mt=ft($t,[["__scopeId","data-v-6dfd5176"]]);export{Mt as default};
