import{_ as K,i as q,c4 as x,v as j,a0 as Z,l as W,r as p,q as ss,m as ts,T as U,bh as es,f as ls,H as os,s as ns,o as u,c,b as L,w as E,a as s,t,d as r,u as e,x as B,n as f,Z as A,bg as is,a9 as as,ae as O,F as Y,E as V}from"./index-55507c28.js";import{L as ds}from"./index-748d9839.js";import{l as us}from"./config-3fe7fd75.js";import{c as cs}from"./index-021b9a81.js";import{D as rs}from"./decimal-2def1975.js";const As={class:"list"},ps={class:"flex"},vs=["src"],gs={class:"info-list"},fs={key:0,class:"info-list"},hs={class:"info-list"},ms={class:"info-list"},_s={class:"info-list"},ys={class:"info-list"},Bs={class:"info-list"},Cs={class:"info-list"},Is={class:"info-list"},ws={class:"info-list"},Ts={class:"info-list"},Rs={class:"info-list"},Ds={class:"info-list"},ks={class:"info-list"},Qs={class:"info-list"},Ss={class:"goods-sn"},Js=["onClick","src"],Us={class:"goods-info"},Ls={class:"pic"},Es=["src"],Os={class:"name"},Ys={class:"title"},Vs={key:0,class:"item"},Xs={class:"col"},Fs={class:"title money"},Ns={class:"list"},Ms={key:0,class:"list price-content"},bs={class:"list"},zs={class:"list"},Gs={class:"list"},$s={class:"total"},Ps=["src"],Hs=["src"],Ks={__name:"orderdeails",setup(qs){const X="tiktokMall",C=q(),{text:xs,copy:F,copied:N,isSupported:js}=x(),h={copy:new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGHSURBVHgB7ZZRaoNAEIZHU/KcG9QjeITmBh6hAUF8a08QeoI+iiCYI3iD5ia1N8izoHb+oOBDZ7Mj0VDYD3RX2V3+nZ1/d4kcDseyeDSDLMuCzWZT9n0f8ufOstuF21f8fKRpWtO9BEGM7/tfXA1oHnXXdXtJ1BMp4cgceZYBVyuuv8Vx/GPTbxLVF8/zjvzr8Fc7n5TwgBFKnuW7rRiAiLRtexXBgiKpnVoQDTljygOTqOkY9xK0KMYcMrkpz/Ne6GblJgnfJAZuQhKSvbXBjnPkFX0xBikRIzR103a7PTAXsmCYyCdXI0SXyz0pECM0dZOtGIBlwgSGMUJSYkrq2W6aTECz1DcFPQQn6BarCppsA6JJVhNUluVu2A7gvkpqpz7ttYw7etM0468au7jUfs0lw5FyNt2FwOIRSpJEdQn8Vy67OqEoimdSYuOmOYLOePGanzSn9nhlQd3kJgkxh3Cosk1DXD+4/Ga3kC3cB4XRTRJihOAEOILvNifShd7KTQ6H41H8AlaGxT2u7+jJAAAAAElFTkSuQmCC",self.location),message:new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIOSURBVHgB7ZqBUcMgFIb/eA7gBsYJdIQ6gXYCu4HZwG7QjlA3cIPWCdoNGiewToCPa9RISQqE5AK8746jx1GO9wd4Ly8ADMMwDJMsGRwRQkyoyhEGmyzLSviCjF+K8FjABzRQIcKlUO2x3gI0yJaqO4RJSVvhpt5wAXtCNV7LJezZYJzIB3OFlBHH8+mz5QzYI3bIyImNAFnLQHI55Rj/strRwXaoN9DcX6iaa/qeHIJaDJbS2Jgr888b+p3fAtRpJsKkUOzQPcATAXRu8Blhos77YPInnQChupIcDrgEQlHBAiBxWAAkjsvLUJ0llTf0x6wqwyGDBWFO7y5TWESkBnYYBUI2PKBHaMI5eo5Lum6BVRWCGkVdlvy8jPVKVwEkQWeI2A0icVgAJA4LgMTxEQov4c6Uip9vdr4QdqHwNTpCY2yFJwzs8B4KT9EBMUCoq1CqDSffBSqVcnQY1IIreBSAcv6/9jTYMaEu7/UGH6FwjvGzo1Koxkt8CDBWJlX9pX45qhOtAGT0h0k/DoSQODEJ4JSU0QmwQpg4JWd1cYD0y2uElekpqdy73AVsuyAxo+oW/wMV+fsRdpTo916R9PGvba7OG6L54kETCzFA6nwwLASQuXzblTJ+DAVYi+NLTnwYCBDq7RIzWgTYU4nqBqmWBgHiOujOIf4yLXEedOeoVsFTUk+dYRiGYeLkG1MiomwWvzjBAAAAAElFTkSuQmCC",self.location),car:new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAvCAMAAACIYFl1AAAAPFBMVEUAAAD////////////////////////////////////////////////////////////////////////////YSWgTAAAAE3RSTlMA32C/IJ9A7xB/z49fb68/T4AwEHD0oQAAASZJREFUSMft1tuSgjAQBNAOM5MLd+X//3UhLIasIwXZXZ/sBys6HntKKQv8dXx1Klaz7KZz6RQcppMxCpYP/n/s7XfoOm7OARXfpnJcTb/ApginYtPGuKuYl+L28g7m8U3XKMO8nIZCLPNBUIbtcuBCbGJxGa5icRmOP1ODMhyvDy7EFP9DC/H84HiXqzjPB78Fu5rIHb6ZqNaxGT3mDPJCuhDnLApOV3eltte8zdn8xAHwHRkSBu5OsR6wvanFRp1hk166Ad3zzgxPjxVtjofdMiOQV69Cns8GtBZLalHuShhjemK3agELUQBMNqQ8PdDv1/C0JHis8VNKCyV1mgu2FOAeebK1Bw03R/duYXfdaLEJ8+u9XJrpnx6UoZe19w4cabdf+gv+kJCs29FzFgAAAABJRU5ErkJggg==",self.location)},{t:a}=j.useI18n(),R=Z(),D=W(),k=R.query.id;let o=p({});const m=p([]),_=p(!1),I=p(!1),w=p({pageNum:1});ss(()=>{$()});const M=ts(()=>{const{sellerDiscountPrice:l,systemPrice:n,sellerFees:d,tax:g}=o.value;return A(Number(l||n)+Number(d)+Number(g))}),b=()=>{D.push({path:"/messageCenter",query:{partyId:o.value.partyId,username:o.value.email}})},z=()=>{D.push({path:"/order-logistics",query:{id:R.query.id}})},G=()=>{const l={...w.value,orderId:k};is(l).then(n=>{const d=n.pageList||[];m.value=w.value.pageNum===1?d:[...m.value,...d],m.value.forEach(g=>{g.goodType=="虚拟商品"&&(o.value.goodType="virtual")}),w.value.pageNum++,_.value=!1,I.value=n.pageInfo.lastPage}).catch(()=>{I.value=!0,_.value=!1})},$=()=>{U.loading({duration:0,forbidClick:!0}),es({orderId:k}).then(l=>{o.value=l.orderInfo})},Q=cs(us);["argos"].includes(X)&&Q.forEach(l=>{l.id===4&&(l.txt="订单已完成"),l.id===5&&(l.txt="买家已签收")});const P=l=>{const n=Q.find(d=>d.id===l/1);return n?a(n.txt):""},H=l=>a(l===1?"已支付":"未支付"),T=p(0),y=p(!0),S=()=>{const l=window.scrollY;l>T.value?y.value=!1:l<T.value&&(y.value=!0),T.value=l};ls(N,()=>{U(a("copySuccess"))});const J=l=>{l&&F(l)};return os(()=>{window.document.removeEventListener("scroll",S)}),ns(()=>{window.document.addEventListener("scroll",S)}),(l,n)=>{const d=as,g=ds;return u(),c("div",null,[L(d,{fixed:!0},{title:E(()=>[r(t(l.$t("订单详情")),1)]),_:1}),n[3]||(n[3]=s("div",{style:{height:"46px"}},null,-1)),s("div",{class:f(["section",{"is-ar":e(C)}])},[s("div",As,[s("div",null,t(l.$t("订单号")),1),s("div",ps,[r(t(e(o).id)+" ",1),s("img",{class:"w-5 h-5",onClick:n[0]||(n[0]=i=>J(e(o).id)),src:h.copy,alt:""},null,8,vs)])]),s("div",gs,[s("p",null,t(l.$t("下单时间")),1),s("div",null,t(e(O)(e(o).createTime)),1)]),e(o).pushTime?(u(),c("div",fs,[s("p",null,t(l.$t("采购时间")),1),s("div",null,t(e(O)(e(o).pushTime)),1)])):B("",!0),s("div",hs,[s("p",null,t(l.$t("付款方式")),1),s("div",null,t(l.$t("钱包")),1)]),s("div",ms,[s("p",null,t(l.$t("支付状态")),1),s("div",null,t(H(e(o).payStatus)),1)]),s("div",_s,[s("p",null,t(l.$t("物流状态")),1),s("div",null,t(P(e(o).status)),1)]),s("div",ys,[s("p",null,t(l.$t("采购金额")),1),s("div",null,"$"+t(e(A)(e(o).systemPrice)),1)]),s("div",Bs,[s("p",null,t(l.$t("销售金额")),1),s("div",null,"$"+t(e(A)(e(o).prizeReal)),1)]),s("div",Cs,[s("p",null,t(l.$t("姓名")),1),s("div",null,t(e(o).goodType=="virtual"?"---":e(o).username),1)]),s("div",Is,[s("p",null,t(l.$t("邮箱")),1),s("div",null,t(e(o).email),1)]),s("div",ws,[s("p",null,t(l.$t("手机")),1),s("div",null,t(e(o).phone),1)]),s("div",Ts,[s("p",null,t(l.$t("国家")),1),s("div",null,t(e(o).goodType=="virtual"?"---":e(o).country),1)]),s("div",Rs,[s("p",null,t(l.$t("州")),1),s("div",null,t(e(o).goodType=="virtual"?"---":e(o).province),1)]),s("div",Ds,[s("p",null,t(l.$t("城市")),1),s("div",null,t(e(o).goodType=="virtual"?"---":e(o).city),1)]),s("div",ks,[s("p",null,t(l.$t("邮编")),1),s("div",null,t(e(o).goodType=="virtual"?"---":e(o).postcode),1)]),s("div",Qs,[s("p",null,t(l.$t("收货地址")),1),s("div",null,t(e(o).goodType=="virtual"?"---":e(o).address),1)])],2),L(g,{loading:_.value,"onUpdate:loading":n[1]||(n[1]=i=>_.value=i),finished:I.value,"loading-text":e(a)("loading"),onLoad:G},{default:E(()=>[(u(!0),c(Y,null,V(m.value,i=>(u(),c("div",{class:f(["listitem",{"is-ar":e(C)}])},[s("div",Ss,[s("p",null,t(e(a)("产品编号")),1),s("div",null,[s("p",null,t(i.goodsId),1),s("img",{class:"w-5 h-5",onClick:v=>J(i.goodsId),src:h.copy,alt:""},null,8,Js)])]),s("div",Us,[s("div",Ls,[s("img",{src:i.goodsIcon},null,8,Es)]),s("div",Os,[s("p",Ys,t(i.goodsName),1),i.attributes&&i.attributes.length?(u(!0),c(Y,{key:0},V(i.attributes,v=>(u(),c("div",{key:v.attrValueId,class:"spec"},[v.attrName&&v.attrValue?(u(),c("div",Vs,[s("p",null,t(v.attrName)+"：",1),s("p",null,t(v.attrValue),1)])):B("",!0)]))),128)):B("",!0),s("p",Xs,[s("p",Fs,"$"+t(e(A)(i.systemPrice)),1),s("span",null,"x"+t(i.goodsNum),1)])])])],2))),256))]),_:1},8,["loading","finished","loading-text"]),s("div",{class:f(["section bottom",{"is-ar":e(C)}])},[s("div",Ns,[r(t(l.$t("小计"))+" ",1),s("span",null,"$"+t(e(A)(e(o).systemPrice)),1)]),e(o).sellerDiscountPrice?(u(),c("div",Ms,[n[2]||(n[2]=s("span",null,null,-1)),s("p",null,[r(t(e(a)("采购优惠")),1),s("span",null,t(new(e(rs))(e(o).sellerDiscount).mul(100))+"%",1),r(", "+t(e(a)("优惠价")),1),s("span",null,"$"+t(e(A)(e(o).sellerDiscountPrice)),1)])])):B("",!0),s("div",bs,[r(t(l.$t("税"))+" ",1),s("span",null,"$"+t(e(A)(e(o).tax)),1)]),s("div",zs,[r(t(l.$t("运费"))+" ",1),s("span",null,"$"+t(e(A)(e(o).sellerFees)),1)]),s("div",Gs,[r(t(l.$t("合计"))+" ",1),s("span",$s,"$"+t(M.value),1)])],2),s("div",{class:f(["right-fixed-enter",{active:y.value}]),onClick:z},[s("img",{src:h.car,alt:""},null,8,Ps)],2),s("div",{class:f(["right-fixed-enter message",{active:y.value}]),onClick:b},[s("img",{src:h.message,alt:""},null,8,Hs)],2)])}}},lt=K(Ks,[["__scopeId","data-v-f1f1a726"]]);export{lt as default};
