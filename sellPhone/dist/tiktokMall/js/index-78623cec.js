import{_ as P,v as b,l as y,r as p,s as V,o as $,c as h,b as o,w as m,a as v,T as n,cf as x,a9 as k,d as w,t as _}from"./index-55507c28.js";import{B as I}from"./index-64f4bac7.js";import{E as i}from"./index-5f89f735.js";import"./index-6e53b41f.js";import"./index-3bdff75a.js";import"./use-id-acc627d9.js";const U={class:"changePassword"},B={class:"content"},N={__name:"index",setup(R){const{t}=b.useI18n(),c=y(),r=p(!1),d=p(""),a=p(""),u=p(""),f=()=>{if(d.value===""){n(t("请输入原密码"));return}if(a.value===""){n(t("请设置新密码"));return}if(!/^[A-Za-z0-9!@#$%^&*_()<>.?\/\\{}[\]|,~+:;']+$/.test(a.value)||a.value.length<6||a.value.length>20)return n(t("setPasswordTips")),!1;if(a.value!==u.value){n(t("两次密码输入不一致"));return}r.value=!0,x({old_password:encodeURI(d.value),password:encodeURI(a.value),re_password:encodeURI(u.value)}).then(s=>{n(t("changeSuccess")),r.value=!1,setTimeout(()=>{c.back()},1e3)}).catch(s=>{r.value=!1})};return V(()=>{const e="tiktokMall";["familyMart"].includes(e)&&c.back()}),(e,s)=>{const T=k,g=I;return $(),h("div",U,[o(T,null,{title:m(()=>[w(_(e.$t("changeLoginPassword")),1)]),_:1}),s[3]||(s[3]=v("div",{class:"line"},null,-1)),v("div",B,[o(i,{label:e.$t("oldPassword"),placeholderText:e.$t("entryPassword"),modelValue:d.value,"onUpdate:modelValue":s[0]||(s[0]=l=>d.value=l),typeText:"password"},null,8,["label","placeholderText","modelValue"]),o(i,{label:e.$t("newPassword"),placeholderText:e.$t("entryPassword"),tips:e.$t("setPasswordTips"),modelValue:a.value,"onUpdate:modelValue":s[1]||(s[1]=l=>a.value=l),typeText:"password"},null,8,["label","placeholderText","tips","modelValue"]),o(i,{label:e.$t("sureNewPassword"),placeholderText:e.$t("entryPassword"),tips:e.$t("setPasswordTips"),modelValue:u.value,"onUpdate:modelValue":s[2]||(s[2]=l=>u.value=l),typeText:"password"},null,8,["label","placeholderText","tips","modelValue"]),o(g,{class:"w-full btn-content",type:"primary",loading:r.value,onClick:f},{default:m(()=>[w(_(e.$t("sure")),1)]),_:1},8,["loading"])])])}}},z=P(N,[["__scopeId","data-v-a36e5a3d"]]);export{z as default};
