System.register(["./index-legacy-27bdf402.js"],function(e,t){"use strict";var a,s,n,r,i,l,o,u,d,h,c,p,v,f,g;return{setters:[e=>{a=e.aq,s=e.ax,n=e.as,r=e.e,i=e.r,l=e.ar,o=e.p,u=e.aI,d=e.f,h=e.b,c=e.X,p=e.aJ,v=e.s,f=e.bw,g=e.av}],execute:function(){var t=document.createElement("style");t.textContent=":root{--van-pull-refresh-head-height: 50px;--van-pull-refresh-head-font-size: var(--van-font-size-md);--van-pull-refresh-head-text-color: var(--van-text-color-2);--van-pull-refresh-loading-icon-size: 16px }.van-pull-refresh{overflow:hidden}.van-pull-refresh__track{position:relative;height:100%;-webkit-transition-property:-webkit-transform;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform}.van-pull-refresh__head{position:absolute;left:0;width:100%;height:var(--van-pull-refresh-head-height);overflow:hidden;color:var(--van-pull-refresh-head-text-color);font-size:var(--van-pull-refresh-head-font-size);line-height:var(--van-pull-refresh-head-height);text-align:center;-webkit-transform:translateY(-100%);transform:translateY(-100%)}.van-pull-refresh__loading .van-loading__spinner{width:var(--van-pull-refresh-loading-icon-size);height:var(--van-pull-refresh-loading-icon-size)}\n",document.head.appendChild(t);const[m,x,b]=a("pull-refresh"),w=["pulling","loosing","success"],T={disabled:Boolean,modelValue:Boolean,headHeight:s(50),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:n,successDuration:s(500),animationDuration:s(300)};var y=r({name:m,props:T,emits:["change","refresh","update:modelValue"],setup(e,{emit:t,slots:a}){let s;const n=i(),r=i(),g=l.useScrollParent(n),m=o({status:"normal",distance:0,duration:0}),T=u(),y=()=>{if(50!==e.headHeight)return{height:`${e.headHeight}px`}},D=()=>"loading"!==m.status&&"success"!==m.status&&!e.disabled,_=(a,s)=>{const n=+(e.pullDistance||e.headHeight);m.distance=a,m.status=s?"loading":0===a?"normal":a<n?"pulling":"loosing",t("change",{status:m.status,distance:a})},k=()=>{const{status:t}=m;return"normal"===t?"":e[`${t}Text`]||b(t)},z=()=>{const{status:e,distance:t}=m;if(a[e])return a[e]({distance:t});const s=[];return w.includes(e)&&s.push(h("div",{class:x("text")},[k()])),"loading"===e&&s.push(h(c,{class:x("loading")},{default:k})),s},H=e=>{s=0===f(g.value),s&&(m.duration=0,T.start(e))},S=e=>{D()&&H(e)},V=()=>{s&&T.deltaY.value&&D()&&(m.duration=+e.animationDuration,"loosing"===m.status?(_(+e.headHeight,!0),t("update:modelValue",!0),v(()=>t("refresh"))):_(0))};return d(()=>e.modelValue,t=>{m.duration=+e.animationDuration,t?_(+e.headHeight,!0):a.success||e.successText?(m.status="success",setTimeout(()=>{_(0)},+e.successDuration)):_(0,!1)}),l.useEventListener("touchmove",t=>{if(D()){s||H(t);const{deltaY:a}=T;T.move(t),s&&a.value>=0&&T.isVertical()&&(p(t),_((t=>{const a=+(e.pullDistance||e.headHeight);return t>a&&(t=t<2*a?a+(t-a)/2:1.5*a+(t-2*a)/4),Math.round(t)})(a.value)))}},{target:r}),()=>{var e;const t={transitionDuration:`${m.duration}ms`,transform:m.distance?`translate3d(0,${m.distance}px, 0)`:""};return h("div",{ref:n,class:x()},[h("div",{ref:r,class:x("track"),style:t,onTouchstartPassive:S,onTouchend:V,onTouchcancel:V},[h("div",{class:x("head"),style:y()},[z()]),null==(e=a.default)?void 0:e.call(a)])])}}});e("P",g(y))}}});
