import{_ as j,i as M,v as G,j as O,l as H,r as p,m as q,p as J,o as m,c as w,b as i,u as t,a,t as c,F as K,E as Q,x as b,n as V,d as I,w as W,z as X,T as d,G as Y,B as ee}from"./index-55507c28.js";import{B as se}from"./index-64f4bac7.js";import{l as T}from"./config-25d1c5d0.js";import{I as v}from"./index-6acd675e.js";import{M as ae}from"./vue3-puzzle-vcode.es-f2e9b02b.js";import{_ as oe}from"./login.api-f8cfd6d7.js";import"./index-6e53b41f.js";import"./index-3bdff75a.js";import"./use-id-acc627d9.js";const te={class:"header-content"},ne={class:"logo-content"},le=["src"],re={class:"type-tab"},ce=["onClick"],de={class:"form-content"},ie={key:0,class:"item"},ue={class:"title"},pe={class:"input-content"},me={key:1,class:"item"},we={class:"title"},ve={class:"input-content"},_e={class:"item"},ge={class:"title"},fe={class:"input-content"},he={class:"item"},ye={class:"title"},ke={class:"input-content"},be={class:"btn"},Ve={__name:"index",setup(Ie){const x=M(),{t:s,locale:Te}=G.useI18n(),S=O(),y=H(),U="tiktokMall",C=p(new URL("/www/png/name-3ddd62dd.png",self.location)),k=q(()=>{const n=T.find(o=>(o.key==="mbuy"?"argos":o.key)===U);return n||T[0]}),L=new URL("/www/png/name-593a7e78.png",self.location),N=new URL("/www/png/name-ae6e9405.png",self.location),P=new URL("/www/png/name-8130147b.png",self.location),R=new URL("/www/png/name-dab02cab.png",self.location),z=new URL("/www/png/name-ca360226.png",self.location),A=[L.href,N.href,P.href,R.href,z.href],_=p(!1),B=["email","phoneNum"],r=p(0),u=p(!1),$=localStorage.getItem("areaCode")?localStorage.getItem("areaCode"):44,g=p($),e=J({username:"",password:"",password1:""}),E=n=>{n!==r.value&&(r.value=n,e.username="",e.password="",e.password1="")},D=()=>{const n=/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/,o=r.value===0?"entryEmail":"entryPhone";if(e.username==="")return d(s(o)),!1;if(r.value===0&&!n.test(e.username)){d(s("请输入正确的邮箱地址"));return}if(r.value===1&&!/^[0-9]+$/.test(e.username)){d(s("请输入正确的手机号码"));return}if(e.password==="")return d(s("entryPassword")),!1;if(!/^[A-Za-z0-9!@#$%^&*_()<>.?\/\\{}[\]|,~+:;']+$/.test(e.password)||e.password.length<6||e.password.length>20)return d(s("setPasswordTips")),!1;if(e.password1==="")return d(s("surePassword")),!1;if(e.password!==e.password1)return d(s("noSamePassword")),!1;_.value=!0},F=()=>{_.value=!1,u.value=!0,oe({username:r.value==0?e.username:"".concat(g.value," ").concat(e.username),password:e.password,confirmPassword:e.password1,re_password:e.password1,type:r.value==0?2:1}).then(async n=>{await S[Y](n),await ee().then(o=>{o.id?localStorage.setItem("sellerId",o.id):localStorage.removeItem("sellerId")}).catch(()=>{u.value=!1}),u.value=!1,d.success(s("registerSuccess")),y.push("/shop")}).catch(n=>{u.value=!1,console.log(n)})},Z=()=>{y.back()};return(n,o)=>{const f=se;return m(),w("div",{style:X({"background-image":"url("+C.value.href+")"}),class:"login-register-content"},[i(t(ae),{successText:t(s)("vertifyPass"),failText:t(s)("vertifuFail"),sliderText:t(s)("vertifyTips"),imgs:A,show:_.value,onSuccess:F},null,8,["successText","failText","sliderText","show"]),a("div",te,[a("h2",null,c(t(s)("register")),1)]),a("div",ne,[a("img",{src:k.value.logo.href,alt:""},null,8,le),a("h2",null,c(k.value.name),1)]),a("div",re,[(m(),w(K,null,Q(B,(l,h)=>a("div",{key:h,class:V([{active:h===r.value},"item"]),onClick:xe=>E(h)},c(t(s)(l)),11,ce)),64))]),a("div",de,[r.value===0?(m(),w("div",ie,[a("div",ue,c(t(s)("email")),1),a("div",pe,[i(v,{modelValue:e.username,"onUpdate:modelValue":o[0]||(o[0]=l=>e.username=l),type:"text",placeholder:t(s)("entryEmail"),clear:""},null,8,["modelValue","placeholder"])])])):b("",!0),r.value===1?(m(),w("div",me,[a("div",we,c(t(s)("phoneNum")),1),a("div",ve,[i(v,{modelValue:e.username,"onUpdate:modelValue":o[1]||(o[1]=l=>e.username=l),codeNum:g.value,"onUpdate:codeNum":o[2]||(o[2]=l=>g.value=l),type:"tel",placeholder:t(s)("entryPhone"),clear:"","area-code":""},null,8,["modelValue","codeNum","placeholder"])])])):b("",!0),a("div",_e,[a("div",ge,c(t(s)("password")),1),a("div",fe,[i(v,{modelValue:e.password,"onUpdate:modelValue":o[3]||(o[3]=l=>e.password=l),type:"password",placeholder:t(s)("entryPassword"),clear:"","show-password":""},null,8,["modelValue","placeholder"])])]),a("div",he,[a("div",ye,c(t(s)("repassword")),1),a("div",ke,[i(v,{modelValue:e.password1,"onUpdate:modelValue":o[4]||(o[4]=l=>e.password1=l),type:"password",placeholder:t(s)("surePassword"),clear:"","show-password":""},null,8,["modelValue","placeholder"])])]),a("div",{class:V(["link-content",{"is-ar":t(x)}])},[o[5]||(o[5]=a("p",null,null,-1)),a("p",null,[I(c(t(s)("hasAccount"))+" ",1),a("span",{class:"link",onClick:Z},c(t(s)("goLogin")),1)])],2),a("div",be,[i(f,{type:"custom",loading:u.value,block:"",onClick:D},{default:W(()=>[I(c(t(s)("register")),1)]),_:1},8,["loading"])])])],4)}}},Be=j(Ve,[["__scopeId","data-v-e3774b5d"]]);export{Be as default};
