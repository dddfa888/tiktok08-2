import{_ as E,v as M,i as P,r as u,o as i,c as _,b as h,w as m,a as e,u as o,a9 as $,d as I,t as l,F as O,E as F,n as f,J as U,ae as j,Z as z,x,y as A,T as H,M as Z}from"./index-55507c28.js";import{P as q}from"./index-16851c38.js";import{L as G}from"./index-748d9839.js";import{E as J}from"./index-94a2e4c2.js";import{m as K}from"./exchange.api-6b2f1fdd.js";import{u as Q}from"./index-76527f4c.js";import"./use-id-acc627d9.js";const W={class:"record"},X={class:"list-wrap"},Y={key:0},ee=["onClick"],se={class:"item"},te={class:"label"},ae=["onClick"],oe={class:"item"},ne={class:"label"},le={class:"value"},re={class:"item"},ie={class:"label"},ce={class:"value"},de={class:"item"},ue={class:"label"},_e={key:0,class:"item"},pe={class:"label"},ve={__name:"record",setup(ge){const{t}=M.useI18n(),w=P(),k=new URL("/www/png/name-20d65991.png",self.location),c=u([]),d=u(!1),p=u(!1),g=u(!1);u(1);const{toClipboard:C}=Q(),T=n=>{var r;return(r={0:t("processing"),1:t("successful"),2:t("failure")}[n])!=null?r:""},b=async n=>{try{await C(n),H(t("copySuccess"))}catch(a){console.error(a)}},v=u({page_no:1}),y=()=>{const n={...v.value};K(n).then(a=>{const r=a.elements||[];c.value=v.value.page_no===1?r:[...c.value,...r],d.value=!1,p.value=!1,g.value=r.length<a.pageSize,v.value.page_no++}).catch(()=>{g.value=!0,d.value=!1,p.value=!1})},L=()=>{d.value=!0,v.value.page_no=1,y()},V=n=>{const a={order_no:n.order_no,isThirdParty:n.isThirdParty};n.state===2&&(a.r=n.failure_msg||"--"),Z({path:"/recharge/record-details",query:a})};return(n,a)=>{const r=$,R=J,B=G,N=q;return i(),_("div",W,[h(r,{fixed:""},{title:m(()=>[I(l(o(t)("rechargeRecord")),1)]),_:1}),e("div",X,[h(N,{modelValue:p.value,"onUpdate:modelValue":a[1]||(a[1]=s=>p.value=s),"pulling-text":o(t)("pullingText"),"loosing-text":o(t)("loosingText"),"loading-text":o(t)("loading"),onRefresh:L},{default:m(()=>[h(B,{loading:d.value,"onUpdate:loading":a[0]||(a[0]=s=>d.value=s),finished:g.value,"loading-text":o(t)("loading"),"finished-text":c.value.length?o(t)("product.3"):"",onLoad:y},{default:m(()=>[c.value.length?(i(),_("ul",Y,[(i(!0),_(O,null,F(c.value,(s,S)=>(i(),_("li",{class:"px-2 mt-4",key:S,onClick:D=>V(s)},[e("div",se,[e("div",te,l(o(t)("rechargeOrderNumber")),1),e("div",{class:f(["value",{"is-ar":o(w)}])},[e("span",null,l(s.order_no),1),(i(),_("svg",{onClick:U(D=>b(s.order_no),["stop"]),xmlns:"http://www.w3.org/2000/svg",width:"18",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-copy"},[...a[2]||(a[2]=[e("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},null,-1),e("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},null,-1)])],8,ae))],2)]),e("div",oe,[e("div",ne,l(o(t)("rechargeOrderTime")),1),e("div",le,l(o(j)(s.createTime)),1)]),e("div",re,[e("div",ie,l(o(t)("rechargeOrderAmount")),1),e("div",ce,l(o(z)(s.volume,["BTC","ETH"].includes(s.coin)?6:2))+" "+l(s.coin),1)]),e("div",de,[e("div",ue,l(o(t)("rechargeOrderStatus")),1),e("div",{class:f(["value","color-".concat(s.state)])},l(T(s.state)),3)]),s.state===2?(i(),_("div",_e,[e("div",pe,l(n.$t("失败原因")),1),e("div",{class:f(["value","color-".concat(s.state)])},l(s.failure_msg||"--"),3)])):x("",!0)],8,ee))),128))])):x("",!0),!c.value.length&&!d.value?(i(),A(R,{key:1,image:o(k).href,description:o(t)("noData")},null,8,["image","description"])):x("",!0)]),_:1},8,["loading","finished","loading-text","finished-text"])]),_:1},8,["modelValue","pulling-text","loosing-text","loading-text"])])])}}},Ce=E(ve,[["__scopeId","data-v-47290e40"]]);export{Ce as default};
