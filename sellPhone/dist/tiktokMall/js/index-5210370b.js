import{_ as R,e as V,$ as k,o as r,c as f,b as c,w as v,a as w,v as x,a0 as C,r as l,a9 as T,d as $,t as B,F as E,E as b,y as L,x as I}from"./index-55507c28.js";import{P as G}from"./index-16851c38.js";import{L as P}from"./index-748d9839.js";import{E as S}from"./index-94a2e4c2.js";import{G as U}from"./GoodsItem-6aec5ddc.js";import{m as F}from"./product.api-71b8732b.js";import"./use-id-acc627d9.js";import"./index-260e30ee.js";import"./___vite-browser-external_commonjs-proxy-685e0cd7.js";const j=V({name:"ShopClass",components:{GoodsItem:U},setup(){const{t:e}=x.useI18n(),a=C(),g=l(""),{name:d,id:u,sellerId:p}=a.query,m=new URL("/www/png/name-20d65991.png",self.location),i=l([]),n=l(!1),o=l(!0),s=l(!1),t=l({pageNum:1,pageSize:20}),h=()=>{if(d&&u&&p){const N={...t.value,categoryId:u,sellerId:p};F(N).then(_=>{const y=_.pageList||[];i.value=t.value.pageNum===1?y:[...i.value,...y],t.value.pageNum++,o.value=!1,n.value=!1,s.value=_.pageInfo.lastPage}).catch(()=>{s.value=!0,o.value=!1,n.value=!1})}else s.value=!0,o.value=!1,n.value=!1},D=()=>{o.value=!0,t.value.pageNum=1,h()};return d&&u&&p&&(g.value=d),{t:e,pageTitle:g,listData:i,refreshing:n,loading:o,finished:s,empytImg:m,getListData:h,onRefresh:D}}}),q={key:0,class:"list-content"};function z(e,a,g,d,u,p){const m=T,i=k("goods-item"),n=S,o=P,s=G;return r(),f("div",null,[c(m,{fixed:!0},{title:v(()=>[$(B(e.pageTitle),1)]),_:1}),a[2]||(a[2]=w("div",{style:{height:"46px"}},null,-1)),c(s,{modelValue:e.refreshing,"onUpdate:modelValue":a[1]||(a[1]=t=>e.refreshing=t),"pulling-text":e.t("pullingText"),"loosing-text":e.t("loosingText"),"loading-text":e.t("loading"),onRefresh:e.onRefresh},{default:v(()=>[c(o,{loading:e.loading,"onUpdate:loading":a[0]||(a[0]=t=>e.loading=t),finished:e.finished,"loading-text":e.t("loading"),"finished-text":e.t("product.3"),onLoad:e.getListData},{default:v(()=>[e.listData.length?(r(),f("div",q,[(r(!0),f(E,null,b(e.listData,t=>(r(),L(i,{key:t.id,"goods-data":t},null,8,["goods-data"]))),128))])):I("",!0),!e.listData.length&&!e.loading?(r(),L(n,{key:1,image:e.empytImg.href,description:e.t("noData")},null,8,["image","description"])):I("",!0)]),_:1},8,["loading","finished","loading-text","finished-text","onLoad"])]),_:1},8,["modelValue","pulling-text","loosing-text","loading-text","onRefresh"])])}const Y=R(j,[["render",z],["__scopeId","data-v-2dfeb99a"]]);export{Y as default};
