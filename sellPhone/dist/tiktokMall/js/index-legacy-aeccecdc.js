System.register(["./index-legacy-27bdf402.js","./index-legacy-9ab921f3.js","./index-legacy-e9d6ff65.js","./index-legacy-afbbd1b9.js","./index-legacy-00472a3a.js","./index-legacy-591c4a77.js","./index-legacy-b4569500.js","./search-icon-legacy-4edb4440.js","./more-legacy-52efb473.js","./editProfit-legacy-4a731239.js","./product.api-legacy-857ca90b.js","./index-legacy-6f6ec63e.js","./use-id-legacy-dafc5df9.js","./index-legacy-55462584.js","./index-legacy-95677eea.js","./index-legacy-6a04a158.js","./function-call-legacy-56c77e5e.js","./index-legacy-f6c88de2.js","./___vite-browser-external_commonjs-proxy-legacy-c463071b.js"],function(e,a){"use strict";var t,i,l,n,o,s,c,r,d,p,b,g,f,u,v,h,x,m,y,k,w,A,j,C,L,_,z,S,U,J,N,O,E,F,I,T,B,G,V,M,H;return{setters:[e=>{t=e._,i=e.i,l=e.v,n=e.l,o=e.a0,s=e.r,c=e.bF,r=e.q,d=e.cv,p=e.o,b=e.c,g=e.b,f=e.w,u=e.F,v=e.E,h=e.x,x=e.a,m=e.t,y=e.g,k=e.bD,w=e.u,A=e.y,j=e.n,C=e.cw,L=e.T,_=e.aa,z=e.a8,S=e.Z,U=e.J,J=e.cx,N=e.I},e=>{O=e.P},e=>{E=e.L},e=>{F=e.E},null,null,e=>{I=e.S},e=>{T=e._},e=>{B=e._},e=>{G=e.e},e=>{V=e.f,M=e.g},e=>{H=e.c},null,null,null,null,null,null,null],execute:function(){var a=document.createElement("style");a.textContent="[data-v-bb0a6f02] .van-field__body{padding-right:10px}.search-container[data-v-bb0a6f02]{padding-top:50px}.search-container.is-ar[data-v-bb0a6f02] .van-field__left-icon{margin-right:0;margin-left:8px}.search-container.is-ar[data-v-bb0a6f02] .van-search__content{padding-left:0;padding-right:12px}.search-container.is-ar[data-v-bb0a6f02] .van-field__control{text-align:right}.search-container.is-ar .search-history>.title>.clear>img[data-v-bb0a6f02]{margin-right:0;margin-left:5px}.search-container.is-ar .product-info[data-v-bb0a6f02]{padding-left:0;padding-right:10px}.search-container[data-v-bb0a6f02] .van-field__left-icon{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:16px;margin-right:8px}.search-container[data-v-bb0a6f02] .van-field__left-icon>img{width:100%;height:auto}.search-container[data-v-bb0a6f02] .van-nav-bar__left{padding-right:10px!important}.search-container[data-v-bb0a6f02] .van-nav-bar__title{width:73.6%!important;max-width:73.6%!important;position:relative}.search-container[data-v-bb0a6f02] .van-search{padding:0!important}.search-container[data-v-bb0a6f02] .van-search .van-search__content{background-color:#fff}.search-container .search-btn[data-v-bb0a6f02]{font-size:12px;color:#333}.search-container .search-history[data-v-bb0a6f02]{padding:0 15px}.search-container .search-history>.title[data-v-bb0a6f02]{padding:25px 0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:14px;color:#000}.search-container .search-history>.title>.clear[data-v-bb0a6f02]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.search-container .search-history>.title>.clear>img[data-v-bb0a6f02]{width:14px;height:auto;margin-right:5px}.search-container .search-history>.title>.clear>p[data-v-bb0a6f02]{font-size:14px;color:#333}.search-container .search-history>.content[data-v-bb0a6f02]{overflow:hidden}.search-container .search-history>.content.no[data-v-bb0a6f02]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;font-size:14px;color:#999}.search-container .search-history>.content>.item[data-v-bb0a6f02]{float:left;padding:4px 15px;background-color:#fff;border-radius:5px;color:#999;font-size:12px;margin-right:14px;margin-bottom:22px}.search-container .search-tips-content>.item[data-v-bb0a6f02]{padding:23px 15px;border-bottom:1px solid #eee;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.search-container .search-tips-content>.item .van-icon[data-v-bb0a6f02]{margin-right:5px}.search-container .search-tips-content>.item>p[data-v-bb0a6f02]{color:#333;font-size:12px}.search-container .shop-list-content[data-v-bb0a6f02]{padding:20px 15px}.search-container .shop-list-content>.tips[data-v-bb0a6f02]{font-size:12px;color:#333}.search-container .shop-list-content>.tips>span[data-v-bb0a6f02]{color:#f89900}[data-v-bb0a6f02] .van-icon{font-size:18px;color:#1f2025}.delete-icon[data-v-bb0a6f02]{width:15px}.list .item[data-v-bb0a6f02]{background:#FFFFFF;border-radius:4px;margin-bottom:20px}.list .item .more-icon[data-v-bb0a6f02]{width:20px}.list .item .product-img[data-v-bb0a6f02]{width:100px}.list .item .left[data-v-bb0a6f02]{-webkit-box-align:center;-webkit-align-items:center;align-items:center}.list .item .left .product-info[data-v-bb0a6f02]{padding-left:10px;-webkit-box-flex:1;-webkit-flex:1 1;flex:1 1}.list .item .left .product-info .name[data-v-bb0a6f02]{font-size:14px;color:#333;height:50px;font-weight:700;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;-ms-text-overflow:ellipsis;text-overflow:ellipsis}.list .item .left .product-info .Specification[data-v-bb0a6f02]{font-size:12px;color:#999}.list .item .left .product-info .money[data-v-bb0a6f02]{color:var(--site-main-color);font-weight:700}.list .product-img-wrap[data-v-bb0a6f02]{position:relative}.list .delete-wrap[data-v-bb0a6f02]{padding:0 15px;background:rgba(0,0,0,.6);position:absolute;left:0;top:0;font-size:12px;color:#fff}.result-list[data-v-bb0a6f02]{position:fixed;top:46px;left:0;width:100%;background:#fff;z-index:2;font-size:14px}.result-list .result-list-item[data-v-bb0a6f02]{border-bottom:1px solid #EFF2F6}.item-more-content[data-v-bb0a6f02]{width:40px;position:relative}.item-more-content>.more[data-v-bb0a6f02]{width:40px;height:40px;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;-webkit-box-align:start;-webkit-align-items:flex-start;align-items:flex-start;padding-top:5px}\n",document.head.appendChild(a);const P={key:0,class:"result-list pl-4 pr-4"},R=["onClick"],Y={key:1,class:"search-history"},K={class:"title"},q={key:0,class:"content"},D=["onClick"],Q={key:2,class:"list ml-4 mr-4 mt-4 mb-4"},X=["onClick"],$={class:"flex-1 flex left"},W={class:"product-img-wrap w-20 h-20",style:{overflow:"hidden"}},Z=["src"],ee={class:"product-info"},ae={class:"name"},te={class:"Specification"},ie={key:0,style:{"margin-right":"20px"}},le={key:1},ne={class:"money"},oe={class:"item-more-content"},se=["onClick"],ce={__name:"index",setup(e){const a=i(),{t:t}=l.useI18n(),ce=n(),re=o(),de=s(re.query.id);let pe=s(""),be=s(1),ge=s(""),fe=s(!1);s({});const ue=s([]),ve=s([]),he=s(!1),xe=s(!1),me=s(!1);let ye=s([]);const ke=()=>{},we=new URL("/www/png/name-20d65991.png",self.location),Ae=s(null);c(()=>{Ae.value&&console.log(Ae.value)}),r(()=>{de.value/1==1?d("searchOne")&&(ye.value=d("searchOne")):d("searchTwo")&&(ye.value=d("searchTwo"))});const je=J(()=>{pe.value.trim()?(be.value=1,ue.value=[],L.loading({forbidClick:!0,loadingType:"spinner"}),Oe(),Ce()):L({message:t("请输入搜索关键字"),duration:2e3})},500),Ce=()=>{const e=pe.value.trim(),a=de.value/1==1?"searchOne":"searchTwo";if(""!=e)if(0==ye.value.length)ye.value.push(e),C(a,ye.value);else{const t=H(ye.value);t.unshift(e);const i=[...new Set(t)];ye.value=i,C(a,i)}},Le=()=>{de.value/1==1?C("searchOne",[]):C("searchTwo",[])},_e=()=>{pe.value=""},ze=e=>{ye.value=[],de.value/1==1?C("searchOne",""):C("searchTwo","")},Se=()=>{he.value=!1,je()},Ue=()=>{let e={pageNum:be.value,pageSize:20,keyword:pe.value};V(e).then(e=>{console.log(e),L.clear(),be.value++;for(let a=0;a<e.pageList.length;a++)e.pageList[a].check=!1,ue.value.push(e.pageList[a]);xe.value=!1,e.pageList.length<20?(be.value>1&&L(t("没有更多数据")),me.value=!0):be.value++})},Je=()=>{let e={name:pe.value,categoryId:"",pageNum:be.value,pageSize:20};M(e).then(e=>{L.clear(),console.log("商家自己的商品",e);for(let a=0;a<e.pageList.length;a++)ue.value.push(e.pageList[a]);xe.value=!1,e.pageList.length<20?(be.value>1&&L(t("没有更多数据")),me.value=!0):be.value++})},Ne=s(null);de.value/1==2?Ne.value=Je:Ne.value=Ue;const Oe=()=>{console.log(123),Ne.value()};let Ee=s([]);const Fe=(e,a)=>{e.sellingPrice=a},Ie=()=>{fe.value=!1};return(e,i)=>{const l=N,n=I,o=_,s=F,c=E,r=O;return p(),b("div",{class:j(["search-container",{"is-ar":w(a)}])},[g(o,{fixed:"","left-arrow":"",onClickLeft:i[2]||(i[2]=()=>e.$router.back())},{title:f(()=>[g(n,{modelValue:w(pe),"onUpdate:modelValue":i[0]||(i[0]=e=>z(pe)?pe.value=e:pe=e),shape:"round",clearable:!1,placeholder:e.$t("请输入商品"),onInput:ke},{"left-icon":f(()=>[...i[5]||(i[5]=[x("img",{class:"search-icon",src:T},null,-1)])]),"right-icon":f(()=>[w(pe)?(p(),A(l,{key:0,name:"cross",onClick:_e,size:"14",color:"#333333"})):h("",!0)]),_:1},8,["modelValue","placeholder"])]),right:f(()=>[x("div",{onClick:i[1]||(i[1]=(...e)=>w(je)&&w(je)(...e))},m(e.$t("搜索")),1)]),_:1}),ve.value.length>0?(p(),b("div",P,[(p(!0),b(u,null,v(ve.value,(e,a)=>(p(),b("div",{class:"result-list-item pt-2 pb-2",onClick:a=>(e=>{console.log("ssss",e),pe.value="",ve.value=[],ge.value=e.goodsId,be.value=1,ue.value=[],Oe()})(e),key:a},m(e.name),9,R))),128))])):h("",!0),0==ue.value.length?(p(),b("div",Y,[x("div",K,[x("p",null,m(e.$t("历史搜索")),1),y(x("div",{class:"clear",onClick:Le},[i[6]||(i[6]=x("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAwCAYAAABqkJjhAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKESURBVHgB7Zk9btswFMefZHu0obGeqt7AtT14q3qC+gZtTpD4BE5u0Gzd7J6g6tipymbAH0lOEGXyGO2G7fwZUAmT6ItiqMAAf4BASnoE/6RIPurRIkU6nY6LxC1oHl0BUsCikvR6vSGSMa6OTLn9fh8iOVutVlMqQY1K0O12x5Zl/UL2A0mCcg6uYbvddtbr9T+SRLqHIfYHKpwIjyL02i1L88qi3EcShg/KjdDTP0mCMoJvULHLb/1ms3kUBEGu2Jh+v38KoWN+G223208Y1oXL2yQBm2CC2KjRaIxkxDIWi8UpPX0Np16vS80BKcH0/HNez2azkMrxN87sdjuXJJAV/O4cnOCHSYex6dm27eUZYxi4sPvOb0Pc/6YSYB58o6f122fDK68Mhg7zOb7FJlKtVruhAwAN/cqGhEMHAr6E8zAkmDMgYQVAS46JNwRG51TAKbwVqHssCDwTXoXMnSc6DjQg5F6J+MIeUkVgj7KP88vl8pU+s6zpxgjWjRGsmzopAk/J1mv2uxSkLX/8v8/LsimKcg/DrU/4dcnFv67Etv9zmz+kiLJgeKPPPOtQipsXNv1Sm/UkzKTTjRGsGyNYN0awboxg3RjBulEWjI1NkSBM9CItjbJgbB1H2LFdQPgoY697xGyYLSmivIGfz+fskMXLskF8wUfi0xtgJp1ujGDdJArGjL+L8zg0caki+N91TOISmNbDjxFxLEfHVBFCdJ/SovKJyxp6eIoCceEhwq8ThOxLHQ8UxIHYL6j3RHg2TTJMPVhEnJadUFbWuyLMySB47SW9S510WOxZa8+pevxWqzVMe5l7dDsYDNzNZnOCVisHQbLAcGBR/ylOSoMsu3tYs9QwhJVNvQAAAABJRU5ErkJggg==",alt:"",class:"delete-icon"},null,-1)),x("p",{onClick:ze},m(e.$t("清空")),1)],512),[[k,w(ye).length>0]])]),w(ye).length>0?(p(),b("div",q,[(p(!0),b(u,null,v(w(ye),(e,a)=>(p(),b("div",{key:a,class:"item",onClick:a=>(e=>{pe.value=e,je()})(e)},m(e),9,D))),128))])):h("",!0),w(ye).length?h("",!0):(p(),A(s,{key:1,image:w(we).href,description:w(t)("noData")},null,8,["image","description"]))])):h("",!0),ue.value.length>0?(p(),b("div",Q,[g(r,{"loading-text":e.$t("加载中"),"loosing-text":e.$t("释放以刷新"),"pulling-text":e.$t("下拉以刷新"),modelValue:xe.value,"onUpdate:modelValue":i[4]||(i[4]=e=>xe.value=e),onRefresh:Se},{default:f(()=>[g(c,{ref_key:"checkEl",ref:Ae,loading:xe.value,"onUpdate:loading":i[3]||(i[3]=e=>xe.value=e),finished:me.value,"finished-text":e.$t("没有更多了"),onLoad:Oe},{default:f(()=>[(p(!0),b(u,null,v(ue.value,(e,a)=>(p(),b("div",{class:"item pl-3 pr-3 pb-3 pt-3 flex",onClick:a=>(e=>{de.value/1==1&&ce.push({path:"/productPage/details",query:{item:JSON.stringify(e)}})})(e),key:a},[x("div",$,[x("div",W,[x("img",{class:"product-img",src:e.imgUrl1},null,8,Z)]),x("div",ee,[x("div",ae,m(e.name),1),x("div",te,[e.categoryName?(p(),b("span",ie,m(e.categoryName),1)):h("",!0),de.value/1==1?(p(),b("span",le,m(w(t)("sales"))+": "+m(e.soldNum),1)):h("",!0)]),x("div",ne,"$"+m(de.value/1==1?w(S)(e.sellingPrice):w(S)(e.systemPrice)),1)])]),x("div",oe,[x("div",{class:"more",onClick:U(a=>(e=>{de.value/1==1?ce.push({path:"/productPage/productEdit",query:{item:JSON.stringify(e)}}):(Ee.value=[],Ee.value.push(e.id),fe.value=!0)})(e),["stop"])},[...i[7]||(i[7]=[x("img",{class:"more-icon",src:B},null,-1)])],8,se),de.value/1==1?(p(),A(l,{key:0,name:"arrow",size:"20px",style:{top:"50%",right:"0",position:"absolute","margin-top":"-10px"}})):h("",!0)])],8,X))),128))]),_:1},8,["loading","finished","finished-text"])]),_:1},8,["loading-text","loosing-text","pulling-text","modelValue"])])):h("",!0),g(G,{isEdit:w(fe),onUpdate:Fe,productArry:w(Ee),onClose:Ie},null,8,["isEdit","productArry"])],2)}}};e("default",t(ce,[["__scopeId","data-v-bb0a6f02"]]))}}});
