import{_ as k,v as x,L as N,r as m,m as b,o as v,c as p,a as o,t as h,u as V,g as w,h as $,F as B,E as I,n as D,s as L,T as g,c2 as S,b as T}from"./index-55507c28.js";import{c as C}from"./countryList-d29458f2.js";const j={class:"code-content"},E={class:"title"},F={class:"search-content"},H={class:"content"},O=["placeholder"],U={class:"scroll-content"},z={class:"countries-content"},A=["onClick"],M={class:"name"},R={__name:"CountryDialog",props:{modelValue:{type:Boolean,default:!1},countries:{type:Array,default:()=>[]}},emits:["update:modelValue","done"],setup(l,{emit:y}){const{t:c}=x.useI18n(),u=y,f=l,{countries:d}=N(f),s=m(""),i=b(()=>{const n=d.value.filter(t=>{const e=s.value.toLowerCase();return t.countryName.toLowerCase().indexOf(e)>-1});return s.value?n:d.value}),a=()=>{u("update:modelValue",!1)},r=n=>{u("done",n),a()};return(n,t)=>(v(),p("div",{class:D([{active:l.modelValue},"area-code-dialog"])},[o("div",j,[o("div",E,h(V(c)("selectNation")),1),o("div",F,[o("div",H,[w(o("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),type:"text",placeholder:V(c)("entrynational")},null,8,O),[[$,s.value]])])]),o("div",U,[o("div",z,[(v(!0),p(B,null,I(i.value,e=>(v(),p("div",{key:e.code,class:"item",onClick:_=>r(e)},[o("div",M,h(e.countryName),1)],8,A))),128))])])]),o("div",{class:"code-bg",onClick:a})],2))}},q=k(R,[["__scopeId","data-v-3e84e10a"]]);const G={__name:"index",props:{modelValue:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","done"],setup(l,{emit:y}){const{t:c}=x.useI18n(),u=y,f=l,{modelValue:d}=N(f),s=m([]),i=m(!1),a=m(!1),r=b(()=>{if(i.value){const t=s.value.find(e=>e.id===d.value);if(t)return t.countryName;for(const e in C)if(Number(C[e].dialCode)===Number(d.value))return C[e].name;return""}else return""}),n=t=>{u("update:modelValue",t.id),u("done",t)};return L(async()=>{g.loading({duration:0,message:c("loading"),forbidClick:!0}),await S().then(t=>{s.value=t.data||[],i.value=!0,g.clear()}).catch(()=>{g.clear()})}),(t,e)=>(v(),p("div",null,[T(q,{modelValue:a.value,"onUpdate:modelValue":e[0]||(e[0]=_=>a.value=_),countries:s.value,onDone:n},null,8,["modelValue","countries"]),o("div",{class:D([{empty:!r.value,disabled:l.disabled},"input-item"]),onClick:e[1]||(e[1]=_=>a.value=!0)},h(r.value||V(c)("selectNation")),3)]))}},P=k(G,[["__scopeId","data-v-047c1901"]]);export{P as C};
