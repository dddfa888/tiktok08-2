System.register(["./index-legacy-27bdf402.js","./index-legacy-9ab921f3.js","./index-legacy-e9d6ff65.js","./index-legacy-afbbd1b9.js","./config-legacy-4fa0d23a.js","./use-id-legacy-dafc5df9.js"],function(e,t){"use strict";var i,n,a,l,s,o,r,c,d,u,p,v,f,g,x,m,y,b,h,k,w,T,_,z,L,M,S,j;return{setters:[e=>{i=e._,n=e.v,a=e.i,l=e.r,s=e.s,o=e.o,r=e.c,c=e.b,d=e.w,u=e.a,p=e.e,v=e.a9,f=e.d,g=e.t,x=e.u,m=e.F,y=e.E,b=e.n,h=e.x,k=e.y,w=e.cE,T=e.cF,_=e.M,z=e.cG},e=>{L=e.P},e=>{M=e.L},e=>{S=e.E},e=>{j=e.m},null],execute:function(){var t=document.createElement("style");t.textContent='@charset "UTF-8";.van-pull-refresh[data-v-17f96486]{background-color:#eff2f6}.list-content .item-list[data-v-17f96486]{padding:15px;border-bottom:1px solid #eee;background-color:#fff}.list-content .item-list>.title-content[data-v-17f96486]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.list-content .item-list>.title-content>.title[data-v-17f96486]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;width:calc(100% - 120px)}.list-content .item-list>.title-content>.title>.tips[data-v-17f96486]{width:8px;height:8px;border-radius:50%;background:#ff3e3e;margin-right:8px}.list-content .item-list>.title-content>.title>.tips.is-ar[data-v-17f96486]{margin-right:0;margin-left:8px}.list-content .item-list>.title-content>.title>p[data-v-17f96486]{font-size:14px;color:#000;-webkit-box-flex:1;-webkit-flex:1 1;flex:1 1;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.list-content .item-list>.title-content>p[data-v-17f96486]{font-size:10px;color:#999}.list-content .item-list>.txt[data-v-17f96486]{font-size:12px;margin-top:5px;word-break:break-all;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:3;overflow:hidden}\n',document.head.appendChild(t);const H={class:"page-main-content"},I={key:0,class:"list-content"},E=["onClick"],N={class:"title-content"},A={class:"title"},O={key:0,class:"txt"},C=["innerHTML"],F=["innerHTML"],P=["innerHTML"],R=["innerHTML"],U=["innerHTML"],$={key:0},J={key:1,class:"txt"},V=p({name:"MessageSystem"});e("default",i(Object.assign(V,{setup(e){const{t:t}=n.useI18n(),i=a(),p=new URL("/www/png/name-20d65991.png",self.location),V=l([]),q=l(!1),G=l(!0),Y=l(!1),B=l({pageSize:20,pageNum:1}),D=()=>{const e={...B.value,totalElements:-1,type:3,status:0,module:1};w(e).then(e=>{const i=e.elements||[];i.forEach(e=>{const i={};(e.varInfo?JSON.parse(e.varInfo):[]).forEach(e=>{i[e.code]=["complaintReason"].includes(e.code)?t(e.value):e.value}),e.timeStr=T(e.sendTime,!0),e.varObj=i}),V.value=1===B.value.pageNum?i:[...V.value,...i],G.value=!1,q.value=!1,Y.value=e.totalPage===B.value.pageNum||!e.totalPage,B.value.pageNum+=1}).catch(()=>{Y.value=!0,G.value=!1,q.value=!1})},K=()=>{G.value=!0,B.value.pageNum=1,D()},Q=(e,t)=>{const i=(e.varInfo?JSON.parse(e.varInfo):[]).find(e=>e.code===t);return i?i.value:"0"},W=(e,t)=>{const i=(e.varInfo?JSON.parse(e.varInfo):[]).find(e=>e.code===t);return i?i.value:""};return s(()=>{document.addEventListener("systemListRefresh",()=>{K()},!1)}),(e,n)=>{const a=v,l=S,s=M,w=L;return o(),r("div",H,[c(a,{fixed:!0},{title:d(()=>[f(g(e.$t("系统消息")),1)]),_:1}),n[2]||(n[2]=u("div",{style:{height:"46px"}},null,-1)),c(w,{modelValue:q.value,"onUpdate:modelValue":n[1]||(n[1]=e=>q.value=e),"loading-text":e.$t("加载中"),"loosing-text":e.$t("释放以刷新"),"pulling-text":e.$t("下拉以刷新"),onRefresh:K},{default:d(()=>[c(s,{loading:G.value,"onUpdate:loading":n[0]||(n[0]=e=>G.value=e),finished:Y.value,"loading-text":x(t)("loading"),"finished-text":x(t)("product.3"),onLoad:D},{default:d(()=>[V.value.length?(o(),r("div",I,[(o(!0),r(m,null,y(V.value,e=>(o(),r("div",{key:e.id,class:"item-list",onClick:t=>{return _({path:"/message/details",query:{id:(i=e).id}}),void(2!==i.status&&z({ids:i.id}).then(()=>{i.status=2}));var i}},[u("div",N,[u("div",A,[1===e.status?(o(),r("div",{key:0,class:b(["tips",{"is-ar":x(i)}])},null,2)):h("",!0),u("p",null,g(x(t)(x(j)[e.bizType].title)),1)]),u("p",null,g(e.timeStr),1)]),x(j)[e.bizType].key?(o(),r("p",O,["creditScore"===x(j)[e.bizType].key?(o(),r("span",{key:0,innerHTML:x(t)("systemMsgScore",{creditScore:Q(e,x(j)[e.bizType].key)})},null,8,C)):"inbox_recharge_success"===e.bizType?(o(),r("span",{key:1,innerHTML:x(t)("rechargeSuccessTips",{orderAmount:Q(e,"orderAmount")})},null,8,F)):"inbox_withdraw_success"===e.bizType?(o(),r("span",{key:2,innerHTML:x(t)("withdrawalSuccessTips",{orderAmount:Q(e,"orderAmount")})},null,8,P)):"inbox_store_audit_fail"===e.bizType?(o(),r("span",{key:3,innerHTML:x(t)("storeAuthenticationFailedTips",{shop_name:W(e,"shop_name"),reason:W(e,"reason")})},null,8,R)):"inbox_store_audit_success"===e.bizType?(o(),r("span",{key:4,innerHTML:x(t)("storeAuthenticationPassedTips",{shop_name:W(e,"shop_name")})},null,8,U)):(o(),r(m,{key:5},[u("span",null,g(x(t)(x(j)[e.bizType].txt)),1),u("span",null,g(Q(e,x(j)[e.bizType].key)),1),x(j)[e.bizType].txt1?(o(),r("span",$,g(x(t)(x(j)[e.bizType].txt1)),1)):h("",!0)],64))])):(o(),r("p",J,g(x(t)(x(j)[e.bizType].txt,e.varObj)),1))],8,E))),128))])):h("",!0),V.value.length||G.value?h("",!0):(o(),k(l,{key:1,image:x(p).href},null,8,["image"]))]),_:1},8,["loading","finished","loading-text","finished-text"])]),_:1},8,["modelValue","loading-text","loosing-text","pulling-text"])])}}}),[["__scopeId","data-v-17f96486"]]))}}});
