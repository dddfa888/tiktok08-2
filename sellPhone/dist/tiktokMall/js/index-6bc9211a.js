import{_ as x,v as V,l as g,r as i,s as h,o as y,c as $,b as u,w as m,a as v,T as s,ch as k,a9 as P,d as _,t as f}from"./index-55507c28.js";import{B}from"./index-64f4bac7.js";import{E as p}from"./index-5f89f735.js";import"./index-6e53b41f.js";import"./index-3bdff75a.js";import"./use-id-acc627d9.js";const I={class:"changePassword"},E={class:"content"},N={__name:"index",setup(U){const{t}=V.useI18n(),c=g(),r=i(!1),o=i(""),l=i(""),d=i(""),w=()=>{if(o.value===""){s(t("请输入原密码"));return}if(l.value===""){s(t("请设置新密码"));return}if(o.value===l.value){s(t("新密码不能与旧密码相同"));return}if(!/^\d{6}$/.test(l.value)){s(t("请输入6位数数字密码"));return}if(l.value!==d.value){s(t("两次密码输入不一致"));return}r.value=!0,k({old_safeword:o.value,safeword:l.value,re_safeword:d.value}).then(e=>{s(t("changeSuccess")),r.value=!1,setTimeout(()=>{c.back()},1e3)}).catch(e=>{r.value=!1})};return h(()=>{const e="tiktokMall";["familyMart"].includes(e)&&c.back()}),(e,a)=>{const T=P,b=B;return y(),$("div",I,[u(T,null,{title:m(()=>[_(f(e.$t("changeFunsPassword")),1)]),_:1}),a[3]||(a[3]=v("div",{class:"line"},null,-1)),v("div",E,[u(p,{label:e.$t("原资金密码"),placeholderText:e.$t("请输入6位数数字密码"),modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=n=>o.value=n),typeText:"password"},null,8,["label","placeholderText","modelValue"]),u(p,{label:e.$t("新资金密码"),placeholderText:e.$t("请输入6位数数字密码"),modelValue:l.value,"onUpdate:modelValue":a[1]||(a[1]=n=>l.value=n),typeText:"password"},null,8,["label","placeholderText","modelValue"]),u(p,{label:e.$t("再次输入资金密码"),placeholderText:e.$t("请再次输入6位数数字密码"),modelValue:d.value,"onUpdate:modelValue":a[2]||(a[2]=n=>d.value=n),typeText:"password"},null,8,["label","placeholderText","modelValue"]),u(b,{class:"w-full btn-content",type:"primary",loading:r.value,onClick:w},{default:m(()=>[_(f(e.$t("sure")),1)]),_:1},8,["loading"])])])}}},L=x(N,[["__scopeId","data-v-1d6d95fc"]]);export{L as default};
