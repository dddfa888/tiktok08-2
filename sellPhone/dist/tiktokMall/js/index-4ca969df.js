import{_ as w,v as T,l as y,j as V,r as u,o as h,c as $,b as o,w as p,a as i,T as d,cg as B,a9 as I,d as c,t as _}from"./index-55507c28.js";import{B as k}from"./index-64f4bac7.js";import{E as m}from"./index-5f89f735.js";import"./index-6e53b41f.js";import"./index-3bdff75a.js";import"./use-id-acc627d9.js";const S={class:"changePassword"},U={class:"content"},E={__name:"index",setup(N){const{t:l}=T.useI18n(),v=y(),f=V(),s=u(!1),a=u(""),n=u(""),x=()=>{if(a.value===""){d(l("请输入6位数数字密码"));return}if(a.value!==n.value){d(l("两次密码输入不一致"));return}s.value=!0,B({safeword:a.value}).then(async e=>{await f.getUserInfo(!0),d(l("设置成功")),s.value=!1,setTimeout(()=>{v.back()},1e3)}).catch(e=>{s.value=!1})};return(e,t)=>{const b=I,g=k;return h(),$("div",S,[o(b,null,{title:p(()=>[c(_(e.$t("设置资金密码")),1)]),_:1}),t[2]||(t[2]=i("div",{class:"line"},null,-1)),i("div",U,[o(m,{label:e.$t("资金密码"),placeholderText:e.$t("请输入6位数数字密码"),modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=r=>a.value=r),typeText:"password"},null,8,["label","placeholderText","modelValue"]),o(m,{label:e.$t("再次输入资金密码"),placeholderText:e.$t("请再次输入6位数数字密码"),modelValue:n.value,"onUpdate:modelValue":t[1]||(t[1]=r=>n.value=r),typeText:"password"},null,8,["label","placeholderText","modelValue"]),o(g,{class:"w-full",style:{"margin-top":"10px"},type:"primary",loading:s.value,onClick:x},{default:p(()=>[c(_(e.$t("sure")),1)]),_:1},8,["loading"])])])}}},q=w(E,[["__scopeId","data-v-84bdf8de"]]);export{q as default};
