System.register(["./index-legacy-27bdf402.js","./index-legacy-55462584.js","./index-legacy-00472a3a.js","./index-legacy-591c4a77.js","./login.api-legacy-a7397982.js","./use-id-legacy-dafc5df9.js"],function(e,t){"use strict";var n,a,i,o,l,c,d,r,s,u,v,p,f,b,x,g,y,m,h,k,w,j,I,_,C,q,V;return{setters:[e=>{n=e._,a=e.j,i=e.i,o=e.v,l=e.a0,c=e.l,d=e.r,r=e.q,s=e.m,u=e.o,v=e.c,p=e.b,f=e.w,b=e.a,x=e.t,g=e.u,y=e.x,m=e.d,h=e.n,k=e.T,w=e.a9,j=e.cb,I=e.F,_=e.I},e=>{C=e.B},null,e=>{q=e.F},e=>{V=e.a},null],execute:function(){var t=document.createElement("style");t.textContent=".verify-content[data-v-92b6e316]{min-height:100vh;background-color:#fff}.info-content[data-v-92b6e316]{padding:0 20px;color:#333}.info-content>.info-item[data-v-92b6e316]{margin-top:30px}.info-content>.info-item[data-v-92b6e316]:last-child{margin-top:20px}.info-content>.info-item>.gap[data-v-92b6e316]{margin-bottom:10px}.info-content>.info-item h2[data-v-92b6e316]{font-size:20px;font-weight:700}.info-content>.info-item p[data-v-92b6e316]{font-size:14px}.info-content .code-content[data-v-92b6e316]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;margin-top:35px}.info-content .code-content.is-ar[data-v-92b6e316] .van-field__control{text-align:right}.info-content .code-content .van-cell[data-v-92b6e316]{width:185px;height:44px;border:1px solid #ddd;border-radius:4px}.info-content .code-content .van-cell[data-v-92b6e316]:after{border:none}.info-content .code-content>.btn[data-v-92b6e316]{-webkit-box-flex:1;-webkit-flex:1 1;flex:1 1;padding-left:15px}.info-content .code-content>.btn.is-ar[data-v-92b6e316]{padding-right:15px;padding-left:0}.info-content .code-content>.btn .van-button[data-v-92b6e316]{width:100%;height:44px;border-radius:4px;background-color:var(--site-main-color);border-color:var(--site-main-color)}.info-content>.change-ver-type[data-v-92b6e316]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;color:var(--site-main-color);margin-top:10px}.info-content>.change-ver-type>p[data-v-92b6e316]{font-size:14px;padding-left:5px;font-weight:700}.submit-content[data-v-92b6e316]{width:100%;position:fixed;left:0;bottom:60px;padding:0 20px}.submit-content .van-button[data-v-92b6e316]{width:100%;height:44px;border-radius:4px;background-color:var(--site-main-color);border-color:var(--site-main-color)}\n",document.head.appendChild(t);const z={class:"verify-content"},S={class:"info-content"},T={class:"info-item"},F={class:"gap"},N={class:"info-item"},B={class:"gap"},E={key:0},U={class:"change-ver-type"},A={class:"submit-content"};e("default",n({__name:"index",setup(e){const t=a(),n=i(),{t:D}=o.useI18n(),G=l(),H=c(),J=d(1),K=d(1),L=d("44"),M=d(""),O=d(0),P=d(null),Q=d(!1);J.value=G.query&&G.query.type?Number(G.query.type):1,K.value=G.query&&G.query.verType?Number(G.query.verType):1,r(()=>{clearInterval(P.value),P.value=null});const R=s(()=>{if(t.userInfo.token){const{email:e,phone:n}=t.userInfo;let a="";if(1===J.value){if(n){const e=n.split(" ");2===e.length?(L.value=e[0],a=e[1]):a=e[0]}}else a=e||"";return a}H.push("/login")}),W=()=>{if(O.value>0)return!1;const{email:e,phone:n}=t.userInfo;k.loading({duration:0,forbidClick:!0}),V({target:1===J.value?n:e}).then(()=>{k(D("sendSuccess")),O.value=60,P.value=setInterval(()=>{O.value>0?O.value=O.value-1:(O.value=0,clearInterval(P.value),P.value=null)},1e3)}).catch(()=>{k.clear()})},X=()=>{const{email:e,phone:n}=t.userInfo,a=1===J.value?2:1;return 2!==a||e?1!==a||n?void(J.value=a):(k(D("暂未绑定手机号，无法进行手机验证")),!1):(k(D("暂未绑定邮箱，无法进行邮箱验证")),!1)},Y=()=>{if(""===M.value)return void k(D("entryVerifyCode"));Q.value=!0;const{email:e,phone:n}=t.userInfo;J.value,M.value,J.value};return(e,t)=>{const a=w,i=q,o=C,l=_;return u(),v("div",z,[p(a,{fixed:!0},{title:f(()=>[m(x(g(D)("身份验证")),1)]),_:1}),t[1]||(t[1]=b("div",{style:{height:"46px"}},null,-1)),b("div",S,[b("div",T,[b("h2",F,x(1===J.value?g(D)("手机验证"):g(D)("邮箱验证")),1),b("p",null,x(g(D)("为了保障您的账号安全，请验证后进行下一步操作")),1)]),b("div",N,[b("p",B,x(1===J.value?g(D)("当前绑定手机号"):g(D)("当前绑定邮箱")),1),b("h2",null,[1===J.value?(u(),v("span",E,"(+"+x(L.value)+")",1)):y("",!0),m(x(g(j)(R.value,!1)),1)])]),b("div",{class:h(["code-content",{"is-ar":g(n)}])},[p(i,{modelValue:M.value,"onUpdate:modelValue":t[0]||(t[0]=e=>M.value=e),type:"tel",label:"",placeholder:g(D)("entryVerifyCode")},null,8,["modelValue","placeholder"]),b("div",{class:h(["btn",{"is-ar":g(n)}])},[p(o,{type:"primary",onClick:W},{default:f(()=>[m(x(g(D)("sendVerifyCode")),1),O.value?(u(),v(I,{key:0},[m("("+x(O.value)+")s",1)],64)):y("",!0)]),_:1})],2)],2),b("div",U,[p(l,{name:"exchange"}),b("p",{onClick:X},x(1===J.value?g(D)("切换为邮箱验证"):g(D)("切换为手机验证")),1)])]),b("div",A,[p(o,{type:"primary",loading:Q.value,onClick:Y},{default:f(()=>[m(x(g(D)("nextStep")),1)]),_:1},8,["loading"])])])}}},[["__scopeId","data-v-92b6e316"]]))}}});
