import{_ as Te,v as Re,r as u,m as N,o as m,c as T,a as o,d as k,t as s,u as t,b as i,g as Ve,b5 as Ue,F as Se,E as Be,w as f,n as we,e as tl,T as c,I as ol,j as nl,l as sl,i as ul,q as rl,f as Ne,x as b,y as _,Z as $,M as dl,a9 as il,ap as cl,D as vl}from"./index-55507c28.js";import{A as ml}from"./index-3ce1345e.js";import{P as fl,N as pl}from"./index-e25caf73.js";import{B as Ie}from"./index-64f4bac7.js";import"./index-912b17af.js";/* empty css              *//* empty css              */import{U as Al}from"./index-6a5a78c7.js";import{C as bl}from"./index-08cb43e1.js";import{P as hl}from"./index-3c69927a.js";import"./index-6e53b41f.js";import{F as De}from"./index-3bdff75a.js";import{E as wl,i as G}from"./index-dfae592b.js";import{b as yl,e as gl,a as xl,c as kl,d as Cl,g as _l,f as Vl}from"./exchange.api-6b2f1fdd.js";import{u as Ul}from"./upload.api-93555138.js";import{E as Sl}from"./index-5f89f735.js";import{D as Bl}from"./function-call-cafb329d.js";import{F as Nl}from"./index-316b036f.js";import"./index-dc8f9730.js";import"./index-715fcdb8.js";import"./countryList-d29458f2.js";import"./use-id-acc627d9.js";const Tl={class:"form-content"},Rl={class:"title-content"},Il={class:"content"},Dl={class:"item"},Fl={class:"select-item"},Ql=["value"],Hl={class:"item"},Wl={class:"select-item"},Ml=["value"],Zl={class:"item"},jl={class:"item tips"},Jl=tl({name:"AddressBindDialog"}),Yl=Object.assign(Jl,{props:{modelValue:{type:Boolean,default:!1},chainData:{type:Array,default:()=>[]}},emits:["update:modelValue","bind-done"],setup(re,{emit:R}){const{t:S}=Re.useI18n(),a=R,V=re,ee=()=>{a("update:modelValue",!1)},w=u("USDT"),I=N(()=>{if(V.chainData.length){const g=[...new Set(V.chainData.map(v=>v.coin).reverse())];if(g.length)return w.value=g[0],g.map(v=>({label:v,value:v}))}return[{label:"USDT",value:"USDT"}]}),U=u("TRC20"),B=N(()=>{if(V.chainData.length){const g=V.chainData.filter(v=>v.coin===w.value);if(g.length)return U.value=g[0].blockchain_name,g.map(v=>({label:v.blockchain_name,value:v.blockchain_name}))}return[{label:"TRC20",value:"TRC20"},{label:"ERC20",value:"ERC20"}]}),D=u(""),Y=g=>/^[0-9A-Za-z]+$/.test(g),Z=u(!1),j=()=>{if(!/^[0-9A-Za-z]+$/.test(D.value)){c(S("提现地址只能包含数字和字母"));return}Z.value=!0;const v={coin:w.value,blockchain_name:U.value,channel_address:D.value};yl(v).then(()=>{a("bind-done",v)}).finally(()=>{Z.value=!1})};return(g,v)=>{const q=ol,le=De,F=Ie;return m(),T("div",{class:we([{active:re.modelValue},"dialog-content"])},[o("div",Tl,[o("div",Rl,[k(s(t(S)("提款地址绑定"))+" ",1),i(q,{name:"cross",class:"close",onClick:ee})]),o("div",Il,[o("div",Dl,[o("p",null,s(t(S)("取款方式")),1),o("div",Fl,[k(s(w.value)+" ",1),Ve(o("select",{"onUpdate:modelValue":v[0]||(v[0]=x=>w.value=x)},[(m(!0),T(Se,null,Be(I.value,(x,z)=>(m(),T("option",{key:z,value:x.value},s(x.label),9,Ql))),128))],512),[[Ue,w.value]])])]),o("div",Hl,[o("p",null,s(t(S)("链接协议")),1),o("div",Wl,[k(s(U.value)+" ",1),Ve(o("select",{"onUpdate:modelValue":v[1]||(v[1]=x=>U.value=x)},[(m(!0),T(Se,null,Be(B.value,(x,z)=>(m(),T("option",{key:z,value:x.value},s(x.label),9,Ml))),128))],512),[[Ue,U.value]])])]),o("div",Zl,[o("p",null,s(t(S)("收款钱包地址")),1),i(le,{clearable:"",modelValue:D.value,"onUpdate:modelValue":v[2]||(v[2]=x=>D.value=x),rules:[{validator:Y,message:t(S)("提现地址只能包含数字和字母"),trigger:"onChange"}],class:"input-item"},null,8,["modelValue","rules"])]),o("div",jl,s(t(S)("仅能绑定一个收款地址！")),1)]),i(F,{class:"w-full btn-content",type:"primary",loading:Z.value,onClick:j},{default:f(()=>[k(s(t(S)("确认绑定")),1)]),_:1},8,["loading"])]),v[3]||(v[3]=o("div",{class:"bg"},null,-1))],2)}}}),ql=Te(Yl,[["__scopeId","data-v-4bd0a757"]]);const zl={class:"icon-type-content"},Ll={class:"mb-2.5 text-xs required-txt",style:{color:"#333"}},Pl={key:0,class:"icon-type-content"},Gl={class:"mb-2.5 text-xs required-txt",style:{color:"#333"}},Kl={class:"mb-2.5 text-xs required-txt",style:{color:"#333"}},El={class:"mb-5 border border-solid rounded",style:{"border-color":"#eeeeee"}},Ol={class:"mb-2.5 text-xs required-txt",style:{color:"#333"}},Xl={class:"mb-5 nationality-select"},$l={class:"mb-2.5 text-xs required-txt",style:{color:"#333"}},ea={class:"mb-5 border border-solid rounded",style:{"border-color":"#eeeeee"}},la={class:"mb-2.5 text-xs required-txt",style:{color:"#333"}},aa={class:"mb-5 border border-solid rounded",style:{"border-color":"#eeeeee"}},ta={class:"mb-2.5 text-xs required-txt",style:{color:"#333"}},oa={class:"mb-5 border border-solid rounded",style:{"border-color":"#eeeeee"}},na={class:"mb-2.5 text-xs required-txt",style:{color:"#333"}},sa={class:"mb-5 border border-solid rounded",style:{"border-color":"#eeeeee"}},ua={class:"mb-2.5 text-xs required-txt",style:{color:"#333"}},ra={class:"mb-5 border border-solid rounded",style:{"border-color":"#eeeeee"}},da={class:"mb-2.5 text-xs required-txt",style:{color:"#333"}},ia={class:"mb-2.5 text-xs",style:{color:"#333"}},ca={class:"mb-5 border border-solid rounded",style:{"border-color":"#eeeeee"}},va={class:"mb-2.5 text-xs",style:{color:"#333"}},ma={class:"mb-5 border border-solid rounded",style:{"border-color":"#eeeeee"}},fa={class:"mb-2.5 text-xs",style:{color:"#333"}},pa={class:"mb-5 border border-solid rounded",style:{"border-color":"#eeeeee"}},Aa={class:"mb-2.5 text-xs",style:{color:"#333"}},ba={class:"mb-5 border border-solid rounded",style:{"border-color":"#eeeeee"}},ha={key:14,class:"current-balance"},wa={key:15,class:"current-balance"},ya={key:16,class:"tips"},ga={class:"tips"},xa={key:0,class:"money"},ka={style:{height:"22rem"}},Ca={__name:"index",setup(re){new URL("data:image/png;base64,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",self.location),new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIISURBVHgB7ZjtcYMwDIZFJ2CDskHZoHSCdIN2g3SDZAO6ASOkG5BOkGwAnYBsoMqJfigK2Ng4Lf147nSAscWLbMsYgH9+OQlMBBFTOhRkt2QpF3+QtUmSbOG7IGGPZDXaacgqsgy+CnpYPkJYH2sIwKuL6SEvdCh7bm3J9mQHvs7ZMlWvJXugrm8hNiYCKiId2YrH4FCb+55oN9G7nMebZOfzEBN53R5iYYTwW0txaYCfZyVyBTFQXdtM6R4VyS7kRfucyug9wUTUmJwWRXJQyOhBBMjPwmcs3jjuL8T5G8ThHUQ6cnWzS2AuzrcQAcqBRlwrijJbfZdAyQHisRfnd7aKPgLngxkXnF46MaA3GGEF4HzYCL81We7jQCdmTXCqQftHxnqskwrtdCGRpDav6KZwOclVgyWeutuUN6K89BSXKr+l8LsT5bXL0VJUrtS94KSt2tYW8Z1uq2exTJqtuqevfciG/HBe7Hv+kdmnmR8nUIZb56ZsoN4YDgN+jmkNxqIGs2HNM61Qs7gCD3giyKRfCb/jZzE726CdBsPy4ArdZGMcpeqtJCYK45elS9+lRdzS15lZM2uO2A4dOzhPv7K76ykvHR08rfWS+Ygz4PlaH2UbEQ283PxP3oRFgSee/prx+uC4lrChH01Bm/9rCOwTV81CnAHPk7MRew9zA09/uOYRsT/JJ1GwYsPy/uJAAAAAAElFTkSuQmCC",self.location),new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHjSURBVHgB7ZiNccIwDIVfOkE2IBuUTpBsQDdoOwFs0HYCukHZoCPABu0GyQYJE6jyxfSEsYkTm4Tr8d35MMY/D8mR5QBXToJIEFHKH6n+2iRJ0mBqWFTBZc2lpFNU26fqg7HhRedctuSP6pthDHihFZfaIqLWVisdvytWuCS8wJtFlHJxbumbaxePI5La/Sb59nGb6kOne7RAbIxFlLi0x9hUjzlQ9hnvs8CzMXmGnmhLyr35ilgY1nvCQJQo6QXEQP/zAzUC0K6WVpx1jblDN3NR3yEAfbrsRFPRNcZH4L2o/yCcStSzrs4+AmPT64yeQmAvfATKeBUjQ2kcc1uZQuDeMbcVH4GZqFcIp3HMbaVvmNkjHBkJMoSgA+sfiIQRrM+6ucuChajvEA9pxfxcxy6BC8ekoci5CgzFSBJyRIKOc8th57uZYiEyxj4s0BfDemtExki9tn0Hy7uH+qcZImNJvax3lcQyUMU9mUxuuLzjMiy5SGEPnJK5H0Zq77uuK+NYFFKTGWbUkxrvMjOMo2hx5GJqo/oXQo+g4VRcXtjNFW7c8IT37SNZ7srctqSAO3QUtLgDa9H+4QobYws0XyjVdBpHF5gSFrAhN9HP8EFQe/CXhiWXuDZY1Iw83rf8K34BJqdcZMNEFCAAAAAASUVORK5CYII=",self.location);const R=nl(),S=sl(),{t:a}=Re.useI18n(),V="tiktokMall",ee=ul(),w=u(""),I=u(""),U=u(""),B=u(""),D=u("0.00"),Y=u(0),Z=u("0.00"),j=u(0),g=u("0.00"),v=u("0.00"),q=u(!1),le=u(!1),F=l=>[null,void 0,""].includes(l),x=u([]),z=u(""),Fe=l=>{const e=l.type.startsWith("image/"),r=l.size/1024/1024<2;return e?r?!0:(c("图片大小不能超过 2MB"),!1):(c("只能上传图片文件"),!1)},Qe=async l=>{try{const e=await Ul({file:l.file,moduleName:"shopAvatar"});x.value=[{url:e}],z.value=e}catch(e){c($t("上传失败"))}},K=N(()=>["argos"].includes(V)),He=async()=>{try{const l=await _l();P.value=l.bankName,C.value=l.cardNo,Q.value=l.accountName}catch(l){console.log(l)}},de=N(()=>["shop2u"].includes(V)),ye=u(""),ie=u(""),We=l=>{ie.value=l.countryName},Me=l=>/^[0-9A-Za-z]+$/.test(l),ce=()=>{xl({channel:d.value==="icon"?A.value:"bank"}).then(l=>{const{withdraw_fee:e}=l;D.value=(e*100).toFixed(2)})},H=u([]),Ze=async()=>{await kl().then(l=>{if(console.log(l,"提现地址"),l.length){const e=[...new Set(l.map(r=>r.coin).reverse())];A.value=e[0]}else A.value="USDT";H.value=l||[]}).catch(()=>{c.clear()})},ae=u(""),ge=N(()=>{var e,r;let l=[];return ae.value?l=[{label:ae.value,value:ae.value}]:l=H.value.filter(h=>h.coin===A.value).map(h=>({...h,label:h.blockchain_name,value:h.blockchain_name})),l.length&&(w.value=(r=(e=l[0])==null?void 0:e.value)!=null?r:""),l!=null?l:[]}),te=u(!1),oe=u(!1),L=u(!1),xe=u(""),ve=async()=>{var l;await Cl({session_token:(l=R==null?void 0:R.userInfo)==null?void 0:l.token}).then(e=>{te.value=!!e.openWithdrawAddressBinding,oe.value=!!e.openWithdrawAddressBinding&&(!e.chainName||!e.existWithdrawAddress),L.value=!!e.openWithdrawAddressBinding&&(!e.chainName||!e.existWithdrawAddress),xe.value=e.session_token,e.openWithdrawAddressBinding&&(A.value=e.coinType,I.value=e.existWithdrawAddress,ae.value=e.chainName)})},A=u(""),E=u(!1),je=N(()=>{if(H.value.length){const l=[...new Set(H.value.map(e=>e.coin).reverse())];if(l.length)return l.map(e=>({text:e,value:e}))}return[{text:"USDT",value:"USDT"}]}),Je=()=>{te.value||(E.value=!0)},Ye=({value:l})=>{A.value=l,E.value=!1,ce()};rl(async()=>{c.loading({duration:0,message:a("loading"),forbidClick:!0}),qe(),await Ze(),await ve(),await ce(),c.clear()});const qe=()=>{gl().then(l=>{console.log(l,"====提现限制"),j.value=l.withdrawAmountMin2||0,g.value=l.withdrawAmountMax2||0,v.value=l.withdrawAmountMax3||0,Y.value=l.withdrawAmountMin||0,Z.value=l.withdrawAmountMax||0})};Ne(B,l=>{d.value=="zfb"?Number(l)<j.value?c(a("提款金额不得低于最小提款限额")+": ".concat(j.value," USDT")):Number(l)>v.value&&c(a("提款金额不得高于最大提款限额")+": ".concat(v.value," USDT")):Number(l)<Y.value?(console.log(j.value),c(a("提款金额不得低于最小提款限额")+": ".concat(j.value," USDT"))):Number(l)>g.value&&c(a("提款金额不得高于最大提款限额")+": ".concat(g.value," USDT"))});const ne=u(0),ze=N(()=>{const l=B.value,e=D.value,r=G.divide(G.minus(100,e),100),p=G.times(l,r),h=String(p),J=H.value.find(M=>M.coin===A.value&&M.blockchain_name===w.value),y=J?J.fee:0;return ne.value=Number((Number(l)*y).toFixed(2)),h.includes(".")?h.split(".")[1].length===1?h+"0":h:h+".00"}),Le=N(()=>{const l=B.value,e=D.value,r=G.divide(G.minus(100,e),100),p=G.times(l,r),h=H.value.find(M=>M.coin===A.value&&M.blockchain_name===w.value),J=h?h.fee:0,y=p*J;return $(y)}),me=u(2),W=N(()=>R.userInfo.money),ke=N(()=>{const l=W.value?Number(W.value):0,e=H.value.find(r=>r.coin===A.value&&r.blockchain_name===w.value);return e?(me.value=A.value==="BTC"||A.value==="ETH"?6:2,Number(l/Number(e.fee))):0}),Pe=()=>{let l=0;if(d.value=="bank"?l=W.value:l=ke.value,!L.value){const e=Number($(l,me.value).replace(/,/g,""));B.value=e}},Ce=()=>{S.push({name:"WithdrawRecord"})},Ge=()=>{var l;if(d.value==="icon"){if(!/^[0-9A-Za-z]+$/.test(I.value)){c(a("提现地址只能包含数字和字母"));return}if(F(w.value)){c(a("blockchainNetworkRequire"));return}if(F(I.value)){c(a("withdrawalAddressRequire"));return}if(ne.value>W.value){c(a("余额不足"));return}if(ne.value<Y.value){c("".concat(a("提款金额不得低于最小提款限额"),": ").concat(Y.value,"USDT"));return}if(ne.value>Z.value){c("".concat(a("提款金额不得高于最大提款限额"),": ").concat(Z.value,"USDT"));return}}if(d.value=="zfb"){if(!Q.value){c(a("entryName"));return}if(!C.value){c(a("请输入账号"));return}}if(d.value==="bank"){if(de.value&&F(ie.value)){c(a("selectNation"));return}if(F(P.value)){c(a("请输入开户行名称"));return}if(F(Q.value)){c(a("entryName"));return}if(F(C.value)){c(a("请输入卡号"));return}}if(F(B.value)){c(a("withdrawalAmountRequire"));return}((l=R==null?void 0:R.userInfo)==null?void 0:l.safeword)===1?(q.value=!0,O.value=!0):Bl.confirm({title:a("dialogTips"),message:a("shopSafeWord"),cancelButtonText:a("cancel"),confirmButtonText:a("gotoSet"),confirmButtonColor:"#1552F0",cancelButtonColor:"#999"}).then(()=>{dl("/personalInfo")}).catch(()=>{console.log("cancel")})},Ke=l=>{A.value=l.coin,w.value=l.blockchain_name,I.value=l.channel_address,L.value=!1,oe.value=!1},Ee=async()=>{const l=ge.value.find(p=>p.blockchain_name===w.value),e=l?l.coin:"USDT",r={safeword:U.value,amount:B.value,from:I.value,channel:e,session_token:xe.value};d.value==="bank"&&(r.channel="bank",r.bankName=P.value,r.bankUserName=Q.value,r.bankCardNo=C.value,r.swiftCode=Ae.value,K.value&&(r.swiftCode=ue.value||"",r.routingNum=ue.value||"",r.accountAddress=be.value||"",r.bankAddress=he.value||""),de.value&&(r.countryName=ie.value||"")),d.value=="zfb"&&(r.channel="zfb",r.bankCardNo=C.value,r.bankUserName=Q.value),d.value=="wx"&&(r.channel="wx",r.bankCardNo=C.value,r.bankUserName=Q.value,r.qdCode=z.value),le.value=!0,Vl(r).then(async()=>{await R.getUserInfo(!0),d.value=="wx"||d.value=="zfb"?c(a("withdrawalApplySuccess")+a("提现请联系客服")):c(a("withdrawalApplySuccess")),ve(),setTimeout(()=>{Ce()},1500)}).finally(()=>{le.value=!1,ve()})},O=u(!0);Ne(()=>U.value,l=>{l.length===6&&(c.loading({duration:0,forbidClick:!0}),Ee(),q.value=!1,U.value="")});const Oe=N(()=>(console.log("mode","tiktokMall"),!0));let fe="虚拟币";["familyShop","sm"].includes(V)&&(fe="加密货币"),["argos2"].includes(V)&&(fe="货币");const pe=u(a("银行卡")),d=u("bank"),se=u([{text:a(fe),value:"icon",act:4}]);Oe.value&&se.value.push({text:["sm"].includes(V)?a("银行卡2"):a("银行卡"),value:"bank",act:3}),["tiktok-wholesale"].includes(V)&&(se.value.push({text:a("微信"),value:"wx",act:2},{text:a("支付宝"),value:"zfb",act:1}),se.value.sort((l,e)=>l.act-e.act));const X=u(!1),P=u(""),Q=u(""),C=u(""),Ae=u(""),ue=u(""),be=u(""),he=u(""),Xe=l=>{l.value=="bank"&&He(),l.value==="bank"&&["familyShop","sm"].includes(V)?S.push({path:"/customerService"}):(pe.value=l.text,d.value=l.value,X.value=!1,B.value="",P.value="",Q.value="",C.value="",ce())};return(l,e)=>{const r=il,p=De,h=hl,J=cl,y=Nl,M=bl,$e=Al,_e=Ie,el=fl,ll=pl,al=ml;return m(),T("div",null,[i(r,null,{title:f(()=>[o("div",null,s(t(a)("withdrawal")),1)]),right:f(()=>[o("div",{onClick:Ce},s(t(a)("withdrawalRecord")),1)]),_:1}),o("div",{class:we(["withdraw",{"is-ar":t(ee)}])},[o("div",zl,[o("div",Ll,s(t(a)("取款方式")),1),i(p,{modelValue:pe.value,"onUpdate:modelValue":e[0]||(e[0]=n=>pe.value=n),readonly:"",name:"picker",onClick:e[1]||(e[1]=n=>X.value=!0)},null,8,["modelValue"]),i(J,{show:X.value,"onUpdate:show":e[3]||(e[3]=n=>X.value=n),position:"bottom"},{default:f(()=>[i(h,{columns:se.value,"cancel-button-text":t(a)("cancel"),"confirm-button-text":t(a)("confirm"),onConfirm:Xe,onCancel:e[2]||(e[2]=n=>X.value=!1)},null,8,["columns","cancel-button-text","confirm-button-text"])]),_:1},8,["show"])]),d.value==="icon"?(m(),T("div",Pl,[o("div",Gl,s(t(a)("选择币种")),1),i(p,{modelValue:A.value,"onUpdate:modelValue":e[4]||(e[4]=n=>A.value=n),readonly:"",name:"picker",onClick:Je},null,8,["modelValue"]),i(J,{show:E.value,"onUpdate:show":e[6]||(e[6]=n=>E.value=n),position:"bottom"},{default:f(()=>[i(h,{columns:je.value,"cancel-button-text":t(a)("cancel"),"confirm-button-text":t(a)("confirm"),onConfirm:Ye,onCancel:e[5]||(e[5]=n=>E.value=!1)},null,8,["columns","cancel-button-text","confirm-button-text"])]),_:1},8,["show"])])):b("",!0),d.value==="icon"?(m(),_(wl,{key:1,list:ge.value,label:t(a)("blockchainNetwork"),disabled:te.value,modelValue:w.value,"onUpdate:modelValue":e[7]||(e[7]=n=>w.value=n)},null,8,["list","label","disabled","modelValue"])):b("",!0),d.value==="icon"?(m(),_(y,{key:2},{default:f(()=>[o("div",Kl,s(t(a)("withdrawalAddress")),1),o("div",El,[i(p,{clearable:"",modelValue:I.value,"onUpdate:modelValue":e[8]||(e[8]=n=>I.value=n),disabled:te.value,placeholder:t(a)("withdrawalAddressTips"),rules:[{validator:Me,message:t(a)("提现地址只能包含数字和字母"),trigger:"onChange"}]},null,8,["modelValue","disabled","placeholder","rules"])])]),_:1})):b("",!0),d.value==="bank"&&de.value?(m(),_(y,{key:3},{default:f(()=>[o("div",Ol,s(t(a)("国家")),1),o("div",Xl,[i(M,{modelValue:ye.value,"onUpdate:modelValue":e[9]||(e[9]=n=>ye.value=n),"get-name":"true",onDone:We},null,8,["modelValue"])])]),_:1})):b("",!0),d.value==="bank"?(m(),_(y,{key:4},{default:f(()=>[o("div",$l,s(t(a)("开户行")),1),o("div",ea,[i(p,{clearable:"",modelValue:P.value,"onUpdate:modelValue":e[10]||(e[10]=n=>P.value=n),placeholder:t(a)("请输入开户行名称")},null,8,["modelValue","placeholder"])])]),_:1})):b("",!0),d.value==="bank"||d.value==="zfb"?(m(),_(y,{key:5},{default:f(()=>[o("div",la,s(t(a)("姓名")),1),o("div",aa,[i(p,{clearable:"",modelValue:Q.value,"onUpdate:modelValue":e[11]||(e[11]=n=>Q.value=n),placeholder:t(a)("entryName")},null,8,["modelValue","placeholder"])])]),_:1})):b("",!0),d.value==="bank"?(m(),_(y,{key:6},{default:f(()=>[o("div",ta,s(t(a)("卡号")),1),o("div",oa,[i(p,{clearable:"",modelValue:C.value,"onUpdate:modelValue":e[12]||(e[12]=n=>C.value=n),placeholder:t(a)("请输入卡号")},null,8,["modelValue","placeholder"])])]),_:1})):b("",!0),d.value==="zfb"?(m(),_(y,{key:7},{default:f(()=>[o("div",na,s(t(a)("支付宝账号")),1),o("div",sa,[i(p,{clearable:"",modelValue:C.value,"onUpdate:modelValue":e[13]||(e[13]=n=>C.value=n),placeholder:t(a)("请输入账号")},null,8,["modelValue","placeholder"])])]),_:1})):b("",!0),d.value==="wx"?(m(),_(y,{key:8},{default:f(()=>[o("div",ua,s(t(a)("微信绑定手机号")),1),o("div",ra,[i(p,{clearable:"",modelValue:C.value,"onUpdate:modelValue":e[14]||(e[14]=n=>C.value=n),placeholder:t(a)("请输入账号")},null,8,["modelValue","placeholder"])])]),_:1})):b("",!0),d.value==="wx"?(m(),_(y,{key:9},{default:f(()=>[o("div",da,s(l.$t("上传微信收款码（需保存收款码到相册)")),1),i($e,{modelValue:x.value,"onUpdate:modelValue":e[15]||(e[15]=n=>x.value=n),"before-read":Fe,"after-read":Qe,"max-count":1},null,8,["modelValue"])]),_:1})):b("",!0),d.value==="bank"&&K.value?(m(),_(y,{key:10},{default:f(()=>[o("div",ia,s(t(a)("国际代码")),1),o("div",ca,[i(p,{clearable:"",modelValue:Ae.value,"onUpdate:modelValue":e[16]||(e[16]=n=>Ae.value=n),placeholder:t(a)("请输入国际代码")},null,8,["modelValue","placeholder"])])]),_:1})):b("",!0),d.value==="bank"&&K.value?(m(),_(y,{key:11},{default:f(()=>[o("div",va,s(t(a)("路由号码")),1),o("div",ma,[i(p,{clearable:"",modelValue:ue.value,"onUpdate:modelValue":e[17]||(e[17]=n=>ue.value=n),placeholder:t(a)("请输入路由号码")},null,8,["modelValue","placeholder"])])]),_:1})):b("",!0),d.value==="bank"&&K.value?(m(),_(y,{key:12},{default:f(()=>[o("div",fa,s(t(a)("账户地址")),1),o("div",pa,[i(p,{clearable:"",modelValue:be.value,"onUpdate:modelValue":e[18]||(e[18]=n=>be.value=n),placeholder:t(a)("请输入账户地址")},null,8,["modelValue","placeholder"])])]),_:1})):b("",!0),d.value==="bank"&&K.value?(m(),_(y,{key:13},{default:f(()=>[o("div",Aa,s(t(a)("银行地址")),1),o("div",ba,[i(p,{clearable:"",modelValue:he.value,"onUpdate:modelValue":e[19]||(e[19]=n=>he.value=n),placeholder:t(a)("请输入银行地址")},null,8,["modelValue","placeholder"])])]),_:1})):b("",!0),i(Sl,{label:t(a)("withdrawalAmount"),placeholderText:t(a)("withdrawalAmountTips"),modelValue:B.value,"onUpdate:modelValue":e[20]||(e[20]=n=>B.value=n),maxLength:16,disabled:L.value,required:"",typeText:"number"},{rightBtn:f(()=>[o("div",{class:we(["withdraw-all",{"is-ar":t(ee)}]),onClick:Pe,style:{"min-width":"40px"}},s(t(a)("total")),3)]),_:1},8,["label","placeholderText","modelValue","disabled"]),(W.value||W.value===0)&&A.value&&d.value==="icon"?(m(),T("div",ha,[k(s(t(a)("当前余额"))+": ",1),o("span",null,s(t($)(W.value)),1),e[27]||(e[27]=k("USDT ≈ ",-1)),o("span",null,s(t($)(ke.value,me.value)),1),k(" "+s(A.value),1)])):b("",!0),d.value!=="icon"?(m(),T("div",wa,[k(s(t(a)("当前余额"))+": ",1),o("span",null,s(t($)(W.value)),1),e[28]||(e[28]=k("USD ",-1))])):b("",!0),d.value==="wx"?(m(),T("div",ya,[o("span",null,s(t(a)("微信"))+" "+s(t(a)("提现请联系客服")),1)])):b("",!0),o("div",ga,[o("div",null,[o("span",null,[k(s(t(a)("realWithdrawalAccount"))+": "+s(ze.value)+" ",1),o("span",null,s(d.value==="icon"?" ".concat(A.value):" USD"),1)]),d.value=="icon"&&A.value!=="USDT"||d.value!=="bank"?(m(),T("p",xa,[e[29]||(e[29]=k(" ≈ ",-1)),o("span",null,s(Le.value),1),e[30]||(e[30]=k("USDT ",-1))])):b("",!0)]),o("span",null,s(t(a)("withdrawalFee"))+": "+s(D.value)+"%",1)]),i(_e,{class:"w-full btn-content",type:"primary",disabled:L.value,onClick:Ge},{default:f(()=>[k(s(t(a)("submit")),1)]),_:1},8,["disabled"]),i(_e,{type:"primary",disabled:L.value,onClick:e[21]||(e[21]=n=>t(vl)(!1))},{default:f(()=>[k(s(t(a)("联系客服")),1)]),_:1},8,["disabled"]),i(al,{show:q.value,"onUpdate:show":e[25]||(e[25]=n=>q.value=n),title:t(a)("请输入交易密码")},{default:f(()=>[o("div",ka,[i(el,{length:6,value:U.value,focused:O.value,onFocus:e[22]||(e[22]=n=>O.value=!0)},null,8,["value","focused"]),i(ll,{modelValue:U.value,"onUpdate:modelValue":e[23]||(e[23]=n=>U.value=n),show:O.value,onBlur:e[24]||(e[24]=n=>O.value=!1)},null,8,["modelValue","show"])])]),_:1},8,["show","title"])],2),i(ql,{modelValue:oe.value,"onUpdate:modelValue":e[26]||(e[26]=n=>oe.value=n),"chain-data":H.value,onBindDone:Ke},null,8,["modelValue","chain-data"])])}}},Pa=Te(Ca,[["__scopeId","data-v-281a3e8a"]]);export{Pa as default};
