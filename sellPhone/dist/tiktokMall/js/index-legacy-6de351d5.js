System.register(["./index-legacy-27bdf402.js"],function(e,n){"use strict";var a,t,i,o,r,l,c,s,d,b,v,p,g,f,u;return{setters:[e=>{a=e.aq,t=e.ax,i=e.e,o=e.r,r=e.p,l=e.bA,c=e.ar,s=e.ay,d=e.f,b=e.g,v=e.bD,p=e.b,g=e.I,f=e.b7,u=e.av}],execute:function(){var n=document.createElement("style");n.textContent=":root{--van-notice-bar-height: 40px;--van-notice-bar-padding: 0 var(--van-padding-md);--van-notice-bar-wrapable-padding: var(--van-padding-xs) var(--van-padding-md);--van-notice-bar-text-color: var(--van-orange-dark);--van-notice-bar-font-size: var(--van-font-size-md);--van-notice-bar-line-height: 24px;--van-notice-bar-background-color: var(--van-orange-light);--van-notice-bar-icon-size: 16px;--van-notice-bar-icon-min-width: 24px }.van-notice-bar{position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:var(--van-notice-bar-height);padding:var(--van-notice-bar-padding);color:var(--van-notice-bar-text-color);font-size:var(--van-notice-bar-font-size);line-height:var(--van-notice-bar-line-height);background:var(--van-notice-bar-background-color)}.van-notice-bar__left-icon,.van-notice-bar__right-icon{min-width:var(--van-notice-bar-icon-min-width);font-size:var(--van-notice-bar-icon-size)}.van-notice-bar__right-icon{text-align:right;cursor:pointer}.van-notice-bar__wrap{position:relative;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-flex:1;-webkit-flex:1 1;flex:1 1;-webkit-box-align:center;-webkit-align-items:center;align-items:center;height:100%;overflow:hidden}.van-notice-bar__content{position:absolute;white-space:nowrap;-webkit-transition-timing-function:linear;transition-timing-function:linear}.van-notice-bar__content.van-ellipsis{max-width:100%}.van-notice-bar--wrapable{height:auto;padding:var(--van-notice-bar-wrapable-padding)}.van-notice-bar--wrapable .van-notice-bar__wrap{height:auto}.van-notice-bar--wrapable .van-notice-bar__content{position:relative;white-space:normal;word-wrap:break-word}\n",document.head.appendChild(n);const[w,h]=a("notice-bar"),m={text:String,mode:String,color:String,delay:t(1),speed:t(60),leftIcon:String,wrapable:Boolean,background:String,scrollable:{type:Boolean,default:null}};var x=i({name:w,props:m,emits:["close","replay"],setup(e,{emit:n,slots:a}){let t,i=0,u=0;const w=o(),m=o(),x=r({show:!0,offset:0,duration:0}),k=a=>{"closeable"===e.mode&&(x.show=!1,n("close",a))},y=()=>{if(a["right-icon"])return a["right-icon"]();const n="closeable"===e.mode?"cross":"link"===e.mode?"arrow":void 0;return n?p(g,{name:n,class:h("right-icon"),onClick:k},null):void 0},_=()=>{x.offset=i,x.duration=0,c.raf(()=>{c.doubleRaf(()=>{x.offset=-u,x.duration=(u+i)/+e.speed,n("replay")})})},z=()=>{const n=!1===e.scrollable&&!e.wrapable,t={transform:x.offset?`translateX(${x.offset}px)`:"",transitionDuration:`${x.duration}s`};return p("div",{ref:w,role:"marquee",class:h("wrap")},[p("div",{ref:m,style:t,class:[h("content"),{"van-ellipsis":n}],onTransitionend:_},[a.default?a.default():e.text])])},S=()=>{const{delay:n,speed:a,scrollable:o}=e,r=f(n)?1e3*+n:0;i=0,u=0,x.offset=0,x.duration=0,clearTimeout(t),t=setTimeout(()=>{if(!w.value||!m.value||!1===o)return;const e=c.useRect(w).width,n=c.useRect(m).width;(o||n>e)&&c.doubleRaf(()=>{i=e,u=n,x.offset=-u,x.duration=u/+a})},r)};return l(S),c.onMountedOrActivated(S),c.useEventListener("pageshow",S),s({reset:S}),d(()=>[e.text,e.scrollable],S),()=>{const{color:n,wrapable:t,background:i}=e;return b(p("div",{role:"alert",class:h({wrapable:t}),style:{color:n,background:i}},[a["left-icon"]?a["left-icon"]():e.leftIcon?p(g,{class:h("left-icon"),name:e.leftIcon},null):void 0,z(),y()]),[[v,x.show]])}}});e("N",u(x))}}});
