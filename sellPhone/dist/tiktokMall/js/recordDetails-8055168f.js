import{_ as V,i as j,r as d,a0 as q,v as E,T as v,o as s,c as a,b as x,w,a as i,F as L,E as R,x as k,n as f,u as c,e as U,a9 as $,d as b,t as u,Z as A,M as F}from"./index-55507c28.js";import{B as H}from"./index-64f4bac7.js";import{u as O}from"./index-76527f4c.js";import{r as z}from"./exchange.api-6b2f1fdd.js";import{c as Z}from"./index-021b9a81.js";import{I as G}from"./index-912b17af.js";/* empty css              *//* empty css              */import"./index-dc8f9730.js";import"./index-715fcdb8.js";const J={key:0,class:"content"},K=["onClick"],Q=["src"],W=["onClick"],X={key:0,class:"btn-content"},Y=U({name:"RechageRecordDetails"}),ee=Object.assign(Y,{setup(oe){const N=j(),p=d(!0),h=[{title:"订单号",info:"",copy:!0,key:"order_no"},{title:"创建时间",info:"",key:"create_time"},{title:"充值数量",info:"",color:!0,key:"volume",isNum:!0,unit:"USDT"},{title:"实际到账",info:"",color:!0,key:"amount",isNum:!0,unit:"USDT"},{title:"订单状态",info:"",color:!0,key:"state"},{title:"币种协议",info:"",key:"coin_blockchain"},{title:"收款地址",info:"",copy:!0,key:"channel_address"},{title:"支付凭证",info:"",key:"img"}],l=d([]),y=q(),m=d(""),{t:r}=E.useI18n(),{toClipboard:B}=O(),g=d(!1),_=d(null),C=y.query.order_no,D=y.query.isThirdParty||0;if(g.value=!!Number(D),g.value){const t=Z(h);for(let o=0;o<t.length;o++)["coin_blockchain","channel_address","img"].includes(t[o].key)&&t.splice(o--,1);l.value=t}else l.value=h;if(y.query.r){m.value=y.query.r;const t=l.value.findIndex(o=>o.key==="state");l.value.splice(t+1,0,{title:"失败原因",info:"",redColor:!0,key:"failure_msg"})}C?(p.value=!0,v.loading({duration:0,forbidClick:!0}),z({order_no:C}).then(t=>{_.value=t;const o=l.value.find(n=>n.key==="volume");o.unit=t.coin,l.value.forEach(n=>{n.info=n.key==="failure_msg"?m.value:t[n.key]})}).finally(()=>{v.clear(),p.value=!1})):v(r("参数错误"));const T=t=>{var n;return(n={0:r("processing"),1:r("successful"),2:r("failure")}[t])!=null?n:""},I=async t=>{try{await B(t),v(r("copySuccess"))}catch(o){console.error(o)}},S=t=>{G({images:[t],showIndex:!1,loop:!1})};return(t,o)=>{const n=$,M=H;return s(),a("div",null,[x(n,{fixed:""},{title:w(()=>[b(u(c(r)("充值详情")),1)]),_:1}),o[2]||(o[2]=i("div",{style:{height:"46px"}},null,-1)),i("div",{class:f(["details-content",{"is-ar":c(N)}])},[p.value?k("",!0):(s(),a("div",J,[(s(!0),a(L,null,R(l.value,e=>(s(),a("div",{key:e.key,class:"item"},[i("p",null,u(c(r)(e.title))+"：",1),i("div",{class:f({copy:e.copy})},[e.key==="state"?(s(),a("span",{key:0,class:f("color-".concat(e.info))},u(T(e.info)),3)):e.key==="img"?(s(),a("span",{key:1,class:"img",onClick:P=>S(e.info)},[i("img",{src:e.info,alt:""},null,8,Q)],8,K)):(s(),a("span",{key:2,class:f({color:e.color,"color-2":e.redColor})},u(e.isNum?c(A)(e.info,["BTC","ETH"].includes(e.unit)?6:2):e.info),3)),e.unit?(s(),a("span",{key:3,class:f([{color:e.color},"unit"])},u(e.unit),3)):k("",!0),e.copy&&e.info?(s(),a("svg",{key:4,onClick:P=>I(e.info),xmlns:"http://www.w3.org/2000/svg",width:"18",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-copy"},[...o[1]||(o[1]=[i("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},null,-1),i("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},null,-1)])],8,W)):k("",!0)],2)]))),128))]))],2),g.value&&!p.value&&+(_.value.state===0)&&_.value.payUrl?(s(),a("div",X,[x(M,{type:"primary",onClick:o[0]||(o[0]=e=>c(F)(_.value.payUrl,!0))},{default:w(()=>[b(u(c(r)("去支付")),1)]),_:1})])):k("",!0)])}}}),fe=V(ee,[["__scopeId","data-v-5144d025"]]);export{fe as default};
