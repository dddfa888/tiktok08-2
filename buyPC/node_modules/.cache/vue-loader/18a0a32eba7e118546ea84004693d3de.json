{"remainingRequest":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\src\\page\\creditPage\\myLoan.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\src\\page\\creditPage\\myLoan.vue","mtime":1760944158211},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761044715083},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\babel-loader\\lib\\index.js","mtime":1761044716268},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761044715083},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\vue-loader\\lib\\index.js","mtime":1761044716737}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgew0KICBCaWxsQ3JlZGl0LA0KICBDcmVkaXRIaXN0b3J5LA0KICBCZWZvcmVQYXlDcmVkaXQsDQogIHBheUNyZWRpdCwNCn0gZnJvbSAiQC9hcGkvY3JlZGl0IjsNCmltcG9ydCBFc1BheVBhc3N3b3JkIGZyb20gIkAvY29tcG9uZW50cy9wYXlQYXNzd29yZCI7DQppbXBvcnQgeyBudW1iZXJGb3JtYXQgfSBmcm9tICJAL3V0aWwiOw0KaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwQWN0aW9ucyB9IGZyb20gInZ1ZXgiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBjb21wb25lbnRzOiB7DQogICAgRXNQYXlQYXNzd29yZCwNCiAgfSwNCiAgcHJvcHM6IHsNCiAgICBzaG93OiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogZmFsc2UsDQogICAgfSwNCiAgICBwYXlDYWxsYmFjazogew0KICAgICAgdHlwZTogRnVuY3Rpb24sDQogICAgICBkZWZhdWx0OiBudWxsLA0KICAgIH0sDQogICAgcGF5TG9hZGluZzogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IGZhbHNlLA0KICAgIH0sDQogIH0sDQogIG1vZGVsOiB7DQogICAgcHJvcDogInNob3ciLA0KICAgIGV2ZW50OiAidXBkYXRlIiwNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgaGlzdG9yeUxpc3Q6IFtdLA0KICAgICAgcGFnZVNpemU6IDEwLA0KICAgICAgcGFnZU51bTogMSwNCiAgICAgIHRvdGFsOiAyLA0KICAgICAgbG9hZGluZzogdHJ1ZSwNCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLA0KICAgICAgcmVhbG5hbWU6ICIiLA0KICAgICAgY3JlZGl0UmF0ZTogMCwNCiAgICAgIGFscmVhZHlDcmVkaXREYXlzOiAwLA0KICAgICAgZXN0aW1hdGVQYXltZW50OiAwLA0KICAgICAgYWNjb3VudEFtb3VudDogMCwNCiAgICAgIHBhc3N3b3JkRGlhbG9nOiBmYWxzZSwNCiAgICAgIHBhc3N3b3JkOiAiIiwNCiAgICAgIC8vIDAg5pSv5LuY55WM6Z2iIDEg6K6+572u5pSv5LuY5a+G56CBIDIg56Gu6K6k5pSv5LuY5a+G56CBDQogICAgICBzaG93TW9kZWw6IDAsDQogICAgICBteWxvYW46ICItLSIsDQogICAgICBkYXk6ICItLSIsDQogICAgICBJbnRlcmVzdDogIi0tIiwNCiAgICAgIHJlcGF5OiAiLS0iLA0KICAgICAgZGlzYmxlOiBmYWxzZSwNCiAgICAgIGZvdWNlOiBmYWxzZSwNCiAgICAgIGZpcnN0UGF3OiAwLA0KICAgICAgc2Vjb25kUGF3OiAwLA0KICAgIH07DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5nZXRDcmVkaXRMaXN0KCk7DQogICAgdGhpcy5nZXRDcmVkaXRIaXN0b3J5KDEpOw0KICB9LA0KICBjb21wdXRlZDogew0KICAgIC4uLm1hcEdldHRlcnMoew0KICAgICAgdXNlckluZm86ICJ1c2VySW5mbyIsDQogICAgfSksDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAuLi5tYXBBY3Rpb25zKHsNCiAgICAgIHNldFNhZmV3b3JkRnVuYzogIm9yZGVyL3NldFNhZmV3b3JkRnVuYyIsDQogICAgfSksDQogICAgbnVtYmVyRm9ybWF0LA0KICAgIGFzeW5jIGdldENyZWRpdExpc3QoKSB7DQogICAgICBsZXQgcmVzID0gYXdhaXQgQmlsbENyZWRpdCgpOw0KICAgICAgdGhpcy5teWxvYW4gPSB0aGlzLm51bWJlckZvcm1hdChyZXMuZGF0YS5hcHBseUFtb3VudCkNCiAgICAgICAgPyB0aGlzLm51bWJlckZvcm1hdChyZXMuZGF0YS5hcHBseUFtb3VudCkNCiAgICAgICAgOiAiLS0iOw0KICAgICAgdGhpcy5kYXkgPSByZXMuZGF0YS5hbHJlYWR5Q3JlZGl0RGF5cyA/IHJlcy5kYXRhLmFscmVhZHlDcmVkaXREYXlzIDogIi0tIjsNCiAgICAgIHRoaXMuSW50ZXJlc3QgPSB0aGlzLm51bWJlckZvcm1hdChyZXMuZGF0YS5pbnRlcmVzdCkNCiAgICAgICAgPyB0aGlzLm51bWJlckZvcm1hdChyZXMuZGF0YS5pbnRlcmVzdCkNCiAgICAgICAgOiAiLS0iOw0KICAgICAgdGhpcy5yZXBheSA9IHRoaXMubnVtYmVyRm9ybWF0KHJlcy5kYXRhLmVzdGltYXRlUGF5bWVudCkNCiAgICAgICAgPyB0aGlzLm51bWJlckZvcm1hdChyZXMuZGF0YS5lc3RpbWF0ZVBheW1lbnQpDQogICAgICAgIDogIi0tIjsNCiAgICB9LA0KICAgIGFzeW5jIGdldENyZWRpdEhpc3RvcnkoKSB7DQogICAgICBsZXQgcmVzID0gYXdhaXQgQ3JlZGl0SGlzdG9yeSh7DQogICAgICAgIHBhZ2VObzogdGhpcy5wYWdlTnVtLA0KICAgICAgfSk7DQogICAgICB0aGlzLmhpc3RvcnlMaXN0ID0gcmVzLmRhdGEuZWxlbWVudHM7DQogICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsNCiAgICAgIHRoaXMudG90YWwgPSByZXMuZGF0YS50b3RhbEVsZW1lbnRzOw0KICAgIH0sDQogICAgY3VycmVudENoYW5nZShwYWdlKSB7DQogICAgICB0aGlzLnBhZ2VOdW0gPSBwYWdlOw0KICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsNCiAgICAgIHRoaXMuZ2V0RGljb3VudGVkTGlzdCgpOw0KICAgIH0sDQogICAgZ29QYWdlKGlkKSB7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2NyZWRpdC9hcHBsaWNhdGlvbj9pZD0iICsgaWQpOw0KICAgIH0sDQogICAgYXN5bmMgY3JlZGl0RGV0YWlsKGlkKSB7DQogICAgICBsZXQgcmVzID0gYXdhaXQgQmVmb3JlUGF5Q3JlZGl0KHsgcGFnZU5vOiAiMSIsIGNyZWRpdElkOiBpZCB9KTsNCiAgICAgIHRoaXMucmVhbG5hbWUgPSByZXMuZGF0YS5yZWFsTmFtZTsNCiAgICAgIHRoaXMuY3JlZGl0UmF0ZSA9IHJlcy5kYXRhLmNyZWRpdFJhdGUgKiAxMDA7DQogICAgICB0aGlzLmFscmVhZHlDcmVkaXREYXlzID0gcmVzLmRhdGEuYWxyZWFkeUNyZWRpdERheXM7DQogICAgICB0aGlzLmVzdGltYXRlUGF5bWVudCA9IHJlcy5kYXRhLmVzdGltYXRlUGF5bWVudDsNCiAgICAgIHRoaXMuYWNjb3VudEFtb3VudCA9IHJlcy5kYXRhLmFjY291bnRBbW91bnQ7DQogICAgfSwNCiAgICBSZXBheW1lbnQoaWQpIHsNCiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7DQogICAgICB0aGlzLmNyZWRpdERldGFpbChpZCk7DQogICAgICB0aGlzLmNyZWRpdElkID0gaWQ7DQogICAgfSwNCiAgICBwYXlDb250ZW50KCkgew0KICAgICAgaWYgKHRoaXMuZm91Y2UpIHsNCiAgICAgICAgdGhpcy4kcmVmcy5wYXNzd29yZFJlZi5jbGVhcigpOw0KICAgICAgfQ0KICAgICAgaWYgKCF0aGlzLnVzZXJJbmZvLnNhZmV3b3JkKSB7DQogICAgICAgIC8vIOiuvue9ruaUr+S7mOWvhueggQ0KICAgICAgICB0aGlzLnBhc3N3b3JkRGlhbG9nID0gdHJ1ZTsNCiAgICAgICAgdGhpcy5zaG93TW9kZWwgPSAxOw0KICAgICAgICByZXR1cm47DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLnNob3dNb2RlbCA9IDA7DQogICAgICAgIHRoaXMucGFzc3dvcmREaWFsb2cgPSB0cnVlOw0KICAgICAgfQ0KICAgIH0sDQogICAgcHJldmlvdXMoKSB7DQogICAgICB0aGlzLnNob3dNb2RlbCA9IDE7DQogICAgICAvLyB0aGlzLiRlbWl0KCdjaGFuZ2VTaG93TW9kZWwnLCAxKQ0KICAgICAgdGhpcy4kcmVmcy5wYXNzd29yZFJlZi5jbGVhcigpOw0KICAgIH0sDQogICAgc2V0VXBQYXcoKSB7DQogICAgICAvLyDorr7nva7mlK/ku5jlr4bnoIENCiAgICAgIC8vIHRoaXMuJGVtaXQoJ2NoYW5nZVNob3dNb2RlbCcsIDIpDQogICAgICBjb25zdCBwYXNzd29yZEFyciA9IHRoaXMuJHJlZnMucGFzc3dvcmRSZWYuY29kZURhdGE7DQogICAgICBjb25zdCBmaWx0ZXJQYXNzd29yZCA9IHBhc3N3b3JkQXJyLmZpbHRlcigoaXRlbSkgPT4gaXRlbSAhPT0gIiIpOw0KICAgICAgaWYgKGZpbHRlclBhc3N3b3JkLmxlbmd0aCA9PT0gNikgew0KICAgICAgICB0aGlzLnNob3dNb2RlbCA9IDI7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCJtZXNzYWdlLmhvbWUu6K+36L6T5YWl5a6M5pW055qE5pSv5LuY5a+G56CBISIpLA0KICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwNCiAgICAgICAgfSk7DQogICAgICB9DQogICAgICB0aGlzLiRyZWZzLnBhc3N3b3JkUmVmLmNsZWFyKCk7DQogICAgfSwNCiAgICBjb25maXJtUGF5UGF3KCkgew0KICAgICAgLy8g5YaN5qyh56Gu6K6k5pSv5LuY5a+G56CBDQogICAgICBpZiAodGhpcy5maXJzdFBhdyA9PT0gdGhpcy5zZWNvbmRQYXcpIHsNCiAgICAgICAgdGhpcy5zZXRTYWZld29yZCh0aGlzLmZpcnN0UGF3LCB0aGlzLnNlY29uZFBhdyk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCJtZXNzYWdlLmhvbWUudHdvUGF3d29yZCIpLA0KICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwNCiAgICAgICAgfSk7DQogICAgICAgIHRoaXMuJHJlZnMucGFzc3dvcmRSZWYuY2xlYXIoKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGFzeW5jIHNldFNhZmV3b3JkKHNhZmV3b3JkLCByZV9zYWZld29yZCkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgYXdhaXQgdGhpcy5zZXRTYWZld29yZEZ1bmMoew0KICAgICAgICAgIHNhZmV3b3JkLA0KICAgICAgICAgIHJlX3NhZmV3b3JkLA0KICAgICAgICB9KTsNCiAgICAgICAgdGhpcy5zaG93TW9kZWwgPSAwOw0KICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3ModGhpcy4kdCgibWVzc2FnZS5ob21lLnNldFN1Y2Nlc3MiKSk7DQogICAgICB9IGNhdGNoIChlcnJvcikge30NCiAgICB9LA0KICAgIGFzeW5jIHBheSgpIHsNCiAgICAgIGlmICh0aGlzLmFjY291bnRBbW91bnQgPCB0aGlzLmVzdGltYXRlUGF5bWVudCkgew0KICAgICAgICB0aGlzLiRtZXNzYWdlKHsNCiAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCJtZXNzYWdlLmhvbWUuYmFsYW5jZU5vdCIpLA0KICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwNCiAgICAgICAgfSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICB0aGlzLiRyZWZzLnBhc3N3b3JkUmVmLmNsZWFyKCk7DQogICAgICAgIGxldCByZXMgPSBhd2FpdCBwYXlDcmVkaXQoew0KICAgICAgICAgIGNyZWRpdElkOiB0aGlzLmNyZWRpdElkLA0KICAgICAgICAgIHNhZmV3b3JkOiB0aGlzLnBhc3N3b3JkLA0KICAgICAgICB9KTsNCg0KICAgICAgICBpZiAocmVzLmNvZGUgPT0gMSkgew0KICAgICAgICAgIGNvbnNvbGUubG9nKCIyMjIgLT4iLCAyMjIpOw0KICAgICAgICAgIHRoaXMuJHJlZnMucGFzc3dvcmRSZWYuY2xlYXIoKTsNCiAgICAgICAgfQ0KICAgICAgICBpZiAocmVzLmNvZGUgPT0gMCkgew0KICAgICAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOw0KICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgibWVzc2FnZS5ob21lLnBheW1lbnRTdWNjZXNzZnVsIiksDQogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsDQogICAgICAgICAgfSk7DQogICAgICAgICAgdGhpcy5nZXRDcmVkaXRIaXN0b3J5KCk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICB0aGlzLnBhc3N3b3JkRGlhbG9nID0gZmFsc2U7DQogICAgICB9LCAyMDApOw0KICAgIH0sDQogICAgb3V0cHV0KHsgZGF0YSwgaXNmaW5pc2hlZCB9KSB7DQogICAgICAvLyBjb25zb2xlLmxvZygiZGF0YSxpc2ZpbmlzaGVkIC0+IiwgZGF0YSwgaXNmaW5pc2hlZCk7DQogICAgICB0aGlzLmZvdWNlID0gdHJ1ZTsNCiAgICAgIGlmIChpc2ZpbmlzaGVkKSB7DQogICAgICAgIGlmICh0aGlzLnNob3dNb2RlbCA9PT0gMSkgew0KICAgICAgICAgIHRoaXMuZmlyc3RQYXcgPSBkYXRhOw0KICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2hvd01vZGVsID09PSAyKSB7DQogICAgICAgICAgdGhpcy5zZWNvbmRQYXcgPSBkYXRhOw0KICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2hvd01vZGVsID09PSAwKSB7DQogICAgICAgICAgdGhpcy5wYXNzd29yZCA9IGRhdGE7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["myLoan.vue"],"names":[],"mappings":";AA6LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"myLoan.vue","sourceRoot":"src/page/creditPage","sourcesContent":["<template>\r\n  <div class=\"app-container loan\">\r\n    <div class=\"mine\">\r\n      <div class=\"left\">\r\n        <div class=\"title\">{{ $t(\"message.home.myloan\") }}</div>\r\n        <div class=\"money\">{{ myloan }}</div>\r\n        <div class=\"details\">\r\n          <div>\r\n            <span>{{ day }}{{ $t(\"message.home.days\") }}</span>\r\n            <p>{{ $t(\"message.home.loaned\") }}</p>\r\n          </div>\r\n          <div>\r\n            <span>{{ Interest }}</span>\r\n            <p>{{ $t(\"message.home.interest\") }}</p>\r\n          </div>\r\n          <div>\r\n            <span>{{ repay }}</span>\r\n            <p>{{ $t(\"message.home.esRepayment\") }}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"right\" v-if=\"disble\">\r\n        <div @click=\"goPage\">\r\n          {{ $t(\"message.home.applyLoan\") }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"record-title\">{{ $t(\"message.home.loanHistory\") }}</div>\r\n    <div class=\"record\">\r\n      <div v-loading=\"loading\">\r\n        <div class=\"list\" v-for=\"(item, i) in historyList\" :key=\"i\">\r\n          <img src=\"@/assets/image/record.png\" alt=\"\" />\r\n          <div class=\"item date-box\">\r\n            <div class=\"money\">{{ numberFormat(item.applyAmount) }}</div>\r\n            <div class=\"date\">\r\n              {{ $t(\"message.home.applicantDate\") }}:{{\r\n                $formatZoneDate(item.customerSubmitTime)\r\n              }}\r\n            </div>\r\n          </div>\r\n          <div class=\"item-container\">\r\n            <div class=\"item\">\r\n              <span class=\"date\"\r\n                >{{ item.creditPeriod }}{{ $t(\"message.home.days\") }}</span\r\n              >\r\n              <span class=\"date\">{{ $t(\"message.home.cycle\") }}</span>\r\n            </div>\r\n            <div class=\"item\">\r\n              <span class=\"date\">{{ item.creditRate * 100 }}%</span>\r\n              <span class=\"date\">{{ $t(\"message.home.fixedRate\") }}</span>\r\n            </div>\r\n            <div class=\"status\" v-if=\"item.status == 2\">\r\n              {{ $t(\"message.home.successLoan\") }}\r\n            </div>\r\n            <div class=\"status fail\" v-if=\"item.status == 4\">\r\n              {{ $t(\"message.home.borrow\") }}\r\n            </div>\r\n            <div class=\"status application\" v-if=\"item.status == 1\">\r\n              {{ $t(\"message.home.applicantIn\") }}\r\n            </div>\r\n            <div class=\"status finish\" v-if=\"item.status == 5\">\r\n              {{ $t(\"message.home.repaid\") }}\r\n            </div>\r\n            <div class=\"status overdue\" v-if=\"item.status == 3\">\r\n              {{ $t(\"message.home.overdue\") }}\r\n            </div>\r\n            <div\r\n              class=\"btn\"\r\n              v-if=\"item.status == 2 || item.status == 3\"\r\n              @click=\"Repayment(item.id)\"\r\n            >\r\n              {{ $t(\"message.home.repayment\") }}\r\n            </div>\r\n            <div\r\n              class=\"btn fail-btn\"\r\n              v-if=\"item.status == 4\"\r\n              @click=\"goPage(item.id)\"\r\n            >\r\n              {{ $t(\"message.home.Reapply\") }}\r\n            </div>\r\n            <div\r\n              class=\"default\"\r\n              v-if=\"item.status !== 4 && item.status !== 2 && item.status !== 3\"\r\n            >\r\n              --\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"common-pagination\">\r\n        <el-pagination\r\n          v-if=\"historyList.length\"\r\n          background\r\n          layout=\"prev, pager, next\"\r\n          :page-size=\"pageSize\"\r\n          :current-page=\"pageNum\"\r\n          :total=\"total\"\r\n          @current-change=\"currentChange\"\r\n        />\r\n      </div>\r\n      <el-dialog\r\n        class=\"es-dialog\"\r\n        :visible.sync=\"dialogVisible\"\r\n        width=\"442px\"\r\n        :title=\"$t('message.home.estirepay')\"\r\n      >\r\n        <div>\r\n          <span>{{ $t(\"message.home.applicant\") }}</span>\r\n          <el-input :value=\"realname\" disabled />\r\n          <span>{{ $t(\"message.home.loanDays\") }}</span>\r\n          <el-input :value=\"alreadyCreditDays\" disabled />\r\n          <span>{{ $t(\"message.home.reAmount\") }}</span>\r\n          <el-input :value=\"numberFormat(estimatePayment)\" disabled />\r\n          <span>{{ $t(\"message.home.rates\") }}</span>\r\n          <el-input :value=\"creditRate + '%'\" disabled />\r\n          <span>{{ $t(\"message.home.accountB\") }}</span>\r\n          <el-input :value=\"numberFormat(accountAmount)\" disabled />\r\n          <el-button @click=\"payContent()\">{{\r\n            $t(\"message.home.repayment\")\r\n          }}</el-button>\r\n        </div>\r\n      </el-dialog>\r\n\r\n      <el-dialog\r\n        class=\"es-dialog\"\r\n        :visible.sync=\"passwordDialog\"\r\n        :center=\"true\"\r\n        :append-to-body=\"true\"\r\n        width=\"475px\"\r\n      >\r\n        <div slot=\"title\" class=\"dialog-title\">\r\n          <span v-if=\"showModel === 0\">{{ $t(\"message.home.desc3\") }}</span>\r\n          <span v-if=\"showModel === 1\">{{\r\n            $t(\"message.home.setUpPayPaw\")\r\n          }}</span>\r\n          <span v-if=\"showModel === 2\">{{\r\n            $t(\"message.home.confirmPayPaw\")\r\n          }}</span>\r\n        </div>\r\n        <div class=\"pay-modal-content dialog-content\">\r\n          <h2 class=\"pay-modal-title\" v-if=\"showModel !== 2\">\r\n            {{ $t(\"message.home.desc4\") }}\r\n          </h2>\r\n          <h2 class=\"pay-modal-title\" v-if=\"showModel === 2\">\r\n            {{ $t(\"message.home.desc6\") }}\r\n          </h2>\r\n          <EsPayPassword\r\n            ref=\"passwordRef\"\r\n            :type=\"'password'\"\r\n            :maxlength=\"6\"\r\n            @output=\"output\"\r\n          />\r\n          <div class=\"pay-modal-btn\">\r\n            <el-button\r\n              type=\"primary\"\r\n              :loading=\"payLoading\"\r\n              @click=\"pay\"\r\n              v-if=\"showModel === 0\"\r\n            >\r\n              {{ $t(\"message.home.确认\") }}\r\n            </el-button>\r\n            <el-button\r\n              type=\"primary\"\r\n              :loading=\"payLoading\"\r\n              @click=\"setUpPaw\"\r\n              v-if=\"showModel === 1\"\r\n            >\r\n              {{ $t(\"message.home.确认\") }}\r\n            </el-button>\r\n            <div v-if=\"showModel === 2\" class=\"pay-button-view\">\r\n              <el-button :loading=\"payLoading\" @click=\"previous\">\r\n                {{ $t(\"message.home.previous\") }}\r\n              </el-button>\r\n              <el-button\r\n                type=\"primary\"\r\n                :loading=\"payLoading\"\r\n                @click=\"confirmPayPaw\"\r\n              >\r\n                {{ $t(\"message.home.确认\") }}\r\n              </el-button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  BillCredit,\r\n  CreditHistory,\r\n  BeforePayCredit,\r\n  payCredit,\r\n} from \"@/api/credit\";\r\nimport EsPayPassword from \"@/components/payPassword\";\r\nimport { numberFormat } from \"@/util\";\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nexport default {\r\n  components: {\r\n    EsPayPassword,\r\n  },\r\n  props: {\r\n    show: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    payCallback: {\r\n      type: Function,\r\n      default: null,\r\n    },\r\n    payLoading: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  model: {\r\n    prop: \"show\",\r\n    event: \"update\",\r\n  },\r\n  data() {\r\n    return {\r\n      historyList: [],\r\n      pageSize: 10,\r\n      pageNum: 1,\r\n      total: 2,\r\n      loading: true,\r\n      dialogVisible: false,\r\n      realname: \"\",\r\n      creditRate: 0,\r\n      alreadyCreditDays: 0,\r\n      estimatePayment: 0,\r\n      accountAmount: 0,\r\n      passwordDialog: false,\r\n      password: \"\",\r\n      // 0 支付界面 1 设置支付密码 2 确认支付密码\r\n      showModel: 0,\r\n      myloan: \"--\",\r\n      day: \"--\",\r\n      Interest: \"--\",\r\n      repay: \"--\",\r\n      disble: false,\r\n      fouce: false,\r\n      firstPaw: 0,\r\n      secondPaw: 0,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getCreditList();\r\n    this.getCreditHistory(1);\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      userInfo: \"userInfo\",\r\n    }),\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      setSafewordFunc: \"order/setSafewordFunc\",\r\n    }),\r\n    numberFormat,\r\n    async getCreditList() {\r\n      let res = await BillCredit();\r\n      this.myloan = this.numberFormat(res.data.applyAmount)\r\n        ? this.numberFormat(res.data.applyAmount)\r\n        : \"--\";\r\n      this.day = res.data.alreadyCreditDays ? res.data.alreadyCreditDays : \"--\";\r\n      this.Interest = this.numberFormat(res.data.interest)\r\n        ? this.numberFormat(res.data.interest)\r\n        : \"--\";\r\n      this.repay = this.numberFormat(res.data.estimatePayment)\r\n        ? this.numberFormat(res.data.estimatePayment)\r\n        : \"--\";\r\n    },\r\n    async getCreditHistory() {\r\n      let res = await CreditHistory({\r\n        pageNo: this.pageNum,\r\n      });\r\n      this.historyList = res.data.elements;\r\n      this.loading = false;\r\n      this.total = res.data.totalElements;\r\n    },\r\n    currentChange(page) {\r\n      this.pageNum = page;\r\n      this.loading = true;\r\n      this.getDicountedList();\r\n    },\r\n    goPage(id) {\r\n      this.$router.push(\"/credit/application?id=\" + id);\r\n    },\r\n    async creditDetail(id) {\r\n      let res = await BeforePayCredit({ pageNo: \"1\", creditId: id });\r\n      this.realname = res.data.realName;\r\n      this.creditRate = res.data.creditRate * 100;\r\n      this.alreadyCreditDays = res.data.alreadyCreditDays;\r\n      this.estimatePayment = res.data.estimatePayment;\r\n      this.accountAmount = res.data.accountAmount;\r\n    },\r\n    Repayment(id) {\r\n      this.dialogVisible = true;\r\n      this.creditDetail(id);\r\n      this.creditId = id;\r\n    },\r\n    payContent() {\r\n      if (this.fouce) {\r\n        this.$refs.passwordRef.clear();\r\n      }\r\n      if (!this.userInfo.safeword) {\r\n        // 设置支付密码\r\n        this.passwordDialog = true;\r\n        this.showModel = 1;\r\n        return;\r\n      } else {\r\n        this.showModel = 0;\r\n        this.passwordDialog = true;\r\n      }\r\n    },\r\n    previous() {\r\n      this.showModel = 1;\r\n      // this.$emit('changeShowModel', 1)\r\n      this.$refs.passwordRef.clear();\r\n    },\r\n    setUpPaw() {\r\n      // 设置支付密码\r\n      // this.$emit('changeShowModel', 2)\r\n      const passwordArr = this.$refs.passwordRef.codeData;\r\n      const filterPassword = passwordArr.filter((item) => item !== \"\");\r\n      if (filterPassword.length === 6) {\r\n        this.showModel = 2;\r\n      } else {\r\n        this.$message({\r\n          message: this.$t(\"message.home.请输入完整的支付密码!\"),\r\n          type: \"warning\",\r\n        });\r\n      }\r\n      this.$refs.passwordRef.clear();\r\n    },\r\n    confirmPayPaw() {\r\n      // 再次确认支付密码\r\n      if (this.firstPaw === this.secondPaw) {\r\n        this.setSafeword(this.firstPaw, this.secondPaw);\r\n      } else {\r\n        this.$message({\r\n          message: this.$t(\"message.home.twoPawword\"),\r\n          type: \"warning\",\r\n        });\r\n        this.$refs.passwordRef.clear();\r\n      }\r\n    },\r\n    async setSafeword(safeword, re_safeword) {\r\n      try {\r\n        await this.setSafewordFunc({\r\n          safeword,\r\n          re_safeword,\r\n        });\r\n        this.showModel = 0;\r\n        this.$message.success(this.$t(\"message.home.setSuccess\"));\r\n      } catch (error) {}\r\n    },\r\n    async pay() {\r\n      if (this.accountAmount < this.estimatePayment) {\r\n        this.$message({\r\n          message: this.$t(\"message.home.balanceNot\"),\r\n          type: \"warning\",\r\n        });\r\n      } else {\r\n        this.$refs.passwordRef.clear();\r\n        let res = await payCredit({\r\n          creditId: this.creditId,\r\n          safeword: this.password,\r\n        });\r\n\r\n        if (res.code == 1) {\r\n          console.log(\"222 ->\", 222);\r\n          this.$refs.passwordRef.clear();\r\n        }\r\n        if (res.code == 0) {\r\n          this.dialogVisible = false;\r\n          this.$message({\r\n            message: this.$t(\"message.home.paymentSuccessful\"),\r\n            type: \"success\",\r\n          });\r\n          this.getCreditHistory();\r\n        }\r\n      }\r\n      setTimeout(() => {\r\n        this.passwordDialog = false;\r\n      }, 200);\r\n    },\r\n    output({ data, isfinished }) {\r\n      // console.log(\"data,isfinished ->\", data, isfinished);\r\n      this.fouce = true;\r\n      if (isfinished) {\r\n        if (this.showModel === 1) {\r\n          this.firstPaw = data;\r\n        } else if (this.showModel === 2) {\r\n          this.secondPaw = data;\r\n        } else if (this.showModel === 0) {\r\n          this.password = data;\r\n        }\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.loan {\r\n  width: 861px;\r\n  margin: 0 auto;\r\n  .mine {\r\n    width: 100%;\r\n    height: 191px;\r\n    background: linear-gradient(0deg, #fff7ec, #fff7ec), #eeeeee;\r\n    border-radius: 4px;\r\n    padding: 24px 23px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    .left {\r\n      .title {\r\n        font-weight: 600;\r\n        font-size: 20px;\r\n        color: #333;\r\n      }\r\n      .money {\r\n        font-weight: 700;\r\n        font-size: 24px;\r\n        color: var(--color-main);\r\n        margin: 18px 0 28px 0;\r\n      }\r\n      .details {\r\n        width: 345px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        div {\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          font-size: 14px;\r\n          color: #333333;\r\n          justify-content: space-between;\r\n          height: 46px;\r\n          span {\r\n            margin-bottom: 6px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .right {\r\n      width: 127px;\r\n      height: 34px;\r\n      background: var(--color-main);\r\n      border-radius: 5px;\r\n      font-size: 14px;\r\n      text-align: center;\r\n      line-height: 34px;\r\n      color: #ffffff;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n  .record-title {\r\n    font-size: 14px;\r\n    color: #333;\r\n    margin: 28px 0 20px 0;\r\n  }\r\n  .record {\r\n    margin-bottom: 100px;\r\n  }\r\n  .list {\r\n    width: 100%;\r\n    // height: 79px;\r\n    border: 1px solid #efefef;\r\n    border-radius: 4px;\r\n    padding: 28px 23px 10px 28px;\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 18px;\r\n    img {\r\n      width: 40px;\r\n      height: 40px;\r\n    }\r\n    .item {\r\n      display: flex;\r\n      height: 45px;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      // margin-right: 80px;\r\n      .money {\r\n        font-weight: 700;\r\n        font-size: 20px;\r\n        color: #333333;\r\n      }\r\n      .date {\r\n        font-size: 12px;\r\n        color: #999999;\r\n      }\r\n    }\r\n    .item-container {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      flex: 1;\r\n    }\r\n    .date-box {\r\n      align-items: baseline;\r\n      margin-left: 19px;\r\n      margin-right: 38px;\r\n    }\r\n    .status {\r\n      font-size: 12px;\r\n      width: 52px;\r\n      text-align: center;\r\n      color: #3f80ff;\r\n      // margin-right: 50px;\r\n      // margin-left: 40px;\r\n    }\r\n    .fail {\r\n      color: #e43434;\r\n    }\r\n    .btn {\r\n      width: 127px;\r\n      height: 34px;\r\n      font-weight: 400;\r\n      font-size: 14px;\r\n      text-align: center;\r\n      line-height: 34px;\r\n      color: #ffffff;\r\n      background: var(--color-main);\r\n      border-radius: 5px;\r\n      cursor: pointer;\r\n    }\r\n    .fail-btn {\r\n      background: linear-gradient(0deg, #fff7ec, #fff7ec), #eeeeee;\r\n      border: unset;\r\n      color: var(--color-main);\r\n    }\r\n    .application {\r\n      color: var(--color-main);\r\n    }\r\n    .default {\r\n      width: 127px;\r\n      height: 34px;\r\n      font-weight: 400;\r\n      font-size: 14px;\r\n      text-align: center;\r\n      line-height: 34px;\r\n    }\r\n    .finish {\r\n      color: #2faa59;\r\n    }\r\n    .overdue {\r\n      color: #e43434;\r\n    }\r\n  }\r\n  .es-dialog {\r\n    /deep/ .el-dialog__header {\r\n      height: 56px !important;\r\n      .el-dialog__title {\r\n        text-align: left;\r\n      }\r\n    }\r\n    .el-input {\r\n      margin-top: 14px;\r\n      margin-bottom: 23px;\r\n    }\r\n    .el-button {\r\n      width: 100%;\r\n      background: var(--color-main);\r\n      color: #fff;\r\n      height: 44px;\r\n    }\r\n  }\r\n\r\n  .pay-modal-title {\r\n    text-align: left;\r\n    font-weight: 400;\r\n    font-size: 16px;\r\n    color: var(--color-black);\r\n  }\r\n\r\n  .pay-modal-content {\r\n    align-items: flex-start !important;\r\n\r\n    .el-button {\r\n      width: 100%;\r\n      max-width: 450px;\r\n      height: 50px;\r\n    }\r\n\r\n    .pay-modal-btn {\r\n      width: 100%;\r\n      text-align: center;\r\n    }\r\n\r\n    .pay-button-view {\r\n      display: flex;\r\n      justify-content: space-between;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}