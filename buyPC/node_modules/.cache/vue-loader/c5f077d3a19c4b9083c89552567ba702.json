{"remainingRequest":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\src\\page\\commodityPage\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\src\\page\\commodityPage\\index.vue","mtime":1760944158210},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761044715083},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\babel-loader\\lib\\index.js","mtime":1761044716268},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761044715083},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\vue-loader\\lib\\index.js","mtime":1761044716737}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgRXNQcm9kdWN0VmlldyBmcm9tICJAL2NvbXBvbmVudHMvcHJvZHVjdCI7DQppbXBvcnQgRXNGaWx0ZXJWaWV3IGZyb20gIi4vZmlsdGVyLnZ1ZSI7DQppbXBvcnQgRXNTb3J0VmlldyBmcm9tICIuL3NvcnQudnVlIjsNCi8vIGltcG9ydCB7IGlzRW1wdHkgfSBmcm9tICJsb2Rhc2giOw0KaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJFc0NvbW1vZGl0eSIsDQogIGNvbXBvbmVudHM6IHsgRXNQcm9kdWN0VmlldywgRXNTb3J0VmlldywgRXNGaWx0ZXJWaWV3IH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGxvYWRpbmc6IGZhbHNlLA0KICAgICAgcGFnZU51bTogMSwNCiAgICAgIGlzUmVuZXc6IGZhbHNlLA0KICAgICAgcGFnZVNpemU6IDIwLA0KICAgICAgdG90YWw6IDAsDQogICAgICBiZWZvcmVTb3J0UGFyYW1zOiB7fSwNCiAgICAgIHNvcnQ6IFtdLA0KICAgICAgc2Nyb2xsVG9wOiAwLA0KICAgIH07DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwR2V0dGVycygiaG9tZSIsIFsic2VsbGVyR29vZHNMaXN0IiwgImNhdGVnb3J5TGlzdCJdKSwNCiAgfSwNCiAgYWN0aXZhdGVkKCkgew0KICAgIC8vIHRoaXMucmVxdWVzdENhdGVnb3J5TGlzdCgpOw0KICAgIHRoaXMucmVxdWVzdERhdGEoKTsNCiAgICAvLyBjb25zb2xlLmxvZygnMiAtPicsIDIpOw0KICB9LA0KICAvLyB3YXRjaDogew0KICAvLyAgICRyb3V0ZSh0bywgZnJvbSkgew0KICAvLyAgICAgY29uc29sZS5sb2coJ3RvIC0+JywgdG8pOw0KICAvLyAgICAgY29uc29sZS5sb2coJ2Zyb20gLT4nLCBmcm9tKTsNCiAgLy8gICAgIGlmKHRvLnBhdGggPT0gJy9jb21tb2RpdHknKXsNCiAgLy8gICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDExMSk7DQogIC8vICAgICB9DQogIC8vICAgICAvLyB0aGlzLndpbmRvd1Njcm9sbCgpOw0KDQogIC8vICAgICAgICAgICAvLyB3aW5kb3cuc2Nyb2xsVG8oMCwgdGhpcy5zY3JvbGxUb3ApOw0KICAvLyAgIH0sDQogIC8vIH0sDQogIG1ldGhvZHM6IHsNCiAgICAuLi5tYXBBY3Rpb25zKCJob21lIiwgWyJyZXF1ZXN0U2VsbGVyR29vZHNMaXN0IiwgInJlcXVlc3RDYXRlZ29yeUxpc3QiXSksDQogICAgY2hhbmdlRmlsdGVyKGl0ZW0sIGluZGV4KSB7DQogICAgICB0aGlzLmN1cnJlbnRGaWx0ZXJWYWx1ZSA9IGluZGV4Ow0KICAgIH0sDQogICAgY2hhbmdlcGFnZSgpIHsNCiAgICAgIHRoaXMucGFnZU51bSA9IDE7DQogICAgICB0aGlzLnJlcXVlc3REYXRhKCk7DQogICAgfSwNCiAgICBhc3luYyByZXF1ZXN0RGF0YShwYXJhbXMgPSB7fSkgew0KICAgICAgdHJ5IHsNCiAgICAgICAgY29uc3QgY3VycmVudFJvdXRlciA9IHRoaXMuJHJvdXRlci5jdXJyZW50Um91dGU7DQogICAgICAgIGNvbnN0IGNhdGVnb3J5SWQgPSBjdXJyZW50Um91dGVyLnF1ZXJ5LmlkIHx8IHBhcmFtcy5jYXRlZ29yeUlkOw0KDQogICAgICAgIGlmICghY2F0ZWdvcnlJZCAmJiB0aGlzLmJlZm9yZVNvcnRQYXJhbXMpIHsNCiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOw0KICAgICAgICAgIGF3YWl0IHRoaXMucmVxdWVzdFNlbGxlckdvb2RzTGlzdCh7DQogICAgICAgICAgICBwYWdlTnVtOiB0aGlzLnBhZ2VOdW0sDQogICAgICAgICAgICBwYWdlU2l6ZTogdGhpcy5wYWdlU2l6ZSwNCiAgICAgICAgICAgIC4uLnRoaXMuYmVmb3JlU29ydFBhcmFtcywNCiAgICAgICAgICB9KS50aGVuKChyZXMpID0+IHsNCiAgICAgICAgICAgIHRoaXMudG90YWwgPSByZXMucGFnZUluZm8udG90YWxFbGVtZW50czsNCiAgICAgICAgICAgIGlmICh0aGlzLnNlbGxlckdvb2RzTGlzdC5sZW5ndGgpIHsNCiAgICAgICAgICAgICAgdGhpcy4kR3NhcC5mcm9tVG8odGhpcy4kcmVmcy5hY3RpdmVTY29sbCwgew0KICAgICAgICAgICAgICAgIGRlbGF5OiAwLA0KICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxLjUsDQogICAgICAgICAgICAgICAgeTogIjEwMCIsDQogICAgICAgICAgICAgICAgYXV0b0FscGhhOiAwLA0KICAgICAgICAgICAgICAgIGVhc2U6ICJiYWNrLm91dCgxLjcpIiwNCiAgICAgICAgICAgICAgfSx7DQogICAgICAgICAgICAgICAgZGVsYXk6IDAsDQogICAgICAgICAgICAgICAgZHVyYXRpb246IDEsDQogICAgICAgICAgICAgICAgeTogIjAiLA0KICAgICAgICAgICAgICAgIGF1dG9BbHBoYTogMSwNCiAgICAgICAgICAgICAgICBlYXNlOiAiYmFjay5vdXQoMS43KSIsDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9KTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBjb25zdCBzb3J0UGFyYW1zID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKA0KICAgICAgICAgICAgcGFyYW1zLA0KICAgICAgICAgICAgImNhdGVnb3J5SWQiDQogICAgICAgICAgKQ0KICAgICAgICAgICAgPyB0aGlzLmJlZm9yZVNvcnRQYXJhbXMNCiAgICAgICAgICAgIDoge307DQogICAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsNCg0KICAgICAgICAgIGF3YWl0IHRoaXMucmVxdWVzdFNlbGxlckdvb2RzTGlzdCh7DQogICAgICAgICAgICAuLi5zb3J0UGFyYW1zLA0KICAgICAgICAgICAgLi4ucGFyYW1zLA0KICAgICAgICAgICAgY2F0ZWdvcnlJZCwNCiAgICAgICAgICAgIHBhZ2VOdW06IHRoaXMucGFnZU51bSwNCiAgICAgICAgICAgIHBhZ2VTaXplOiB0aGlzLnBhZ2VTaXplLA0KICAgICAgICAgIH0pLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgICAgdGhpcy50b3RhbCA9IHJlcy5wYWdlSW5mby50b3RhbEVsZW1lbnRzOw0KICAgICAgICAgICBpZiAodGhpcy5zZWxsZXJHb29kc0xpc3QubGVuZ3RoKSB7DQogICAgICAgICAgICAgIHRoaXMuJEdzYXAuZnJvbVRvKHRoaXMuJHJlZnMuYWN0aXZlU2NvbGwsIHsNCiAgICAgICAgICAgICAgIGRlbGF5OiAwLA0KICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAxLjUsDQogICAgICAgICAgICAgICAgeTogIjEwMCIsDQogICAgICAgICAgICAgICAgYXV0b0FscGhhOiAwLA0KICAgICAgICAgICAgICAgIGVhc2U6ICJiYWNrLm91dCgxLjcpIiwNCiAgICAgICAgICAgICAgfSx7DQogICAgICAgICAgICAgICAgZGVsYXk6IDAsDQogICAgICAgICAgICAgICAgZHVyYXRpb246IDEsDQogICAgICAgICAgICAgICAgeTogIjAiLA0KICAgICAgICAgICAgICAgIGF1dG9BbHBoYTogMSwNCiAgICAgICAgICAgICAgICBlYXNlOiAiYmFjay5vdXQoMS43KSIsDQogICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgICB9IGZpbmFsbHkgew0KICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsNCiAgICAgIH0NCiAgICB9LA0KICAgIGN1cnJlbnRDaGFuZ2UocGFnZSkgew0KICAgICAgdGhpcy5wYWdlTnVtID0gcGFnZTsNCiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgPSAwOw0KICAgICAgdGhpcy5yZXF1ZXN0RGF0YSh0aGlzLnNvcnQpOw0KICAgIH0sDQogICAgZmlsdGVyQ2hhbmdlKGNhdGVnb3J5SWQpIHsNCiAgICAgIHRoaXMucmVxdWVzdERhdGEoeyBjYXRlZ29yeUlkIH0pOw0KICAgICAgdGhpcy5pc1JlbmV3ID0gdHJ1ZTsNCiAgICB9LA0KICAgIHNvcnRFdmVudChkYXRhKSB7DQogICAgICBjb25zb2xlLmxvZygiZGF0YSAtPiIsIGRhdGEpOw0KICAgICAgdGhpcy5zb3J0ID0gZGF0YTsNCiAgICAgIHRoaXMucGFnZU51bSA9IDE7DQogICAgICB0aGlzLmJlZm9yZVNvcnRQYXJhbXMgPSBkYXRhOw0KICAgICAgdGhpcy5yZXF1ZXN0RGF0YShkYXRhKTsNCiAgICB9LA0KICB9LA0KfTsNCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAuCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/page/commodityPage","sourcesContent":["<template>\r\n  <div class=\"commodity\">\r\n    <EsHeaderView />\r\n    <div class=\"app-container app-center\">\r\n      <div class=\"commodity-wrap flex-start\">\r\n        <EsFilterView @filterChange=\"filterChange\" />\r\n        <div class=\"commodity-content\">\r\n          <EsSortView @sort=\"sortEvent\" :isRenew=\"isRenew\" />\r\n          <div v-loading=\"loading\">\r\n            <div class=\"commodity-content-list\" ref=\"activeScoll\">\r\n              <EsProductView\r\n                v-for=\"(item, index) in sellerGoodsList\"\r\n                :key=\"index\"\r\n                :item=\"item\"\r\n              />\r\n            </div>\r\n            <div class=\"no-data\" v-if=\"!sellerGoodsList.length\">\r\n              <el-empty :description=\"$t('message.home.noData')\"></el-empty>\r\n            </div>\r\n            <div class=\"common-pagination\" v-if=\"sellerGoodsList.length\">\r\n              <el-pagination\r\n                background\r\n                class=\"es-pagination\"\r\n                layout=\"prev, pager, next\"\r\n                :page-size=\"pageSize\"\r\n                :current-page=\"pageNum\"\r\n                :total=\"total\"\r\n                @current-change=\"currentChange\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <EsFooterView />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport EsProductView from \"@/components/product\";\r\nimport EsFilterView from \"./filter.vue\";\r\nimport EsSortView from \"./sort.vue\";\r\n// import { isEmpty } from \"lodash\";\r\nimport { mapActions, mapGetters } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"EsCommodity\",\r\n  components: { EsProductView, EsSortView, EsFilterView },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      pageNum: 1,\r\n      isRenew: false,\r\n      pageSize: 20,\r\n      total: 0,\r\n      beforeSortParams: {},\r\n      sort: [],\r\n      scrollTop: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters(\"home\", [\"sellerGoodsList\", \"categoryList\"]),\r\n  },\r\n  activated() {\r\n    // this.requestCategoryList();\r\n    this.requestData();\r\n    // console.log('2 ->', 2);\r\n  },\r\n  // watch: {\r\n  //   $route(to, from) {\r\n  //     console.log('to ->', to);\r\n  //     console.log('from ->', from);\r\n  //     if(to.path == '/commodity'){\r\n  //       window.scrollTo(0, 111);\r\n  //     }\r\n  //     // this.windowScroll();\r\n\r\n  //           // window.scrollTo(0, this.scrollTop);\r\n  //   },\r\n  // },\r\n  methods: {\r\n    ...mapActions(\"home\", [\"requestSellerGoodsList\", \"requestCategoryList\"]),\r\n    changeFilter(item, index) {\r\n      this.currentFilterValue = index;\r\n    },\r\n    changepage() {\r\n      this.pageNum = 1;\r\n      this.requestData();\r\n    },\r\n    async requestData(params = {}) {\r\n      try {\r\n        const currentRouter = this.$router.currentRoute;\r\n        const categoryId = currentRouter.query.id || params.categoryId;\r\n\r\n        if (!categoryId && this.beforeSortParams) {\r\n          this.loading = true;\r\n          await this.requestSellerGoodsList({\r\n            pageNum: this.pageNum,\r\n            pageSize: this.pageSize,\r\n            ...this.beforeSortParams,\r\n          }).then((res) => {\r\n            this.total = res.pageInfo.totalElements;\r\n            if (this.sellerGoodsList.length) {\r\n              this.$Gsap.fromTo(this.$refs.activeScoll, {\r\n                delay: 0,\r\n                duration: 1.5,\r\n                y: \"100\",\r\n                autoAlpha: 0,\r\n                ease: \"back.out(1.7)\",\r\n              },{\r\n                delay: 0,\r\n                duration: 1,\r\n                y: \"0\",\r\n                autoAlpha: 1,\r\n                ease: \"back.out(1.7)\",\r\n              }\r\n              );\r\n            }\r\n          });\r\n        } else {\r\n          const sortParams = Object.prototype.hasOwnProperty.call(\r\n            params,\r\n            \"categoryId\"\r\n          )\r\n            ? this.beforeSortParams\r\n            : {};\r\n          this.loading = true;\r\n\r\n          await this.requestSellerGoodsList({\r\n            ...sortParams,\r\n            ...params,\r\n            categoryId,\r\n            pageNum: this.pageNum,\r\n            pageSize: this.pageSize,\r\n          }).then((res) => {\r\n            this.total = res.pageInfo.totalElements;\r\n           if (this.sellerGoodsList.length) {\r\n              this.$Gsap.fromTo(this.$refs.activeScoll, {\r\n               delay: 0,\r\n                duration: 1.5,\r\n                y: \"100\",\r\n                autoAlpha: 0,\r\n                ease: \"back.out(1.7)\",\r\n              },{\r\n                delay: 0,\r\n                duration: 1,\r\n                y: \"0\",\r\n                autoAlpha: 1,\r\n                ease: \"back.out(1.7)\",\r\n              });\r\n            }\r\n          });\r\n        }\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    currentChange(page) {\r\n      this.pageNum = page;\r\n      document.documentElement.scrollTop = 0;\r\n      this.requestData(this.sort);\r\n    },\r\n    filterChange(categoryId) {\r\n      this.requestData({ categoryId });\r\n      this.isRenew = true;\r\n    },\r\n    sortEvent(data) {\r\n      console.log(\"data ->\", data);\r\n      this.sort = data;\r\n      this.pageNum = 1;\r\n      this.beforeSortParams = data;\r\n      this.requestData(data);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.commodity {\r\n  &-wrap {\r\n    align-items: flex-start;\r\n    margin-top: -13px !important;\r\n\r\n    ul {\r\n      list-style: none;\r\n      margin: 0;\r\n      padding: 0;\r\n    }\r\n  }\r\n\r\n  .commodity-wrap {\r\n    min-height: calc(100vh - 361.5px);\r\n  }\r\n\r\n  &-filter {\r\n    width: 180px;\r\n    border-right: 1px solid var(--color-border);\r\n\r\n    h2 {\r\n      width: 100%;\r\n      // text-align: center;\r\n      font-weight: 600;\r\n      font-size: 16px;\r\n      color: var(--color-title);\r\n      border-bottom: 1px solid var(--color-border);\r\n      padding: 20px 0;\r\n      margin-bottom: 20px;\r\n    }\r\n\r\n    &-item {\r\n      // text-align: center;\r\n      width: 100%;\r\n      font-weight: 400;\r\n      font-size: 14px;\r\n      color: var(--color-black);\r\n      padding: 12px 0;\r\n      cursor: pointer;\r\n\r\n      &:hover {\r\n        color: var(--color-main);\r\n        border-right: 2px solid var(--color-main);\r\n      }\r\n\r\n      &-active {\r\n        color: var(--color-main);\r\n        border-right: 2px solid var(--color-main);\r\n      }\r\n    }\r\n  }\r\n\r\n  &-content {\r\n    width: 100%;\r\n\r\n    &-list {\r\n      display: grid;\r\n      grid-template-columns: repeat(auto-fit, minmax(186px, 165px));\r\n      grid-column-gap: 11px;\r\n      grid-row-gap: 20px;\r\n      align-content: center;\r\n      padding: 22px 28px;\r\n    }\r\n\r\n    &-pagination {\r\n      width: 100%;\r\n      text-align: center;\r\n      padding: 40px 0;\r\n    }\r\n  }\r\n  .no-data {\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n}\r\n</style>\r\n"]}]}