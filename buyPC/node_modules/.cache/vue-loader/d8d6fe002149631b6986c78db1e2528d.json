{"remainingRequest":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\src\\page\\userInfo\\my-order\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\src\\page\\userInfo\\my-order\\index.vue","mtime":1760944158225},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761044715083},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\babel-loader\\lib\\index.js","mtime":1761044716268},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761044715083},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\vue-loader\\lib\\index.js","mtime":1761044716737}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7DQppbXBvcnQgT3JkZXJJdGVtIGZyb20gIi4vY29tcG9uZW50cy9vcmRlci1pdGVtIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIm15LW9yZGVyIiwNCiAgY29tcG9uZW50czogeyBPcmRlckl0ZW0gfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdGFiczogWw0KICAgICAgICB7DQogICAgICAgICAgbGFiZWw6IHRoaXMuJHQoIm1lc3NhZ2UuaG9tZS5hbGwiKSwNCiAgICAgICAgICB2YWx1ZTogIiIsDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICBsYWJlbDogdGhpcy4kdCgibWVzc2FnZS5ob21lLnBlbmRpbmciKSwgLy8g5b6F5pSv5LuYDQogICAgICAgICAgdmFsdWU6ICIwIiwNCiAgICAgICAgfSwNCiAgICAgICAgLy8gew0KICAgICAgICAvLyAgIGxhYmVsOiB0aGlzLiR0KCJtZXNzYWdlLmhvbWUuY2FuY2VsbGVkIiksIC8vIOS7peWPlua2iA0KICAgICAgICAvLyAgIHZhbHVlOiAnLTEnLA0KICAgICAgICAvLyB9LA0KICAgICAgICB7DQogICAgICAgICAgbGFiZWw6IHRoaXMuJHQoIm1lc3NhZ2UuaG9tZS5kZWxpdmVyZWQiKSwgLy8g5b6F5Y+R6LSnDQogICAgICAgICAgdmFsdWU6ICIxIiwNCiAgICAgICAgfSwNCiAgICAgICAgLy8gew0KICAgICAgICAvLyAgIGxhYmVsOiB0aGlzLiR0KCJtZXNzYWdlLmhvbWUuY29uZmlybWVkIiksIC8vIOW3suehruiupA0KICAgICAgICAvLyAgIHZhbHVlOiAnMicsDQogICAgICAgIC8vIH0sDQogICAgICAgIHsNCiAgICAgICAgICBsYWJlbDogdGhpcy4kdCgibWVzc2FnZS5ob21lLnJlY2VpcHQiKSwgLy8g5b6F5pS26LSnDQogICAgICAgICAgdmFsdWU6ICIzIiwNCiAgICAgICAgfSwNCiAgICAgICAgLy8gew0KICAgICAgICAvLyAgIGxhYmVsOiB0aGlzLiR0KCJtZXNzYWdlLmhvbWUuaGFydmVzdGVkIiksIC8vIOW3suaUtui0pw0KICAgICAgICAvLyAgIHZhbHVlOiAnNCcsDQogICAgICAgIC8vIH0sDQogICAgICAgIHsNCiAgICAgICAgICBsYWJlbDogdGhpcy4kdCgibWVzc2FnZS5ob21lLmNvbW1lbnQiKSwgLy8g5bey6K+E5Lu3DQogICAgICAgICAgdmFsdWU6ICI0IiwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIGxhYmVsOiB0aGlzLiR0KCJtZXNzYWdlLmhvbWUucmVmdW5kIiksIC8vIOW3sumAgOasvg0KICAgICAgICAgIHZhbHVlOiAiNiIsDQogICAgICAgIH0sDQogICAgICBdLA0KICAgICAgdGFiQWN0aXZlOiAiIiwNCiAgICAgIGxvYWRpbmc6IGZhbHNlLA0KICAgICAgcGFnZU51bTogMSwNCiAgICAgIHBhZ2VTaXplOiA1LA0KICAgICAgdG90YWw6IDAsDQogICAgfTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBHZXR0ZXJzKHsNCiAgICAgIG9yZGVyTGlzdDogIm9yZGVyL29yZGVyTGlzdCIsDQogICAgfSksDQogIH0sDQogIHdhdGNoOiB7DQogICAgYXN5bmMgdGFiQWN0aXZlKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgew0KICAgICAgaWYgKG5ld1ZhbHVlICE9PSBvbGRWYWx1ZSkgew0KICAgICAgICB0aGlzLnJlcXVlc3REYXRhKG5ld1ZhbHVlID8geyBzdGF0dXM6IG5ld1ZhbHVlIH0gOiB7fSk7DQogICAgICB9DQogICAgfSwNCiAgfSwNCiAgYXN5bmMgbW91bnRlZCgpIHsNCiAgICB0aGlzLnJlcXVlc3REYXRhKCk7DQogIH0sDQogIGFjdGl2YXRlZCgpIHsNCiAgICB0aGlzLnJlcXVlc3REYXRhKCk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICB0YWJDaGFuZ2UodGFiKSB7DQogICAgICBpZiAodGhpcy50YWJBY3RpdmUgIT09IHRhYikgew0KICAgICAgICB0aGlzLnBhZ2VOdW0gPSAxOw0KICAgICAgICAvLyB0aGlzLmxvYWRpbmcgPSB0cnVlDQogICAgICAgIHRoaXMudGFiQWN0aXZlID0gdGFiOw0KICAgICAgfQ0KICAgIH0sDQogICAgLi4ubWFwQWN0aW9ucyh7DQogICAgICByZXF1ZXN0T3JkZXJMaXN0OiAib3JkZXIvcmVxdWVzdE9yZGVyTGlzdCIsDQogICAgfSksDQogICAgYXN5bmMgcmVxdWVzdERhdGEocGFyYW1zID0ge30pIHsNCiAgICAgIGlmICh0aGlzLmxvYWRpbmcpIHsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsNCiAgICAgIHRoaXMucmVxdWVzdE9yZGVyTGlzdCh7DQogICAgICAgIC4uLnBhcmFtcywNCiAgICAgICAgLi4uew0KICAgICAgICAgIHBhZ2VOdW06IHRoaXMucGFnZU51bSwNCiAgICAgICAgICBwYWdlU2l6ZTogdGhpcy5wYWdlU2l6ZSwNCiAgICAgICAgICBzdGF0dXM6IHRoaXMudGFiQWN0aXZlLA0KICAgICAgICB9LA0KICAgICAgfSkNCiAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgIHRoaXMudG90YWwgPSByZXMucGFnZUluZm8/LnRvdGFsRWxlbWVudHMgfHwgMDsNCiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOw0KICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOw0KICAgICAgICB9KTsNCiAgICAgIGNvbnNvbGUubG9nKHRoaXMubG9hZGluZyk7DQogICAgfSwNCiAgICBjdXJyZW50Q2hhbmdlKHBhZ2UpIHsNCiAgICAgIHRoaXMucGFnZU51bSA9IHBhZ2U7DQogICAgICB0aGlzLnJlcXVlc3REYXRhKCk7DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AA4CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/page/userInfo/my-order","sourcesContent":["<template>\r\n  <div class=\"my-order\">\r\n    <div class=\"page-title\">{{ $t(\"message.home.myOrder\") }}</div>\r\n    <div class=\"tabs\">\r\n      <div\r\n        v-for=\"tab in tabs\"\r\n        :key=\"tab.value\"\r\n        class=\"tab-item\"\r\n        :class=\"{ active: tabActive === tab.value }\"\r\n        @click=\"tabChange(tab.value)\"\r\n      >\r\n        {{ tab.label }}\r\n      </div>\r\n    </div>\r\n    <div style=\"width: 872px\" v-loading=\"loading\">\r\n      <span v-if=\"orderList.length\">\r\n        <order-item\r\n          v-for=\"item in orderList\"\r\n          :key=\"item.id\"\r\n          :data=\"item\"\r\n          :refresh=\"requestData\"\r\n        />\r\n      </span>\r\n      <el-empty\r\n        v-if=\"!orderList.length && !loading\"\r\n        :description=\"$t('message.home.noData')\"\r\n      ></el-empty>\r\n    </div>\r\n    <div v-if=\"orderList.length || total\" class=\"common-pagination\">\r\n      <el-pagination\r\n        background\r\n        layout=\"prev, pager,next\"\r\n        class=\"es-pagination\"\r\n        :page-size=\"pageSize\"\r\n        :pager-count=\"5\"\r\n        :current-page=\"pageNum\"\r\n        :total=\"total\"\r\n        @current-change=\"currentChange\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport OrderItem from \"./components/order-item\";\r\nexport default {\r\n  name: \"my-order\",\r\n  components: { OrderItem },\r\n  data() {\r\n    return {\r\n      tabs: [\r\n        {\r\n          label: this.$t(\"message.home.all\"),\r\n          value: \"\",\r\n        },\r\n        {\r\n          label: this.$t(\"message.home.pending\"), // 待支付\r\n          value: \"0\",\r\n        },\r\n        // {\r\n        //   label: this.$t(\"message.home.cancelled\"), // 以取消\r\n        //   value: '-1',\r\n        // },\r\n        {\r\n          label: this.$t(\"message.home.delivered\"), // 待发货\r\n          value: \"1\",\r\n        },\r\n        // {\r\n        //   label: this.$t(\"message.home.confirmed\"), // 已确认\r\n        //   value: '2',\r\n        // },\r\n        {\r\n          label: this.$t(\"message.home.receipt\"), // 待收货\r\n          value: \"3\",\r\n        },\r\n        // {\r\n        //   label: this.$t(\"message.home.harvested\"), // 已收货\r\n        //   value: '4',\r\n        // },\r\n        {\r\n          label: this.$t(\"message.home.comment\"), // 已评价\r\n          value: \"4\",\r\n        },\r\n        {\r\n          label: this.$t(\"message.home.refund\"), // 已退款\r\n          value: \"6\",\r\n        },\r\n      ],\r\n      tabActive: \"\",\r\n      loading: false,\r\n      pageNum: 1,\r\n      pageSize: 5,\r\n      total: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      orderList: \"order/orderList\",\r\n    }),\r\n  },\r\n  watch: {\r\n    async tabActive(newValue, oldValue) {\r\n      if (newValue !== oldValue) {\r\n        this.requestData(newValue ? { status: newValue } : {});\r\n      }\r\n    },\r\n  },\r\n  async mounted() {\r\n    this.requestData();\r\n  },\r\n  activated() {\r\n    this.requestData();\r\n  },\r\n  methods: {\r\n    tabChange(tab) {\r\n      if (this.tabActive !== tab) {\r\n        this.pageNum = 1;\r\n        // this.loading = true\r\n        this.tabActive = tab;\r\n      }\r\n    },\r\n    ...mapActions({\r\n      requestOrderList: \"order/requestOrderList\",\r\n    }),\r\n    async requestData(params = {}) {\r\n      if (this.loading) {\r\n        return;\r\n      }\r\n      this.loading = true;\r\n      this.requestOrderList({\r\n        ...params,\r\n        ...{\r\n          pageNum: this.pageNum,\r\n          pageSize: this.pageSize,\r\n          status: this.tabActive,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          this.total = res.pageInfo?.totalElements || 0;\r\n          this.loading = false;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          this.loading = false;\r\n        });\r\n      console.log(this.loading);\r\n    },\r\n    currentChange(page) {\r\n      this.pageNum = page;\r\n      this.requestData();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\nhtml[dir='rtl'] {\r\n  .my-order {\r\n    margin-left: 0;\r\n    margin-right: 50px;\r\n  }\r\n}\r\n.my-order {\r\n  // width: 702px;\r\n  margin-top: 32px;\r\n  margin-left: 50px;\r\n  flex: 1;\r\n\r\n  .tabs {\r\n    margin-top: 14px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    height: 30px;\r\n    // border: 1px solid #eeeeee;\r\n    border-radius: 4px;\r\n    width: 100%;\r\n    // padding: 0 25px;\r\n\r\n    .tab-item {\r\n      height: 100%;\r\n      display: flex;\r\n      align-items: center;\r\n      // border-bottom: 2px solid transparent;\r\n      cursor: pointer;\r\n      user-select: none;\r\n      padding: 0 20px;\r\n      background-color: #eeeeee;\r\n      border-radius: 5px;\r\n      color: #999999;\r\n\r\n      &.active {\r\n        // border-bottom: 2px solid var(--color-main);\r\n        background-color: var(--color-main);\r\n        color: white;\r\n      }\r\n    }\r\n  }\r\n\r\n  .order-list {\r\n    /deep/ .option-list {\r\n      .option-item {\r\n        display: flex;\r\n        align-items: flex-start;\r\n        margin-bottom: 10px;\r\n        padding: 10px 0;\r\n\r\n        + .option-item {\r\n          border-top: 1px solid #eee;\r\n        }\r\n\r\n        &.block {\r\n          display: block;\r\n\r\n          .value {\r\n            flex: inherit;\r\n            max-width: 100%;\r\n            text-align: left;\r\n          }\r\n        }\r\n\r\n        .label {\r\n          flex: 1;\r\n          font-size: 14px;\r\n          color: #333333;\r\n        }\r\n\r\n        .value {\r\n          flex: 2;\r\n          max-width: 300px;\r\n          font-size: 14px;\r\n          color: #666666;\r\n          text-align: right;\r\n\r\n          .text {\r\n            font-weight: 600;\r\n            font-size: 14px;\r\n            color: #000000;\r\n          }\r\n\r\n          .desc {\r\n            font-weight: 500;\r\n            font-size: 12px;\r\n            color: #999999;\r\n            margin-top: 4px;\r\n          }\r\n\r\n          .price {\r\n            font-weight: 500;\r\n            font-size: 16px;\r\n            color: var(--color-price);\r\n          }\r\n\r\n          .detail-link {\r\n            font-size: 14px;\r\n            line-height: 16px;\r\n            color: var(--color-main);\r\n            cursor: pointer;\r\n            user-select: none;\r\n          }\r\n\r\n          .product-item {\r\n            display: flex;\r\n            width: 100%;\r\n            align-items: center;\r\n            margin-top: 15px;\r\n\r\n            img {\r\n              width: 62px;\r\n              height: 62px;\r\n            }\r\n\r\n            .title {\r\n              flex: 1;\r\n              margin-left: 18px;\r\n              font-weight: 400;\r\n              font-size: 14px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    /deep/ .actions {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: flex-end;\r\n\r\n      > * + * {\r\n        margin-left: 16px;\r\n      }\r\n\r\n      .status {\r\n        text-align: right;\r\n\r\n        &.unReturn {\r\n          color: #999;\r\n        }\r\n\r\n        &.running {\r\n          color: var(--color-main);\r\n        }\r\n\r\n        &.success {\r\n          color: #32aa15;\r\n        }\r\n\r\n        &.fail {\r\n          color: #e10015;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}