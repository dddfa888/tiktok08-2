{"remainingRequest":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\src\\page\\commodityPage\\index.vue?vue&type=style&index=0&id=783df838&lang=scss","dependencies":[{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\src\\page\\commodityPage\\index.vue","mtime":1760944158210},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\css-loader\\dist\\cjs.js","mtime":1761044715569},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1761044717168},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\postcss-loader\\src\\index.js","mtime":1761044716266},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1761044715084},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761044715083},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\vue-loader\\lib\\index.js","mtime":1761044716737}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQouY29tbW9kaXR5IHsNCiAgJi13cmFwIHsNCiAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDsNCiAgICBtYXJnaW4tdG9wOiAtMTNweCAhaW1wb3J0YW50Ow0KDQogICAgdWwgew0KICAgICAgbGlzdC1zdHlsZTogbm9uZTsNCiAgICAgIG1hcmdpbjogMDsNCiAgICAgIHBhZGRpbmc6IDA7DQogICAgfQ0KICB9DQoNCiAgLmNvbW1vZGl0eS13cmFwIHsNCiAgICBtaW4taGVpZ2h0OiBjYWxjKDEwMHZoIC0gMzYxLjVweCk7DQogIH0NCg0KICAmLWZpbHRlciB7DQogICAgd2lkdGg6IDE4MHB4Ow0KICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcik7DQoNCiAgICBoMiB7DQogICAgICB3aWR0aDogMTAwJTsNCiAgICAgIC8vIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7DQogICAgICBmb250LXNpemU6IDE2cHg7DQogICAgICBjb2xvcjogdmFyKC0tY29sb3ItdGl0bGUpOw0KICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWNvbG9yLWJvcmRlcik7DQogICAgICBwYWRkaW5nOiAyMHB4IDA7DQogICAgICBtYXJnaW4tYm90dG9tOiAyMHB4Ow0KICAgIH0NCg0KICAgICYtaXRlbSB7DQogICAgICAvLyB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICB3aWR0aDogMTAwJTsNCiAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7DQogICAgICBmb250LXNpemU6IDE0cHg7DQogICAgICBjb2xvcjogdmFyKC0tY29sb3ItYmxhY2spOw0KICAgICAgcGFkZGluZzogMTJweCAwOw0KICAgICAgY3Vyc29yOiBwb2ludGVyOw0KDQogICAgICAmOmhvdmVyIHsNCiAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLW1haW4pOw0KICAgICAgICBib3JkZXItcmlnaHQ6IDJweCBzb2xpZCB2YXIoLS1jb2xvci1tYWluKTsNCiAgICAgIH0NCg0KICAgICAgJi1hY3RpdmUgew0KICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItbWFpbik7DQogICAgICAgIGJvcmRlci1yaWdodDogMnB4IHNvbGlkIHZhcigtLWNvbG9yLW1haW4pOw0KICAgICAgfQ0KICAgIH0NCiAgfQ0KDQogICYtY29udGVudCB7DQogICAgd2lkdGg6IDEwMCU7DQoNCiAgICAmLWxpc3Qgew0KICAgICAgZGlzcGxheTogZ3JpZDsNCiAgICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMTg2cHgsIDE2NXB4KSk7DQogICAgICBncmlkLWNvbHVtbi1nYXA6IDExcHg7DQogICAgICBncmlkLXJvdy1nYXA6IDIwcHg7DQogICAgICBhbGlnbi1jb250ZW50OiBjZW50ZXI7DQogICAgICBwYWRkaW5nOiAyMnB4IDI4cHg7DQogICAgfQ0KDQogICAgJi1wYWdpbmF0aW9uIHsNCiAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgcGFkZGluZzogNDBweCAwOw0KICAgIH0NCiAgfQ0KICAubm8tZGF0YSB7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgfQ0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAkLA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/page/commodityPage","sourcesContent":["<template>\r\n  <div class=\"commodity\">\r\n    <EsHeaderView />\r\n    <div class=\"app-container app-center\">\r\n      <div class=\"commodity-wrap flex-start\">\r\n        <EsFilterView @filterChange=\"filterChange\" />\r\n        <div class=\"commodity-content\">\r\n          <EsSortView @sort=\"sortEvent\" :isRenew=\"isRenew\" />\r\n          <div v-loading=\"loading\">\r\n            <div class=\"commodity-content-list\" ref=\"activeScoll\">\r\n              <EsProductView\r\n                v-for=\"(item, index) in sellerGoodsList\"\r\n                :key=\"index\"\r\n                :item=\"item\"\r\n              />\r\n            </div>\r\n            <div class=\"no-data\" v-if=\"!sellerGoodsList.length\">\r\n              <el-empty :description=\"$t('message.home.noData')\"></el-empty>\r\n            </div>\r\n            <div class=\"common-pagination\" v-if=\"sellerGoodsList.length\">\r\n              <el-pagination\r\n                background\r\n                class=\"es-pagination\"\r\n                layout=\"prev, pager, next\"\r\n                :page-size=\"pageSize\"\r\n                :current-page=\"pageNum\"\r\n                :total=\"total\"\r\n                @current-change=\"currentChange\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <EsFooterView />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport EsProductView from \"@/components/product\";\r\nimport EsFilterView from \"./filter.vue\";\r\nimport EsSortView from \"./sort.vue\";\r\n// import { isEmpty } from \"lodash\";\r\nimport { mapActions, mapGetters } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"EsCommodity\",\r\n  components: { EsProductView, EsSortView, EsFilterView },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      pageNum: 1,\r\n      isRenew: false,\r\n      pageSize: 20,\r\n      total: 0,\r\n      beforeSortParams: {},\r\n      sort: [],\r\n      scrollTop: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters(\"home\", [\"sellerGoodsList\", \"categoryList\"]),\r\n  },\r\n  activated() {\r\n    // this.requestCategoryList();\r\n    this.requestData();\r\n    // console.log('2 ->', 2);\r\n  },\r\n  // watch: {\r\n  //   $route(to, from) {\r\n  //     console.log('to ->', to);\r\n  //     console.log('from ->', from);\r\n  //     if(to.path == '/commodity'){\r\n  //       window.scrollTo(0, 111);\r\n  //     }\r\n  //     // this.windowScroll();\r\n\r\n  //           // window.scrollTo(0, this.scrollTop);\r\n  //   },\r\n  // },\r\n  methods: {\r\n    ...mapActions(\"home\", [\"requestSellerGoodsList\", \"requestCategoryList\"]),\r\n    changeFilter(item, index) {\r\n      this.currentFilterValue = index;\r\n    },\r\n    changepage() {\r\n      this.pageNum = 1;\r\n      this.requestData();\r\n    },\r\n    async requestData(params = {}) {\r\n      try {\r\n        const currentRouter = this.$router.currentRoute;\r\n        const categoryId = currentRouter.query.id || params.categoryId;\r\n\r\n        if (!categoryId && this.beforeSortParams) {\r\n          this.loading = true;\r\n          await this.requestSellerGoodsList({\r\n            pageNum: this.pageNum,\r\n            pageSize: this.pageSize,\r\n            ...this.beforeSortParams,\r\n          }).then((res) => {\r\n            this.total = res.pageInfo.totalElements;\r\n            if (this.sellerGoodsList.length) {\r\n              this.$Gsap.fromTo(this.$refs.activeScoll, {\r\n                delay: 0,\r\n                duration: 1.5,\r\n                y: \"100\",\r\n                autoAlpha: 0,\r\n                ease: \"back.out(1.7)\",\r\n              },{\r\n                delay: 0,\r\n                duration: 1,\r\n                y: \"0\",\r\n                autoAlpha: 1,\r\n                ease: \"back.out(1.7)\",\r\n              }\r\n              );\r\n            }\r\n          });\r\n        } else {\r\n          const sortParams = Object.prototype.hasOwnProperty.call(\r\n            params,\r\n            \"categoryId\"\r\n          )\r\n            ? this.beforeSortParams\r\n            : {};\r\n          this.loading = true;\r\n\r\n          await this.requestSellerGoodsList({\r\n            ...sortParams,\r\n            ...params,\r\n            categoryId,\r\n            pageNum: this.pageNum,\r\n            pageSize: this.pageSize,\r\n          }).then((res) => {\r\n            this.total = res.pageInfo.totalElements;\r\n           if (this.sellerGoodsList.length) {\r\n              this.$Gsap.fromTo(this.$refs.activeScoll, {\r\n               delay: 0,\r\n                duration: 1.5,\r\n                y: \"100\",\r\n                autoAlpha: 0,\r\n                ease: \"back.out(1.7)\",\r\n              },{\r\n                delay: 0,\r\n                duration: 1,\r\n                y: \"0\",\r\n                autoAlpha: 1,\r\n                ease: \"back.out(1.7)\",\r\n              });\r\n            }\r\n          });\r\n        }\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    currentChange(page) {\r\n      this.pageNum = page;\r\n      document.documentElement.scrollTop = 0;\r\n      this.requestData(this.sort);\r\n    },\r\n    filterChange(categoryId) {\r\n      this.requestData({ categoryId });\r\n      this.isRenew = true;\r\n    },\r\n    sortEvent(data) {\r\n      console.log(\"data ->\", data);\r\n      this.sort = data;\r\n      this.pageNum = 1;\r\n      this.beforeSortParams = data;\r\n      this.requestData(data);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.commodity {\r\n  &-wrap {\r\n    align-items: flex-start;\r\n    margin-top: -13px !important;\r\n\r\n    ul {\r\n      list-style: none;\r\n      margin: 0;\r\n      padding: 0;\r\n    }\r\n  }\r\n\r\n  .commodity-wrap {\r\n    min-height: calc(100vh - 361.5px);\r\n  }\r\n\r\n  &-filter {\r\n    width: 180px;\r\n    border-right: 1px solid var(--color-border);\r\n\r\n    h2 {\r\n      width: 100%;\r\n      // text-align: center;\r\n      font-weight: 600;\r\n      font-size: 16px;\r\n      color: var(--color-title);\r\n      border-bottom: 1px solid var(--color-border);\r\n      padding: 20px 0;\r\n      margin-bottom: 20px;\r\n    }\r\n\r\n    &-item {\r\n      // text-align: center;\r\n      width: 100%;\r\n      font-weight: 400;\r\n      font-size: 14px;\r\n      color: var(--color-black);\r\n      padding: 12px 0;\r\n      cursor: pointer;\r\n\r\n      &:hover {\r\n        color: var(--color-main);\r\n        border-right: 2px solid var(--color-main);\r\n      }\r\n\r\n      &-active {\r\n        color: var(--color-main);\r\n        border-right: 2px solid var(--color-main);\r\n      }\r\n    }\r\n  }\r\n\r\n  &-content {\r\n    width: 100%;\r\n\r\n    &-list {\r\n      display: grid;\r\n      grid-template-columns: repeat(auto-fit, minmax(186px, 165px));\r\n      grid-column-gap: 11px;\r\n      grid-row-gap: 20px;\r\n      align-content: center;\r\n      padding: 22px 28px;\r\n    }\r\n\r\n    &-pagination {\r\n      width: 100%;\r\n      text-align: center;\r\n      padding: 40px 0;\r\n    }\r\n  }\r\n  .no-data {\r\n    display: flex;\r\n    justify-content: center;\r\n  }\r\n}\r\n</style>\r\n"]}]}