{"remainingRequest":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\src\\components\\customService\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\src\\components\\customService\\index.vue","mtime":1761454523792},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761044715083},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\babel-loader\\lib\\index.js","mtime":1761044716268},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761044715083},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\vue-loader\\lib\\index.js","mtime":1761044716737}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyBVcGxvYWRBcGkgfSBmcm9tICJAL2FwaSI7DQppbXBvcnQgVmlydHVhbExpc3QgZnJvbSAidnVlLXZpcnR1YWwtc2Nyb2xsLWxpc3QiOw0KLy8gaW1wb3J0IFZpcnR1YWxMaXN0IGZyb20gIkAvY29tcG9uZW50cy92dWUtdmlydHVhbC1zY3JvbGwtbGlzdCI7IA0KaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOw0KaW1wb3J0IEVzQ2hhdEl0ZW1WaWV3IGZyb20gIi4vaXRlbS52dWUiOw0KaW1wb3J0IHsgRVNfVE9LRU4sIEVTX01FU1NBR0VfTEFTVF9JRCB9IGZyb20gIkAvY29tbW9uIjsNCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7DQppbXBvcnQgVVJMIGZyb20gIkAvY29uZmlnL2luZGV4IjsNCmltcG9ydCBWdWVEcmFnZ2FibGVSZXNpemFibGUgZnJvbSAndnVlLWRyYWdnYWJsZS1yZXNpemFibGUnDQovLyBpbXBvcnQgeyBnZXRCYXNlNjQgfSBmcm9tICJAL3V0aWwiOw0KY29uc3QgdXNlckljb24gPSByZXF1aXJlKCJAL2Fzc2V0cy9pbWFnZS91c2VySWNvbi5wbmciKTsNCi8vIGltcG9ydCBsb2dvU3ZnIGZyb20gIkAvYXNzZXRzL2ltYWdlL21hdGVzaG9wLWIuc3ZnIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIkVzQ3VzdG9tZXJTZXJ2aWNlIiwNCiAgY29tcG9uZW50czogeyBWaXJ0dWFsTGlzdCxWdWVEcmFnZ2FibGVSZXNpemFibGUgfSwNCiAgcHJvcHM6IHsNCiAgICBzaG93OiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogZmFsc2UsDQogICAgfSwNCiAgICAvLyB4TnVtOiB7DQogICAgLy8gICB0eXBlOiBOdW1iZXIsDQogICAgLy8gICBkZWZhdWx0OiAwLA0KICAgIC8vIH0sDQogICAgLy8geU51bTogew0KICAgIC8vICAgdHlwZTogTnVtYmVyLA0KICAgIC8vICAgZGVmYXVsdDogMCwNCiAgICAvLyB9LA0KICB9LA0KICBtb2RlbDogew0KICAgIHByb3A6ICJzaG93IiwNCiAgICBldmVudDogInVwZGF0ZSIsDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGl0ZW1uYW1lOiBwcm9jZXNzLmVudi5WVUVfQVBQX0lURU1fTkFNRSwNCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLA0KICAgICAgY2hhdEl0ZW1WaWV3OiBFc0NoYXRJdGVtVmlldywNCiAgICAgIG1lc3NhZ2U6ICIiLA0KICAgICAgaW1hZ2VVcmw6ICIiLA0KICAgICAgc2VuZExvYWRpbmc6IGZhbHNlLA0KICAgICAgVXBsb2FkQXBpLA0KICAgICAgdXBsb2FkUGFyYW1zOiB7DQogICAgICAgIG1vZHVsZU5hbWU6ICJvbmxpbmUiLA0KICAgICAgICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oRVNfVE9LRU4pLA0KICAgICAgfSwNCiAgICAgIHRpbWVyOiBudWxsLA0KICAgICAgeDowLA0KICAgICAgeTowLA0KICAgICAgd3Q6MCwNCiAgICAgIGhpOjAsDQogICAgICAvLyBzaG9wSW1nOiBsb2dvU3ZnLA0KICAgIH07DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwR2V0dGVycyh7DQogICAgICB1bnJlYWRNZXNzYWdlTGlzdDogInVzZXIvdW5yZWFkTWVzc2FnZUxpc3QiLA0KICAgICAgbWVzc2FnZUxpc3Q6ICJ1c2VyL21lc3NhZ2VMaXN0IiwNCiAgICAgIHVzZXJJbmZvOiAidXNlckluZm8iLA0KICAgICAgaXNsb2dpbjogImlzTG9naW4iLA0KICAgIH0pLA0KICAgIGNoYXRMaXN0KCkgew0KICAgICAgcmV0dXJuIHRoaXMubWVzc2FnZUxpc3QNCiAgICAgICAgLm1hcCgoaXRlbSkgPT4gKHsNCiAgICAgICAgICBpZDogaXRlbS5pZCwNCiAgICAgICAgICB1c2VySWNvbiwNCiAgICAgICAgICBpc1NlbGY6IGl0ZW0uc2VuZF9yZWNlaXZlID09PSAic2VuZCIsDQogICAgICAgICAgY29udGVudDppdGVtLmNvbnRlbnQucmVwbGFjZUFsbCgnXG4nLCAnPGJyLz4nKSwNCiAgICAgICAgICBjb250ZW50VHlwZTogaXRlbS50eXBlLA0KICAgICAgICAgIGRhdGU6IGl0ZW0uY3JlYXRldGltZSwNCiAgICAgICAgICBkZWxldGVfc3RhdHVzOml0ZW0uZGVsZXRlX3N0YXR1cywNCiAgICAgICAgfSkpDQogICAgICAgIC5yZXZlcnNlKCk7DQogICAgfSwNCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICBhc3luYyBkaWFsb2dWaXNpYmxlKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgew0KICAgICAgaWYgKG5ld1ZhbHVlICE9PSBvbGRWYWx1ZSkgdGhpcy4kZW1pdCgidXBkYXRlIiwgbmV3VmFsdWUpOw0KICAgICAgaWYgKG5ld1ZhbHVlICkgew0KICAgICAgICAvLyBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gImhpZGRlbiI7DQogICAgICAgIGNvbnN0IGxhc3RJZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKEVTX01FU1NBR0VfTEFTVF9JRCk7DQogICAgICAgIGF3YWl0IHRoaXMucmVxdWVzdFVucmVhZE1lc3NhZ2VMaXN0KCk7DQogICAgICAgIGF3YWl0IHRoaXMucmVxdWVzdE1lc3NhZ2VMaXN0KGxhc3RJZCA/IHsgbWVzc2FnZV9pZDogbGFzdElkIH0gOiB7fSk7DQogICAgICAgIHRoaXMuc2Nyb2xsQm90dG9tKCk7DQogICAgICAgIHRoaXMuc3RhcnRUaW1lcigpOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9ICJ2aXNpYmxlIjsNCiAgICAgICAgdGhpcy5lbmRUaW1lcigpOw0KICAgICAgfQ0KICAgIH0sDQogICAgc2hvdyhuZXdWYWx1ZSwgb2xkVmFsdWUpIHsNCiAgICAgIGlmIChuZXdWYWx1ZSAhPT0gb2xkVmFsdWUpIHRoaXMuZGlhbG9nVmlzaWJsZSA9IG5ld1ZhbHVlOw0KICAgIH0sDQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gdGhpcy5zaG93Ow0KICAgIHRoaXMud3QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggLSA0ODA7DQogICAgdGhpcy5oaSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgLSA2ODA7DQogICAgLy8gY29uc29sZS5sb2coInRoaXMuJHN0b3JlIC0+IiwgdGhpcy51c2VySW5mbyk7DQogIH0sDQogIGRlc3Ryb3llZCgpIHsNCiAgICB0aGlzLmVuZFRpbWVyKCk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAuLi5tYXBBY3Rpb25zKHsNCiAgICAgIHJlcXVlc3RNZXNzYWdlTGlzdDogInVzZXIvcmVxdWVzdE1lc3NhZ2VMaXN0IiwNCiAgICAgIHJlcXVlc3RVbnJlYWRNZXNzYWdlTGlzdDogInVzZXIvcmVxdWVzdFVucmVhZE1lc3NhZ2VMaXN0IiwNCiAgICAgIHJlcXVlc3RTZW5kTWVzc2FnZTogInVzZXIvcmVxdWVzdFNlbmRNZXNzYWdlIiwNCiAgICB9KSwNCiAgICAgb25EcmFnOiBmdW5jdGlvbiAoeCwgeSkgew0KICAgICAgaWYoeDwyICl7DQogICAgICAgdGhpcy54PTINCiAgICAgIH1lbHNlew0KICAgICAgdGhpcy54ID0geA0KICAgICAgdGhpcy55ID0geQ0KICAgICAgfQ0KICAgICAgDQogICAgfSwNCg0KICAgIGNsb3NlU2V2aWNlKCkgew0KICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7DQogICAgfSwNCiAgICBhc3luYyBzdGFydFRpbWVyKCkgew0KICAgICAgdGhpcy5lbmRUaW1lcigpOw0KICAgICAgYXdhaXQgdGhpcy5yZXF1ZXN0TWVzc2FnZUxpc3QoKTsNCiAgICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbChhc3luYyAoKSA9PiB7DQogICAgICAgIHRoaXMucmVxdWVzdFVucmVhZE1lc3NhZ2VMaXN0KCk7DQogICAgICAgIGF3YWl0IHRoaXMucmVxdWVzdE1lc3NhZ2VMaXN0KCk7DQogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKEVTX01FU1NBR0VfTEFTVF9JRCwgdGhpcy5tZXNzYWdlTGlzdFswXS5pZCk7DQogICAgICB9LCA1MDAwKTsNCiAgICB9LA0KICAgIGVuZFRpbWVyKCkgew0KICAgICAgdGhpcy50aW1lciAmJiBjbGVhckludGVydmFsKHRoaXMudGltZXIpOw0KICAgIH0sDQogICAgc2Nyb2xsQm90dG9tKCkgew0KICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgIGNvbnN0ICQkd3JhcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5jdXN0b21lci1zZXJ2aWNlLWxpc3QiKTsNCiAgICAgICAgJCR3cmFwLnNjcm9sbFRvKDAsICQkd3JhcC5zY3JvbGxIZWlnaHQpOw0KICAgICAgfSwgMzAwKTsNCiAgICB9LA0KDQogICAgYXN5bmMgc2VuZCgpIHsNCiAgICAgIHRyeSB7DQogICAgICAgIHRoaXMuc2VuZExvYWRpbmcgPSB0cnVlOw0KICAgICAgICBjb25zb2xlLmxvZygndGhpcy5tZXNzYWdlIC0+JywgdGhpcy5tZXNzYWdlKTsNCiAgICAgICAgdGhpcy5tZXNzYWdlID0gIGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLm1lc3NhZ2UpIDsNCiAgICAgICAgdGhpcy5yZXF1ZXN0U2VuZE1lc3NhZ2Uoew0KICAgICAgICAgIHR5cGU6ICJ0ZXh0IiwNCiAgICAgICAgICBjb250ZW50OiB0aGlzLm1lc3NhZ2UsDQogICAgICAgIH0pOw0KICAgICAgICB0aGlzLm1lc3NhZ2UgPSAiIjsNCiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgdGhpcy5yZXF1ZXN0TWVzc2FnZUxpc3QoKTsNCiAgICAgICAgICB0aGlzLnNjcm9sbEJvdHRvbSgpOw0KICAgICAgICB9LCAxMDAwKTsNCiAgICAgIH0gZmluYWxseSB7DQogICAgICAgIHRoaXMuc2VuZExvYWRpbmcgPSBmYWxzZTsNCiAgICAgIH0NCiAgICB9LA0KDQogICAgYmVmb3JlVXBsb2FkKGZpbGUpIHsNCiAgICAgIGlmICghWydpbWFnZS9qcGVnJywgJ2ltYWdlL2pwZycsICdpbWFnZS9wbmcnXS5pbmNsdWRlcyhmaWxlLnR5cGUpKSB7DQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgfQ0KICAgICAgcmV0dXJuIHRydWUNCiAgICB9LA0KDQogICAgLy8gdXBsb2FkU3VjY2VzcyhyZXMsIGZpbGUpIHsNCiAgICAvLyAgIHRoaXMuaW1hZ2VVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUucmF3KQ0KICAgIC8vICAgdGhpcy5hZGREYXRhKHRoaXMuaW1hZ2VVcmwsICdpbWFnZScpDQogICAgLy8gfSwNCiAgICAvLyBvblN1Y2Nlc3MocmVzcG9uc2UsIGZpbGUpIHsNCiAgICAvLyAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLCBmaWxlKQ0KICAgIC8vICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKQ0KICAgIC8vICAgZm9ybURhdGEuYXBwZW5kKGZpbGUsIGZpbGUpDQoNCiAgICAvLyAgIHRyeSB7DQogICAgLy8gICAgIHRoaXMuc2VuZExvYWRpbmcgPSB0cnVlDQogICAgLy8gICAgIHRoaXMucmVxdWVzdFNlbmRNZXNzYWdlKHsNCiAgICAvLyAgICAgICB0eXBlOiAnaW1nJywNCiAgICAvLyAgICAgICBjb250ZW50OiByZXNwb25zZS5kYXRhLA0KICAgIC8vICAgICAgIGZpbGU6IGZvcm1EYXRhLA0KICAgIC8vICAgICB9KQ0KICAgIC8vICAgICAvLyB0aGlzLm1lc3NhZ2UgPSAnJw0KICAgIC8vICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAvLyAgICAgICB0aGlzLnJlcXVlc3RNZXNzYWdlTGlzdCgpDQogICAgLy8gICAgICAgdGhpcy5zY3JvbGxCb3R0b20oKQ0KICAgIC8vICAgICB9LCAxMDAwKQ0KICAgIC8vICAgfSBmaW5hbGx5IHsNCiAgICAvLyAgICAgdGhpcy5zZW5kTG9hZGluZyA9IGZhbHNlDQogICAgLy8gICB9DQogICAgLy8gfSwNCiAgICBhc3luYyBzZW5kSW1hZ2VDb250ZW50KGRhdGEpIHsNCiAgICAgIHZhciB0ID0gdGhpczsNCiAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7DQogICAgICBmb3JtRGF0YS5hcHBlbmQoImZpbGUiLCBkYXRhLmZpbGUpOw0KICAgICAgZm9ybURhdGEuYXBwZW5kKCJtb2R1bGVOYW1lIiwgIjEyMyIpOw0KICAgICAgLy8gZm9ybURhdGEuYXBwZW5kKCd0eXBlJywgJ2ltZycpDQogICAgICAvLyBmb3JtRGF0YS5hcHBlbmQoJ2NvbnRlbnQnLCBhd2FpdCBnZXRCYXNlNjQoZGF0YS5maWxlKSkNCiAgICAgIC8vIGZvcm1EYXRhLmFwcGVuZCgndG9rZW4nLCBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShFU19UT0tFTikpDQogICAgIA0KICAgICAgLy8gIGNvbnN0IGZpbGVTdWZmaXggPSBkYXRhLmZpbGUubmFtZS5zdWJzdHJpbmcoZmlsZS5uYW1lLmxhc3RJbmRleE9mKCcuJykgKyAxKQ0KICAgICAgICAgICAgLy8gY29uc3Qgd2hpdGVMaXN0ID0gWydwZGYnLCAnZG9jJywgJ2RvY3gnXQ0KICAgICAgICAgICAgLy8gY29uc3QgaXNTdWZmaXggPSB3aGl0ZUxpc3QuaW5kZXhPZihmaWxlU3VmZml4LnRvTG93ZXJDYXNlKCkpID09PSAtMQ0KICAgICAgLy8gY29uc29sZS5sb2coJ2ZpbGVTdWZmaXggLT4nLCBmaWxlU3VmZml4KTsNCiAgICAgIGF4aW9zDQogICAgICAgIC5wb3N0KGAke1VSTC5CQVNFX1VSTH1hcGkvdXBsb2FkaW1nIWV4ZWN1dGUuYWN0aW9uYCwgZm9ybURhdGEsIHsNCiAgICAgICAgICBoZWFkZXJzOiB7ICJDb250ZW50LVR5cGUiOiAibXVsdGlwYXJ0L2Zvcm0tZGF0YSIgfSwNCiAgICAgICAgfSkNCiAgICAgICAgLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7DQogICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgIHQuc2VuZExvYWRpbmcgPSB0cnVlOw0KICAgICAgICAgICAgdC5yZXF1ZXN0U2VuZE1lc3NhZ2Uoew0KICAgICAgICAgICAgICB0eXBlOiAiaW1nIiwNCiAgICAgICAgICAgICAgY29udGVudDogcmVzLmRhdGEuZGF0YSwNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgLy8gdC5tZXNzYWdlID0gJycNCiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgICB0LnJlcXVlc3RNZXNzYWdlTGlzdCgpOw0KICAgICAgICAgICAgICB0LnNjcm9sbEJvdHRvbSgpOw0KICAgICAgICAgICAgfSwgMTAwMCk7DQogICAgICAgICAgfSBmaW5hbGx5IHsNCiAgICAgICAgICAgIHQuc2VuZExvYWRpbmcgPSBmYWxzZTsNCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0sDQogIH0sDQogIH0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAuEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/customService","sourcesContent":["<template>\r\n\r\n \r\n  <div v-if=\"dialogVisible\" class=\"tuodong\">\r\n\r\n   <VueDraggableResizable style=\"position: fixed;\" v-on:dragging=\"onDrag\" :w='480' :h='680' :x='wt' :y='hi'  :active=\"dialogVisible\">\r\n    <el-dialog\r\n    class=\"es-dialog customer-service-dialog\"\r\n    :visible.sync=\"dialogVisible\"\r\n    :center=\"true\"\r\n    :append-to-body=\"false\"\r\n    :destroy-on-close=\"true\"\r\n    :modal-append-to-body='false'\r\n    :modal=\"false\"\r\n    :show-close=\"false\"\r\n    :lock-scroll=\"true\"\r\n  >\r\n    <div slot=\"title\" class=\"dialog-title\">\r\n      <div class=\"left\">\r\n        <img :src=\"require(`@/assets/image/${itemname}/Sparlogo.png`)\" />\r\n        <span style=\"text-wrap: nowrap\">{{ $t(\"message.home.helpLine\") }}</span>\r\n      </div>\r\n      <div class=\"right\" @click=\"closeSevice\">\r\n        <img src=\"@/assets/image/icon00.png\" />\r\n      </div>\r\n    </div>\r\n    <div class=\"customer-service\">\r\n      <div class=\"customer-service-list\">\r\n        <VirtualList\r\n          ref=\"messageListRef\"\r\n          class=\"list\"\r\n          data-key=\"id\"\r\n          :data-sources=\"chatList\"\r\n          :data-component=\"chatItemView\"\r\n          :estimate-size=\"200\"\r\n          page-mode\r\n        />\r\n      </div>\r\n\r\n      <div class=\"customer-service-footer\">\r\n        <el-upload\r\n          class=\"avatar-uploader\"\r\n          :action=\"UploadApi\"\r\n          :show-file-list=\"false\"\r\n          :http-request=\"sendImageContent\"\r\n          accept=\".jpg,.jpeg,.png,.bmp,.pdf,.JPG,.JPEG,.PBG,.BMP,.PDF\"\r\n          :before-upload=\"beforeUpload\"\r\n        >\r\n          <i class=\"el-icon-picture-outline\"></i>\r\n        </el-upload>\r\n        <el-input\r\n          v-model=\"message\"\r\n          type=\"textarea\"\r\n          :rows=\"1\"\r\n          :placeholder=\"$t('message.home.enterTips')\"\r\n          @keyup.enter.native=\"send\"\r\n        />\r\n        <el-button type=\"priamry\" @click=\"send\" :loading=\"sendLoading\">\r\n          {{ $t(\"message.home.send\") }}\r\n        </el-button>\r\n      </div>\r\n    </div>\r\n\r\n  </el-dialog>\r\n  \r\n</VueDraggableResizable>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nimport { UploadApi } from \"@/api\";\r\nimport VirtualList from \"vue-virtual-scroll-list\";\r\n// import VirtualList from \"@/components/vue-virtual-scroll-list\"; \r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport EsChatItemView from \"./item.vue\";\r\nimport { ES_TOKEN, ES_MESSAGE_LAST_ID } from \"@/common\";\r\nimport axios from \"axios\";\r\nimport URL from \"@/config/index\";\r\nimport VueDraggableResizable from 'vue-draggable-resizable'\r\n// import { getBase64 } from \"@/util\";\r\nconst userIcon = require(\"@/assets/image/userIcon.png\");\r\n// import logoSvg from \"@/assets/image/mateshop-b.svg\";\r\nexport default {\r\n  name: \"EsCustomerService\",\r\n  components: { VirtualList,VueDraggableResizable },\r\n  props: {\r\n    show: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    // xNum: {\r\n    //   type: Number,\r\n    //   default: 0,\r\n    // },\r\n    // yNum: {\r\n    //   type: Number,\r\n    //   default: 0,\r\n    // },\r\n  },\r\n  model: {\r\n    prop: \"show\",\r\n    event: \"update\",\r\n  },\r\n  data() {\r\n    return {\r\n      itemname: process.env.VUE_APP_ITEM_NAME,\r\n      dialogVisible: false,\r\n      chatItemView: EsChatItemView,\r\n      message: \"\",\r\n      imageUrl: \"\",\r\n      sendLoading: false,\r\n      UploadApi,\r\n      uploadParams: {\r\n        moduleName: \"online\",\r\n        token: localStorage.getItem(ES_TOKEN),\r\n      },\r\n      timer: null,\r\n      x:0,\r\n      y:0,\r\n      wt:0,\r\n      hi:0,\r\n      // shopImg: logoSvg,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      unreadMessageList: \"user/unreadMessageList\",\r\n      messageList: \"user/messageList\",\r\n      userInfo: \"userInfo\",\r\n      islogin: \"isLogin\",\r\n    }),\r\n    chatList() {\r\n      return this.messageList\r\n        .map((item) => ({\r\n          id: item.id,\r\n          userIcon,\r\n          isSelf: item.send_receive === \"send\",\r\n          content:item.content.replaceAll('\\n', '<br/>'),\r\n          contentType: item.type,\r\n          date: item.createtime,\r\n          delete_status:item.delete_status,\r\n        }))\r\n        .reverse();\r\n    },\r\n  },\r\n  watch: {\r\n    async dialogVisible(newValue, oldValue) {\r\n      if (newValue !== oldValue) this.$emit(\"update\", newValue);\r\n      if (newValue ) {\r\n        // document.body.style.overflow = \"hidden\";\r\n        const lastId = localStorage.getItem(ES_MESSAGE_LAST_ID);\r\n        await this.requestUnreadMessageList();\r\n        await this.requestMessageList(lastId ? { message_id: lastId } : {});\r\n        this.scrollBottom();\r\n        this.startTimer();\r\n      } else {\r\n        document.body.style.overflow = \"visible\";\r\n        this.endTimer();\r\n      }\r\n    },\r\n    show(newValue, oldValue) {\r\n      if (newValue !== oldValue) this.dialogVisible = newValue;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.dialogVisible = this.show;\r\n    this.wt = document.documentElement.clientWidth - 480;\r\n    this.hi = document.documentElement.clientHeight - 680;\r\n    // console.log(\"this.$store ->\", this.userInfo);\r\n  },\r\n  destroyed() {\r\n    this.endTimer();\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      requestMessageList: \"user/requestMessageList\",\r\n      requestUnreadMessageList: \"user/requestUnreadMessageList\",\r\n      requestSendMessage: \"user/requestSendMessage\",\r\n    }),\r\n     onDrag: function (x, y) {\r\n      if(x<2 ){\r\n       this.x=2\r\n      }else{\r\n      this.x = x\r\n      this.y = y\r\n      }\r\n      \r\n    },\r\n\r\n    closeSevice() {\r\n      this.dialogVisible = false;\r\n    },\r\n    async startTimer() {\r\n      this.endTimer();\r\n      await this.requestMessageList();\r\n      this.timer = setInterval(async () => {\r\n        this.requestUnreadMessageList();\r\n        await this.requestMessageList();\r\n        localStorage.setItem(ES_MESSAGE_LAST_ID, this.messageList[0].id);\r\n      }, 5000);\r\n    },\r\n    endTimer() {\r\n      this.timer && clearInterval(this.timer);\r\n    },\r\n    scrollBottom() {\r\n      setTimeout(() => {\r\n        const $$wrap = document.querySelector(\".customer-service-list\");\r\n        $$wrap.scrollTo(0, $$wrap.scrollHeight);\r\n      }, 300);\r\n    },\r\n\r\n    async send() {\r\n      try {\r\n        this.sendLoading = true;\r\n        console.log('this.message ->', this.message);\r\n        this.message =  encodeURIComponent(this.message) ;\r\n        this.requestSendMessage({\r\n          type: \"text\",\r\n          content: this.message,\r\n        });\r\n        this.message = \"\";\r\n        setTimeout(() => {\r\n          this.requestMessageList();\r\n          this.scrollBottom();\r\n        }, 1000);\r\n      } finally {\r\n        this.sendLoading = false;\r\n      }\r\n    },\r\n\r\n    beforeUpload(file) {\r\n      if (!['image/jpeg', 'image/jpg', 'image/png'].includes(file.type)) {\r\n        return false\r\n      }\r\n      return true\r\n    },\r\n\r\n    // uploadSuccess(res, file) {\r\n    //   this.imageUrl = URL.createObjectURL(file.raw)\r\n    //   this.addData(this.imageUrl, 'image')\r\n    // },\r\n    // onSuccess(response, file) {\r\n    //   console.log(response, file)\r\n    //   const formData = new FormData()\r\n    //   formData.append(file, file)\r\n\r\n    //   try {\r\n    //     this.sendLoading = true\r\n    //     this.requestSendMessage({\r\n    //       type: 'img',\r\n    //       content: response.data,\r\n    //       file: formData,\r\n    //     })\r\n    //     // this.message = ''\r\n    //     setTimeout(() => {\r\n    //       this.requestMessageList()\r\n    //       this.scrollBottom()\r\n    //     }, 1000)\r\n    //   } finally {\r\n    //     this.sendLoading = false\r\n    //   }\r\n    // },\r\n    async sendImageContent(data) {\r\n      var t = this;\r\n      const formData = new FormData();\r\n      formData.append(\"file\", data.file);\r\n      formData.append(\"moduleName\", \"123\");\r\n      // formData.append('type', 'img')\r\n      // formData.append('content', await getBase64(data.file))\r\n      // formData.append('token', localStorage.getItem(ES_TOKEN))\r\n     \r\n      //  const fileSuffix = data.file.name.substring(file.name.lastIndexOf('.') + 1)\r\n            // const whiteList = ['pdf', 'doc', 'docx']\r\n            // const isSuffix = whiteList.indexOf(fileSuffix.toLowerCase()) === -1\r\n      // console.log('fileSuffix ->', fileSuffix);\r\n      axios\r\n        .post(`${URL.BASE_URL}api/uploadimg!execute.action`, formData, {\r\n          headers: { \"Content-Type\": \"multipart/form-data\" },\r\n        })\r\n        .then((res) => {\r\n          console.log(res);\r\n          try {\r\n            t.sendLoading = true;\r\n            t.requestSendMessage({\r\n              type: \"img\",\r\n              content: res.data.data,\r\n            });\r\n            // t.message = ''\r\n            setTimeout(() => {\r\n              t.requestMessageList();\r\n              t.scrollBottom();\r\n            }, 1000);\r\n          } finally {\r\n            t.sendLoading = false;\r\n          }\r\n        });\r\n    },\r\n  },\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\nhtml[dir=\"rtl\"]{\r\n  .el-dialog{\r\n    direction: rtl;\r\n  }\r\n  .customer-service-dialog .el-dialog .el-dialog__header .dialog-title .left img{\r\n    margin-left: 10px;\r\n    margin-right: 0;\r\n  }\r\n  .customer-service .avatar-uploader{\r\n    margin-left: 10px;\r\n    margin-right: 0;\r\n  }\r\n  .customer-service-footer .el-button {\r\n    margin-right: 10px;\r\n    margin-left: 0;\r\n  }\r\n}\r\n.customer-service-dialog {\r\n  .el-dialog {\r\n    position: absolute;\r\n    bottom: 20px;\r\n    right: 20px;\r\n    width: 460px !important;\r\n    height: 646px;\r\n    border-radius: 4px;\r\n    overflow: hidden;\r\n    .el-dialog__header {\r\n      background-color: var(--color-main) !important;\r\n      height: 44px !important;\r\n      padding: 0 10px !important;\r\n      border-bottom-left-radius: 0 !important;\r\n      border-bottom-right-radius: 0 !important;\r\n      .dialog-title {\r\n        background-color: var(--color-main) !important;\r\n        height: 100%;\r\n        width: 100%;\r\n        line-height: 44px;\r\n        font-size: 14px;\r\n        color: #fff;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        .left {\r\n          display: flex;\r\n          align-items: center;\r\n          img {\r\n            height: 34px;\r\n            margin-right: 10px;\r\n          }\r\n        }\r\n        .right {\r\n          width: 8px;\r\n          cursor: pointer;\r\n          img {\r\n            width: 100%;\r\n            height: 100%;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .el-dialog__body {\r\n      padding: 0 !important;\r\n      height: calc(646px - 44px);\r\n      background-color: #f0f4f9 !important;\r\n    }\r\n  }\r\n}\r\n.customer-service {\r\n  position: relative;\r\n  height: 100%;\r\n  &-list {\r\n    position: relative;\r\n    height: calc(646px - 44px);\r\n    overflow: auto;\r\n    padding: 15px;\r\n    padding-bottom: 44px;\r\n  }\r\n  &-footer {\r\n    position: absolute;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: constant(safe-area-inset-bottom);\r\n    bottom: env(safe-area-inset-bottom);\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    background-color: #fff;\r\n    height: 44px;\r\n    padding: 10px 8px;\r\n    box-sizing: border-box;\r\n    font-size: 14px;\r\n    border-radius: 0 0 10px 10px;\r\n    .image-icon {\r\n      font-size: 50px;\r\n      color: #fff;\r\n      margin-left: 20px;\r\n    }\r\n    .el-input {\r\n      .el-input__inner {\r\n        border: 0;\r\n        height: 32px;\r\n        background-color: #f5f5f5;\r\n        // margin: 0 15px 0 10px;\r\n      }\r\n    }\r\n    .el-button {\r\n      background: var(--color-main);\r\n      color: var(--color-white);\r\n      border-color: var(--color-main);\r\n      border-radius: 4px;\r\n      width: 65px;\r\n      height: 30px;\r\n      font-size: 14px;\r\n      padding: 0;\r\n      margin-left: 10px;\r\n      &:hover,\r\n      &:focus {\r\n        color: var(--color-white);\r\n        border-color: var(--color-main);\r\n        background-color: var(--color-main);\r\n      }\r\n    }\r\n  }\r\n  .avatar-uploader {\r\n    margin-right: 10px;\r\n  }\r\n  .el-icon-picture-outline {\r\n    font-size: 20px !important;\r\n    // margin-bottom: 8px;\r\n  }\r\n  \r\n}\r\n.vdr{\r\n    position: absolute;\r\n    z-index: 999 !important;\r\n    pointer-events: auto !important;\r\n  }\r\n  .tuodong{\r\n    position: fixed;\r\n    top: 0;\r\n    bottom: 100px;\r\n    left: 0;\r\n    right: 0;\r\n    z-index: 2001 !important;\r\n    width: 100%;\r\n    height: 100%;\r\n    pointer-events: none;\r\n    // background: #000;\r\n  }\r\n</style>\r\n"]}]}