{"remainingRequest":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\src\\page\\creditPage\\myLoan.vue?vue&type=style&index=0&id=351bf19c&lang=scss&scoped=true","dependencies":[{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\src\\page\\creditPage\\myLoan.vue","mtime":1760944158211},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\css-loader\\dist\\cjs.js","mtime":1761044715569},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1761044717168},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\postcss-loader\\src\\index.js","mtime":1761044716266},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1761044715084},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761044715083},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\vue-loader\\lib\\index.js","mtime":1761044716737}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoubG9hbiB7DQogIHdpZHRoOiA4NjFweDsNCiAgbWFyZ2luOiAwIGF1dG87DQogIC5taW5lIHsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBoZWlnaHQ6IDE5MXB4Ow0KICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgwZGVnLCAjZmZmN2VjLCAjZmZmN2VjKSwgI2VlZWVlZTsNCiAgICBib3JkZXItcmFkaXVzOiA0cHg7DQogICAgcGFkZGluZzogMjRweCAyM3B4Ow0KICAgIGRpc3BsYXk6IGZsZXg7DQogICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOw0KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgLmxlZnQgew0KICAgICAgLnRpdGxlIHsNCiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDsNCiAgICAgICAgZm9udC1zaXplOiAyMHB4Ow0KICAgICAgICBjb2xvcjogIzMzMzsNCiAgICAgIH0NCiAgICAgIC5tb25leSB7DQogICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7DQogICAgICAgIGZvbnQtc2l6ZTogMjRweDsNCiAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLW1haW4pOw0KICAgICAgICBtYXJnaW46IDE4cHggMCAyOHB4IDA7DQogICAgICB9DQogICAgICAuZGV0YWlscyB7DQogICAgICAgIHdpZHRoOiAzNDVweDsNCiAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOw0KICAgICAgICBkaXYgew0KICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsNCiAgICAgICAgICBjb2xvcjogIzMzMzMzMzsNCiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQogICAgICAgICAgaGVpZ2h0OiA0NnB4Ow0KICAgICAgICAgIHNwYW4gew0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogNnB4Ow0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgICAucmlnaHQgew0KICAgICAgd2lkdGg6IDEyN3B4Ow0KICAgICAgaGVpZ2h0OiAzNHB4Ow0KICAgICAgYmFja2dyb3VuZDogdmFyKC0tY29sb3ItbWFpbik7DQogICAgICBib3JkZXItcmFkaXVzOiA1cHg7DQogICAgICBmb250LXNpemU6IDE0cHg7DQogICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICBsaW5lLWhlaWdodDogMzRweDsNCiAgICAgIGNvbG9yOiAjZmZmZmZmOw0KICAgICAgY3Vyc29yOiBwb2ludGVyOw0KICAgIH0NCiAgfQ0KICAucmVjb3JkLXRpdGxlIHsNCiAgICBmb250LXNpemU6IDE0cHg7DQogICAgY29sb3I6ICMzMzM7DQogICAgbWFyZ2luOiAyOHB4IDAgMjBweCAwOw0KICB9DQogIC5yZWNvcmQgew0KICAgIG1hcmdpbi1ib3R0b206IDEwMHB4Ow0KICB9DQogIC5saXN0IHsNCiAgICB3aWR0aDogMTAwJTsNCiAgICAvLyBoZWlnaHQ6IDc5cHg7DQogICAgYm9yZGVyOiAxcHggc29saWQgI2VmZWZlZjsNCiAgICBib3JkZXItcmFkaXVzOiA0cHg7DQogICAgcGFkZGluZzogMjhweCAyM3B4IDEwcHggMjhweDsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgbWFyZ2luLWJvdHRvbTogMThweDsNCiAgICBpbWcgew0KICAgICAgd2lkdGg6IDQwcHg7DQogICAgICBoZWlnaHQ6IDQwcHg7DQogICAgfQ0KICAgIC5pdGVtIHsNCiAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICBoZWlnaHQ6IDQ1cHg7DQogICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsNCiAgICAgIC8vIG1hcmdpbi1yaWdodDogODBweDsNCiAgICAgIC5tb25leSB7DQogICAgICAgIGZvbnQtd2VpZ2h0OiA3MDA7DQogICAgICAgIGZvbnQtc2l6ZTogMjBweDsNCiAgICAgICAgY29sb3I6ICMzMzMzMzM7DQogICAgICB9DQogICAgICAuZGF0ZSB7DQogICAgICAgIGZvbnQtc2l6ZTogMTJweDsNCiAgICAgICAgY29sb3I6ICM5OTk5OTk7DQogICAgICB9DQogICAgfQ0KICAgIC5pdGVtLWNvbnRhaW5lciB7DQogICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsNCiAgICAgIGZsZXg6IDE7DQogICAgfQ0KICAgIC5kYXRlLWJveCB7DQogICAgICBhbGlnbi1pdGVtczogYmFzZWxpbmU7DQogICAgICBtYXJnaW4tbGVmdDogMTlweDsNCiAgICAgIG1hcmdpbi1yaWdodDogMzhweDsNCiAgICB9DQogICAgLnN0YXR1cyB7DQogICAgICBmb250LXNpemU6IDEycHg7DQogICAgICB3aWR0aDogNTJweDsNCiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgIGNvbG9yOiAjM2Y4MGZmOw0KICAgICAgLy8gbWFyZ2luLXJpZ2h0OiA1MHB4Ow0KICAgICAgLy8gbWFyZ2luLWxlZnQ6IDQwcHg7DQogICAgfQ0KICAgIC5mYWlsIHsNCiAgICAgIGNvbG9yOiAjZTQzNDM0Ow0KICAgIH0NCiAgICAuYnRuIHsNCiAgICAgIHdpZHRoOiAxMjdweDsNCiAgICAgIGhlaWdodDogMzRweDsNCiAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7DQogICAgICBmb250LXNpemU6IDE0cHg7DQogICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7DQogICAgICBsaW5lLWhlaWdodDogMzRweDsNCiAgICAgIGNvbG9yOiAjZmZmZmZmOw0KICAgICAgYmFja2dyb3VuZDogdmFyKC0tY29sb3ItbWFpbik7DQogICAgICBib3JkZXItcmFkaXVzOiA1cHg7DQogICAgICBjdXJzb3I6IHBvaW50ZXI7DQogICAgfQ0KICAgIC5mYWlsLWJ0biB7DQogICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMGRlZywgI2ZmZjdlYywgI2ZmZjdlYyksICNlZWVlZWU7DQogICAgICBib3JkZXI6IHVuc2V0Ow0KICAgICAgY29sb3I6IHZhcigtLWNvbG9yLW1haW4pOw0KICAgIH0NCiAgICAuYXBwbGljYXRpb24gew0KICAgICAgY29sb3I6IHZhcigtLWNvbG9yLW1haW4pOw0KICAgIH0NCiAgICAuZGVmYXVsdCB7DQogICAgICB3aWR0aDogMTI3cHg7DQogICAgICBoZWlnaHQ6IDM0cHg7DQogICAgICBmb250LXdlaWdodDogNDAwOw0KICAgICAgZm9udC1zaXplOiAxNHB4Ow0KICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgbGluZS1oZWlnaHQ6IDM0cHg7DQogICAgfQ0KICAgIC5maW5pc2ggew0KICAgICAgY29sb3I6ICMyZmFhNTk7DQogICAgfQ0KICAgIC5vdmVyZHVlIHsNCiAgICAgIGNvbG9yOiAjZTQzNDM0Ow0KICAgIH0NCiAgfQ0KICAuZXMtZGlhbG9nIHsNCiAgICAvZGVlcC8gLmVsLWRpYWxvZ19faGVhZGVyIHsNCiAgICAgIGhlaWdodDogNTZweCAhaW1wb3J0YW50Ow0KICAgICAgLmVsLWRpYWxvZ19fdGl0bGUgew0KICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0Ow0KICAgICAgfQ0KICAgIH0NCiAgICAuZWwtaW5wdXQgew0KICAgICAgbWFyZ2luLXRvcDogMTRweDsNCiAgICAgIG1hcmdpbi1ib3R0b206IDIzcHg7DQogICAgfQ0KICAgIC5lbC1idXR0b24gew0KICAgICAgd2lkdGg6IDEwMCU7DQogICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci1tYWluKTsNCiAgICAgIGNvbG9yOiAjZmZmOw0KICAgICAgaGVpZ2h0OiA0NHB4Ow0KICAgIH0NCiAgfQ0KDQogIC5wYXktbW9kYWwtdGl0bGUgew0KICAgIHRleHQtYWxpZ246IGxlZnQ7DQogICAgZm9udC13ZWlnaHQ6IDQwMDsNCiAgICBmb250LXNpemU6IDE2cHg7DQogICAgY29sb3I6IHZhcigtLWNvbG9yLWJsYWNrKTsNCiAgfQ0KDQogIC5wYXktbW9kYWwtY29udGVudCB7DQogICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQgIWltcG9ydGFudDsNCg0KICAgIC5lbC1idXR0b24gew0KICAgICAgd2lkdGg6IDEwMCU7DQogICAgICBtYXgtd2lkdGg6IDQ1MHB4Ow0KICAgICAgaGVpZ2h0OiA1MHB4Ow0KICAgIH0NCg0KICAgIC5wYXktbW9kYWwtYnRuIHsNCiAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgIH0NCg0KICAgIC5wYXktYnV0dG9uLXZpZXcgew0KICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["myLoan.vue"],"names":[],"mappings":";AAuZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"myLoan.vue","sourceRoot":"src/page/creditPage","sourcesContent":["<template>\r\n  <div class=\"app-container loan\">\r\n    <div class=\"mine\">\r\n      <div class=\"left\">\r\n        <div class=\"title\">{{ $t(\"message.home.myloan\") }}</div>\r\n        <div class=\"money\">{{ myloan }}</div>\r\n        <div class=\"details\">\r\n          <div>\r\n            <span>{{ day }}{{ $t(\"message.home.days\") }}</span>\r\n            <p>{{ $t(\"message.home.loaned\") }}</p>\r\n          </div>\r\n          <div>\r\n            <span>{{ Interest }}</span>\r\n            <p>{{ $t(\"message.home.interest\") }}</p>\r\n          </div>\r\n          <div>\r\n            <span>{{ repay }}</span>\r\n            <p>{{ $t(\"message.home.esRepayment\") }}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"right\" v-if=\"disble\">\r\n        <div @click=\"goPage\">\r\n          {{ $t(\"message.home.applyLoan\") }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"record-title\">{{ $t(\"message.home.loanHistory\") }}</div>\r\n    <div class=\"record\">\r\n      <div v-loading=\"loading\">\r\n        <div class=\"list\" v-for=\"(item, i) in historyList\" :key=\"i\">\r\n          <img src=\"@/assets/image/record.png\" alt=\"\" />\r\n          <div class=\"item date-box\">\r\n            <div class=\"money\">{{ numberFormat(item.applyAmount) }}</div>\r\n            <div class=\"date\">\r\n              {{ $t(\"message.home.applicantDate\") }}:{{\r\n                $formatZoneDate(item.customerSubmitTime)\r\n              }}\r\n            </div>\r\n          </div>\r\n          <div class=\"item-container\">\r\n            <div class=\"item\">\r\n              <span class=\"date\"\r\n                >{{ item.creditPeriod }}{{ $t(\"message.home.days\") }}</span\r\n              >\r\n              <span class=\"date\">{{ $t(\"message.home.cycle\") }}</span>\r\n            </div>\r\n            <div class=\"item\">\r\n              <span class=\"date\">{{ item.creditRate * 100 }}%</span>\r\n              <span class=\"date\">{{ $t(\"message.home.fixedRate\") }}</span>\r\n            </div>\r\n            <div class=\"status\" v-if=\"item.status == 2\">\r\n              {{ $t(\"message.home.successLoan\") }}\r\n            </div>\r\n            <div class=\"status fail\" v-if=\"item.status == 4\">\r\n              {{ $t(\"message.home.borrow\") }}\r\n            </div>\r\n            <div class=\"status application\" v-if=\"item.status == 1\">\r\n              {{ $t(\"message.home.applicantIn\") }}\r\n            </div>\r\n            <div class=\"status finish\" v-if=\"item.status == 5\">\r\n              {{ $t(\"message.home.repaid\") }}\r\n            </div>\r\n            <div class=\"status overdue\" v-if=\"item.status == 3\">\r\n              {{ $t(\"message.home.overdue\") }}\r\n            </div>\r\n            <div\r\n              class=\"btn\"\r\n              v-if=\"item.status == 2 || item.status == 3\"\r\n              @click=\"Repayment(item.id)\"\r\n            >\r\n              {{ $t(\"message.home.repayment\") }}\r\n            </div>\r\n            <div\r\n              class=\"btn fail-btn\"\r\n              v-if=\"item.status == 4\"\r\n              @click=\"goPage(item.id)\"\r\n            >\r\n              {{ $t(\"message.home.Reapply\") }}\r\n            </div>\r\n            <div\r\n              class=\"default\"\r\n              v-if=\"item.status !== 4 && item.status !== 2 && item.status !== 3\"\r\n            >\r\n              --\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"common-pagination\">\r\n        <el-pagination\r\n          v-if=\"historyList.length\"\r\n          background\r\n          layout=\"prev, pager, next\"\r\n          :page-size=\"pageSize\"\r\n          :current-page=\"pageNum\"\r\n          :total=\"total\"\r\n          @current-change=\"currentChange\"\r\n        />\r\n      </div>\r\n      <el-dialog\r\n        class=\"es-dialog\"\r\n        :visible.sync=\"dialogVisible\"\r\n        width=\"442px\"\r\n        :title=\"$t('message.home.estirepay')\"\r\n      >\r\n        <div>\r\n          <span>{{ $t(\"message.home.applicant\") }}</span>\r\n          <el-input :value=\"realname\" disabled />\r\n          <span>{{ $t(\"message.home.loanDays\") }}</span>\r\n          <el-input :value=\"alreadyCreditDays\" disabled />\r\n          <span>{{ $t(\"message.home.reAmount\") }}</span>\r\n          <el-input :value=\"numberFormat(estimatePayment)\" disabled />\r\n          <span>{{ $t(\"message.home.rates\") }}</span>\r\n          <el-input :value=\"creditRate + '%'\" disabled />\r\n          <span>{{ $t(\"message.home.accountB\") }}</span>\r\n          <el-input :value=\"numberFormat(accountAmount)\" disabled />\r\n          <el-button @click=\"payContent()\">{{\r\n            $t(\"message.home.repayment\")\r\n          }}</el-button>\r\n        </div>\r\n      </el-dialog>\r\n\r\n      <el-dialog\r\n        class=\"es-dialog\"\r\n        :visible.sync=\"passwordDialog\"\r\n        :center=\"true\"\r\n        :append-to-body=\"true\"\r\n        width=\"475px\"\r\n      >\r\n        <div slot=\"title\" class=\"dialog-title\">\r\n          <span v-if=\"showModel === 0\">{{ $t(\"message.home.desc3\") }}</span>\r\n          <span v-if=\"showModel === 1\">{{\r\n            $t(\"message.home.setUpPayPaw\")\r\n          }}</span>\r\n          <span v-if=\"showModel === 2\">{{\r\n            $t(\"message.home.confirmPayPaw\")\r\n          }}</span>\r\n        </div>\r\n        <div class=\"pay-modal-content dialog-content\">\r\n          <h2 class=\"pay-modal-title\" v-if=\"showModel !== 2\">\r\n            {{ $t(\"message.home.desc4\") }}\r\n          </h2>\r\n          <h2 class=\"pay-modal-title\" v-if=\"showModel === 2\">\r\n            {{ $t(\"message.home.desc6\") }}\r\n          </h2>\r\n          <EsPayPassword\r\n            ref=\"passwordRef\"\r\n            :type=\"'password'\"\r\n            :maxlength=\"6\"\r\n            @output=\"output\"\r\n          />\r\n          <div class=\"pay-modal-btn\">\r\n            <el-button\r\n              type=\"primary\"\r\n              :loading=\"payLoading\"\r\n              @click=\"pay\"\r\n              v-if=\"showModel === 0\"\r\n            >\r\n              {{ $t(\"message.home.确认\") }}\r\n            </el-button>\r\n            <el-button\r\n              type=\"primary\"\r\n              :loading=\"payLoading\"\r\n              @click=\"setUpPaw\"\r\n              v-if=\"showModel === 1\"\r\n            >\r\n              {{ $t(\"message.home.确认\") }}\r\n            </el-button>\r\n            <div v-if=\"showModel === 2\" class=\"pay-button-view\">\r\n              <el-button :loading=\"payLoading\" @click=\"previous\">\r\n                {{ $t(\"message.home.previous\") }}\r\n              </el-button>\r\n              <el-button\r\n                type=\"primary\"\r\n                :loading=\"payLoading\"\r\n                @click=\"confirmPayPaw\"\r\n              >\r\n                {{ $t(\"message.home.确认\") }}\r\n              </el-button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  BillCredit,\r\n  CreditHistory,\r\n  BeforePayCredit,\r\n  payCredit,\r\n} from \"@/api/credit\";\r\nimport EsPayPassword from \"@/components/payPassword\";\r\nimport { numberFormat } from \"@/util\";\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nexport default {\r\n  components: {\r\n    EsPayPassword,\r\n  },\r\n  props: {\r\n    show: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    payCallback: {\r\n      type: Function,\r\n      default: null,\r\n    },\r\n    payLoading: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  model: {\r\n    prop: \"show\",\r\n    event: \"update\",\r\n  },\r\n  data() {\r\n    return {\r\n      historyList: [],\r\n      pageSize: 10,\r\n      pageNum: 1,\r\n      total: 2,\r\n      loading: true,\r\n      dialogVisible: false,\r\n      realname: \"\",\r\n      creditRate: 0,\r\n      alreadyCreditDays: 0,\r\n      estimatePayment: 0,\r\n      accountAmount: 0,\r\n      passwordDialog: false,\r\n      password: \"\",\r\n      // 0 支付界面 1 设置支付密码 2 确认支付密码\r\n      showModel: 0,\r\n      myloan: \"--\",\r\n      day: \"--\",\r\n      Interest: \"--\",\r\n      repay: \"--\",\r\n      disble: false,\r\n      fouce: false,\r\n      firstPaw: 0,\r\n      secondPaw: 0,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getCreditList();\r\n    this.getCreditHistory(1);\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      userInfo: \"userInfo\",\r\n    }),\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      setSafewordFunc: \"order/setSafewordFunc\",\r\n    }),\r\n    numberFormat,\r\n    async getCreditList() {\r\n      let res = await BillCredit();\r\n      this.myloan = this.numberFormat(res.data.applyAmount)\r\n        ? this.numberFormat(res.data.applyAmount)\r\n        : \"--\";\r\n      this.day = res.data.alreadyCreditDays ? res.data.alreadyCreditDays : \"--\";\r\n      this.Interest = this.numberFormat(res.data.interest)\r\n        ? this.numberFormat(res.data.interest)\r\n        : \"--\";\r\n      this.repay = this.numberFormat(res.data.estimatePayment)\r\n        ? this.numberFormat(res.data.estimatePayment)\r\n        : \"--\";\r\n    },\r\n    async getCreditHistory() {\r\n      let res = await CreditHistory({\r\n        pageNo: this.pageNum,\r\n      });\r\n      this.historyList = res.data.elements;\r\n      this.loading = false;\r\n      this.total = res.data.totalElements;\r\n    },\r\n    currentChange(page) {\r\n      this.pageNum = page;\r\n      this.loading = true;\r\n      this.getDicountedList();\r\n    },\r\n    goPage(id) {\r\n      this.$router.push(\"/credit/application?id=\" + id);\r\n    },\r\n    async creditDetail(id) {\r\n      let res = await BeforePayCredit({ pageNo: \"1\", creditId: id });\r\n      this.realname = res.data.realName;\r\n      this.creditRate = res.data.creditRate * 100;\r\n      this.alreadyCreditDays = res.data.alreadyCreditDays;\r\n      this.estimatePayment = res.data.estimatePayment;\r\n      this.accountAmount = res.data.accountAmount;\r\n    },\r\n    Repayment(id) {\r\n      this.dialogVisible = true;\r\n      this.creditDetail(id);\r\n      this.creditId = id;\r\n    },\r\n    payContent() {\r\n      if (this.fouce) {\r\n        this.$refs.passwordRef.clear();\r\n      }\r\n      if (!this.userInfo.safeword) {\r\n        // 设置支付密码\r\n        this.passwordDialog = true;\r\n        this.showModel = 1;\r\n        return;\r\n      } else {\r\n        this.showModel = 0;\r\n        this.passwordDialog = true;\r\n      }\r\n    },\r\n    previous() {\r\n      this.showModel = 1;\r\n      // this.$emit('changeShowModel', 1)\r\n      this.$refs.passwordRef.clear();\r\n    },\r\n    setUpPaw() {\r\n      // 设置支付密码\r\n      // this.$emit('changeShowModel', 2)\r\n      const passwordArr = this.$refs.passwordRef.codeData;\r\n      const filterPassword = passwordArr.filter((item) => item !== \"\");\r\n      if (filterPassword.length === 6) {\r\n        this.showModel = 2;\r\n      } else {\r\n        this.$message({\r\n          message: this.$t(\"message.home.请输入完整的支付密码!\"),\r\n          type: \"warning\",\r\n        });\r\n      }\r\n      this.$refs.passwordRef.clear();\r\n    },\r\n    confirmPayPaw() {\r\n      // 再次确认支付密码\r\n      if (this.firstPaw === this.secondPaw) {\r\n        this.setSafeword(this.firstPaw, this.secondPaw);\r\n      } else {\r\n        this.$message({\r\n          message: this.$t(\"message.home.twoPawword\"),\r\n          type: \"warning\",\r\n        });\r\n        this.$refs.passwordRef.clear();\r\n      }\r\n    },\r\n    async setSafeword(safeword, re_safeword) {\r\n      try {\r\n        await this.setSafewordFunc({\r\n          safeword,\r\n          re_safeword,\r\n        });\r\n        this.showModel = 0;\r\n        this.$message.success(this.$t(\"message.home.setSuccess\"));\r\n      } catch (error) {}\r\n    },\r\n    async pay() {\r\n      if (this.accountAmount < this.estimatePayment) {\r\n        this.$message({\r\n          message: this.$t(\"message.home.balanceNot\"),\r\n          type: \"warning\",\r\n        });\r\n      } else {\r\n        this.$refs.passwordRef.clear();\r\n        let res = await payCredit({\r\n          creditId: this.creditId,\r\n          safeword: this.password,\r\n        });\r\n\r\n        if (res.code == 1) {\r\n          console.log(\"222 ->\", 222);\r\n          this.$refs.passwordRef.clear();\r\n        }\r\n        if (res.code == 0) {\r\n          this.dialogVisible = false;\r\n          this.$message({\r\n            message: this.$t(\"message.home.paymentSuccessful\"),\r\n            type: \"success\",\r\n          });\r\n          this.getCreditHistory();\r\n        }\r\n      }\r\n      setTimeout(() => {\r\n        this.passwordDialog = false;\r\n      }, 200);\r\n    },\r\n    output({ data, isfinished }) {\r\n      // console.log(\"data,isfinished ->\", data, isfinished);\r\n      this.fouce = true;\r\n      if (isfinished) {\r\n        if (this.showModel === 1) {\r\n          this.firstPaw = data;\r\n        } else if (this.showModel === 2) {\r\n          this.secondPaw = data;\r\n        } else if (this.showModel === 0) {\r\n          this.password = data;\r\n        }\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.loan {\r\n  width: 861px;\r\n  margin: 0 auto;\r\n  .mine {\r\n    width: 100%;\r\n    height: 191px;\r\n    background: linear-gradient(0deg, #fff7ec, #fff7ec), #eeeeee;\r\n    border-radius: 4px;\r\n    padding: 24px 23px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    .left {\r\n      .title {\r\n        font-weight: 600;\r\n        font-size: 20px;\r\n        color: #333;\r\n      }\r\n      .money {\r\n        font-weight: 700;\r\n        font-size: 24px;\r\n        color: var(--color-main);\r\n        margin: 18px 0 28px 0;\r\n      }\r\n      .details {\r\n        width: 345px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        div {\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          font-size: 14px;\r\n          color: #333333;\r\n          justify-content: space-between;\r\n          height: 46px;\r\n          span {\r\n            margin-bottom: 6px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .right {\r\n      width: 127px;\r\n      height: 34px;\r\n      background: var(--color-main);\r\n      border-radius: 5px;\r\n      font-size: 14px;\r\n      text-align: center;\r\n      line-height: 34px;\r\n      color: #ffffff;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n  .record-title {\r\n    font-size: 14px;\r\n    color: #333;\r\n    margin: 28px 0 20px 0;\r\n  }\r\n  .record {\r\n    margin-bottom: 100px;\r\n  }\r\n  .list {\r\n    width: 100%;\r\n    // height: 79px;\r\n    border: 1px solid #efefef;\r\n    border-radius: 4px;\r\n    padding: 28px 23px 10px 28px;\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 18px;\r\n    img {\r\n      width: 40px;\r\n      height: 40px;\r\n    }\r\n    .item {\r\n      display: flex;\r\n      height: 45px;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      // margin-right: 80px;\r\n      .money {\r\n        font-weight: 700;\r\n        font-size: 20px;\r\n        color: #333333;\r\n      }\r\n      .date {\r\n        font-size: 12px;\r\n        color: #999999;\r\n      }\r\n    }\r\n    .item-container {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      flex: 1;\r\n    }\r\n    .date-box {\r\n      align-items: baseline;\r\n      margin-left: 19px;\r\n      margin-right: 38px;\r\n    }\r\n    .status {\r\n      font-size: 12px;\r\n      width: 52px;\r\n      text-align: center;\r\n      color: #3f80ff;\r\n      // margin-right: 50px;\r\n      // margin-left: 40px;\r\n    }\r\n    .fail {\r\n      color: #e43434;\r\n    }\r\n    .btn {\r\n      width: 127px;\r\n      height: 34px;\r\n      font-weight: 400;\r\n      font-size: 14px;\r\n      text-align: center;\r\n      line-height: 34px;\r\n      color: #ffffff;\r\n      background: var(--color-main);\r\n      border-radius: 5px;\r\n      cursor: pointer;\r\n    }\r\n    .fail-btn {\r\n      background: linear-gradient(0deg, #fff7ec, #fff7ec), #eeeeee;\r\n      border: unset;\r\n      color: var(--color-main);\r\n    }\r\n    .application {\r\n      color: var(--color-main);\r\n    }\r\n    .default {\r\n      width: 127px;\r\n      height: 34px;\r\n      font-weight: 400;\r\n      font-size: 14px;\r\n      text-align: center;\r\n      line-height: 34px;\r\n    }\r\n    .finish {\r\n      color: #2faa59;\r\n    }\r\n    .overdue {\r\n      color: #e43434;\r\n    }\r\n  }\r\n  .es-dialog {\r\n    /deep/ .el-dialog__header {\r\n      height: 56px !important;\r\n      .el-dialog__title {\r\n        text-align: left;\r\n      }\r\n    }\r\n    .el-input {\r\n      margin-top: 14px;\r\n      margin-bottom: 23px;\r\n    }\r\n    .el-button {\r\n      width: 100%;\r\n      background: var(--color-main);\r\n      color: #fff;\r\n      height: 44px;\r\n    }\r\n  }\r\n\r\n  .pay-modal-title {\r\n    text-align: left;\r\n    font-weight: 400;\r\n    font-size: 16px;\r\n    color: var(--color-black);\r\n  }\r\n\r\n  .pay-modal-content {\r\n    align-items: flex-start !important;\r\n\r\n    .el-button {\r\n      width: 100%;\r\n      max-width: 450px;\r\n      height: 50px;\r\n    }\r\n\r\n    .pay-modal-btn {\r\n      width: 100%;\r\n      text-align: center;\r\n    }\r\n\r\n    .pay-button-view {\r\n      display: flex;\r\n      justify-content: space-between;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}