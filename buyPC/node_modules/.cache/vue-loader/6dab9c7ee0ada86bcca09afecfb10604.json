{"remainingRequest":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\src\\page\\userInfo\\my-order\\orderDetail.vue?vue&type=style&index=0&id=49c24fec&scoped=true&lang=scss","dependencies":[{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\src\\page\\userInfo\\my-order\\orderDetail.vue","mtime":1760944158226},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\css-loader\\dist\\cjs.js","mtime":1761044715569},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1761044717168},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\postcss-loader\\src\\index.js","mtime":1761044716266},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1761044715084},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761044715083},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\vue-loader\\lib\\index.js","mtime":1761044716737}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgLmNvbW1vZGl0eS1jb250ZW50LXBhZ2luYXRpb257CiAgICBtYXJnaW46IDEwcHggYXV0bzsKICB9Ci5idXR0b24gewogIGhlaWdodDogMjhweDsKICBwYWRkaW5nOiAwIDEwcHg7CiAgLyogcGFkZGluZy1yaWdodDogMjBweDsgKi8KICBsaW5lLWhlaWdodDogMjhweDsKICB3aGl0ZS1zcGFjZTogbm93cmFwOwogIGJvcmRlcjogMXB4IHNvbGlkICM4YzhjOGM7CiAgYm9yZGVyLXJhZGl1czogMTRweDsKICBjb2xvcjogIzMzMzMzMzsKICBtYXJnaW4tcmlnaHQ6IDVweDsKICBtYXJnaW4tdG9wOiA1cHg7CiAgbWF4LXdpZHRoOiAxNTVweDsKICBvdmVyZmxvdzogaGlkZGVuOwogIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwogIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgY3Vyc29yOiBwb2ludGVyOwoKICAmLmFjdGl2ZSB7CiAgICBjb2xvcjogdmFyKC0tY29sb3ItbWFpbik7CiAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1jb2xvci1tYWluKTsKICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgwZGVnLCAjZmZmN2VjLCAjZmZmN2VjKSwgI2VlZWVlZTsKICB9Cn0KCi5kZXRhaWxfY29udGFpbmVyIHsKICAvLyB3aWR0aDogNzc1cHg7CiAgbWFyZ2luLXRvcDogMjRweDsKICBtYXJnaW4tbGVmdDogMzRweDsKICBkaXNwbGF5OiBmbGV4OwogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CgogIC5pbmZvX3RpdGxlIHsKICAgIGZvbnQtd2VpZ2h0OiA1MDA7CiAgICBmb250LXNpemU6IDE0cHg7CiAgfQoKICAuZmxleF9yb3dfYmV0d2VlbiB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleC1kaXJlY3Rpb246IHJvdzsKICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICB9CgogIC5kZWxpdmVyeSB7CiAgICBoZWlnaHQ6IDkycHg7CiAgICB3aWR0aDogMHB4OwoKICAgIG1hcmdpbi1sZWZ0OiAyMXB4OwogICAgbWFyZ2luLXJpZ2h0OiAzMXB4OwoKICAgIGJvcmRlcjogMXB4IHNvbGlkICNlZWVlZWU7CiAgICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IDAgMDsKICAgIHRyYW5zZm9ybS1vcmlnaW46IDAgMDsKICAgIC8vIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSguNSwgLjUpOwogIH0KCiAgLnJlYWxfcHJpY2UgewogICAgZm9udC1mYW1pbHk6ICJSb2JvdG8iOwogICAgZm9udC1zdHlsZTogbm9ybWFsOwogICAgZm9udC13ZWlnaHQ6IDUwMDsKICAgIGZvbnQtc2l6ZTogMTZweDsKICAgIGxpbmUtaGVpZ2h0OiAxOXB4OwogICAgY29sb3I6IHZhcigtLWNvbG9yLXByaWNlKTsKICB9CgogIC5kZXRhaWxfY29udGFpbmVyIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBmbGV4LWRpcmVjdGlvbjogcm93OwoKICAgIC5sZWZ0IHsKICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgd2lkdGg6IDQ4NHB4OwoKICAgICAgLnByb2R1Y3RfaW5mbyB7CiAgICAgICAgbWFyZ2luLXRvcDogMTdweDsKICAgICAgICB3aWR0aDogNDg0cHg7CiAgICAgICAgLy8gaGVpZ2h0OiAxMjhweDsKICAgICAgICBwYWRkaW5nLXRvcDogMTBweDsKICAgICAgICBwYWRkaW5nLWJvdHRvbTogMTBweDsKICAgICAgICBib3JkZXI6IDFweCBzb2xpZCAjZWVlZWVlOwogICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7CiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKCiAgICAgICAgLmltZyB7CiAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICB3aWR0aDogNjIuNzNweDsKICAgICAgICAgIGhlaWdodDogNjIuNzNweDsKICAgICAgICAgIG1hcmdpbi1sZWZ0OiAzcHg7CiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDE4cHg7CiAgICAgICAgfQoKICAgICAgICAucHJvZGVzYyB7CiAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICAgIHdpZHRoOiAyNDJweDsKCiAgICAgICAgICAudGl0IHsKICAgICAgICAgICAgZm9udC1mYW1pbHk6ICJSb2JvdG8iOwogICAgICAgICAgICBmb250LXN0eWxlOiBub3JtYWw7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsKICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDI0cHg7CiAgICAgICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwogICAgICAgICAgICBkaXNwbGF5OiAtd2Via2l0LWJveDsKICAgICAgICAgICAgLXdlYmtpdC1saW5lLWNsYW1wOiAyOwogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICAvKiEgYXV0b3ByZWZpeGVyOiBvZmYgKi8KICAgICAgICAgICAgLXdlYmtpdC1ib3gtb3JpZW50OiB2ZXJ0aWNhbDsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgfQoKICAgICAgICAgIC5hdHRyIHsKICAgICAgICAgICAgZm9udC1mYW1pbHk6ICJSb2JvdG8iOwogICAgICAgICAgICBmb250LXN0eWxlOiBub3JtYWw7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgICAgICAgbWFyZ2luLXRvcDogNHB4OwogICAgICAgICAgfQoKICAgICAgICAgIC5wcmljZSB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICAgICAgbWFyZ2luLXRvcDogMTBweDsKCiAgICAgICAgICAgIC5udW0gewogICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLmZlZXMgewogICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47CiAgICAgICAgICBmb250LWZhbWlseTogIlJvYm90byI7CiAgICAgICAgICBmb250LXN0eWxlOiBub3JtYWw7CiAgICAgICAgICBmb250LXdlaWdodDogNDAwOwogICAgICAgICAgZm9udC1zaXplOiAxMnB4OwoKICAgICAgICAgIC5kZXNjIHsKICAgICAgICAgICAgbWFyZ2luLXRvcDogNHB4OwogICAgICAgICAgfQoKICAgICAgICAgIC50b3RhbF9EZXNjIHsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIC5yaWdodCB7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgIG1hcmdpbi1sZWZ0OiAxNHB4OwogICAgd2lkdGg6IDM0N3B4OwoKICAgIC5ib3hNYXJnaW4gewogICAgICBtYXJnaW4tYm90dG9tOiAxNHB4OwogICAgICBwYWRkaW5nLXRvcDogMTRweDsKICAgICAgcGFkZGluZy1sZWZ0OiAxNHB4OwogICAgfQoKICAgIC5pdGVtX2xpbmUgewogICAgICBmb250LXdlaWdodDogNDAwOwogICAgICBmb250LXNpemU6IDEycHg7CiAgICAgIG1hcmdpbi10b3A6IDE4cHg7CiAgICAgIG1hcmdpbi1sZWZ0OiAxNHB4OwogICAgICBtYXJnaW4tcmlnaHQ6IDE0cHg7CiAgICB9CgogICAgLm9yZGVyX2JveCB7CiAgICAgIHdpZHRoOiAzNDdweDsKICAgICAgLyogZWVlICovCiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNlZWVlZWU7CiAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgZGlzcGxheTogZmxleDsKICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgc3BhbiB7CiAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDsKICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsKICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICB9CiAgICB9CgogICAgLm9yZGVyRm9udCB7CiAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7CiAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["orderDetail.vue"],"names":[],"mappings":";AA2jBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"orderDetail.vue","sourceRoot":"src/page/userInfo/my-order","sourcesContent":["<template>\r\n  <div class=\"detail_container\" v-loading=\"loading\">\r\n    <div class=\"page-title\" style=\"cursor: pointer\" @click=\"goBack\">\r\n      <i class=\"el-icon-arrow-left\"></i> {{ $t(\"message.home.myOrder\") }}/{{\r\n        $t(\"message.home.orderInfo\")\r\n      }}\r\n    </div>\r\n    <div class=\"detail_container\">\r\n      \r\n      <div class=\"left\">\r\n        <div>\r\n          <span class=\"info_title\">{{ $t(\"message.home.productInfo\") }}</span>\r\n        <div\r\n          class=\"product_info\"\r\n          v-for=\"product in orderGoodsList\"\r\n          :key=\"product.goodsId + Math.random()\"\r\n        >\r\n          <!-- {{ product.goodsIcon }} -->\r\n          <el-image\r\n            class=\"img\"\r\n            style=\"width: 62px; height: 62px\"\r\n            :src=\"product.goodsIcon\"\r\n            fit=\"scale-down\"\r\n          ></el-image>\r\n          <div class=\"prodesc\">\r\n            <span\r\n              @click=\"() => goToDetail(product.goodsId, product.isShelf, product.isValid)\"\r\n              class=\"tit\"\r\n            >\r\n              {{ product.goodsName }}\r\n            </span>\r\n            <div class=\"price\">\r\n              <span class=\"real_price\">\r\n                ${{ numberFormat(product.sellingPrice) }}\r\n              </span>\r\n              <span class=\"num\"> x{{ product.goodsNum }} </span>\r\n            </div>\r\n            <span\r\n              class=\"attr\"\r\n              v-if=\"product.attributes && product.attributes.length > 0\"\r\n            >\r\n              {{\r\n                product.attributes\r\n                  .map((it) => `${it.attrName}:${it.attrValue}`)\r\n                  .join(\" \")\r\n              }}\r\n            </span>\r\n          </div>\r\n          <div class=\"delivery\"></div>\r\n          <div class=\"fees\">\r\n            <span class=\"desc\">\r\n              <!-- {{typeof(Number(numberFormat(product.sellingPrice + product.tax + product.fees)))}} -->\r\n              <!-- {{ $t(\"message.home.totalPrice\") }} : ${{  $big(\r\n                    numberFormat(\r\n                    $big( product.sellingPrice - 0 ).plus(product.tax - 0).plus(product.fees - 0)\r\n                  )).times(product.goodsNum - 0) }} -->\r\n                  {{ $t(\"message.home.totalPrice\") }} : {{\r\n                    numberFormat(\r\n                     $big( product.sellingPrice).plus(product.tax).plus(product.fees )\r\n                    .times(product.goodsNum))\r\n                  }}\r\n            </span>\r\n            <span class=\"desc\">\r\n             {{ $t(\"message.home.discount\") }} : -${{ numberFormat($big(product.sellingPrice).minus(product.goodsReal).times(product.goodsNum)) }}\r\n              <!-- {{ $t(\"message.home.discount\") }} : -${{ numberFormat(numberFormat(product.sellingPrice)-(numberFormat(product.goodsReal))*(product.goodsNum)) }} -->\r\n            </span>\r\n            <span class=\"desc\">\r\n              {{ $t(\"message.home.tax\") }} : ${{\r\n                numberFormat($big(product.tax).times(product.goodsNum))\r\n              }}\r\n              <!-- {{ $t(\"message.home.tax\") }} : ${{\r\n                numberFormat(product.tax * product.goodsNum)\r\n              }}  -->\r\n            </span>\r\n            <span class=\"desc\">\r\n              {{ $t(\"message.home.goodsFreight\") }} : ${{\r\n                numberFormat($big(product.fees).times(product.goodsNum))\r\n              }}\r\n              <!-- {{ $t(\"message.home.goodsFreight\") }} : ${{\r\n                numberFormat(product.fees * product.goodsNum)\r\n              }} -->\r\n            </span>\r\n            <span class=\"desc total_Desc\">\r\n              {{ $t(\"message.home.totalNum\") }} :${{\r\n                numberFormat($big(product.goodsReal).plus(product.tax).plus(product.fees).times(product.goodsNum))\r\n              }}\r\n              <!-- {{ $t(\"message.home.totalNum\") }} :${{\r\n                \r\n                  $big(product.goodsReal).plus(product.tax)\r\n              }} -->\r\n            </span>\r\n          </div>\r\n        </div>\r\n        </div>\r\n        <div v-if=\"orderGoodsList.length\" class=\"commodity-content-pagination\">\r\n              <el-pagination\r\n                background\r\n                layout=\"prev, pager, next\"\r\n                class=\"es-pagination\"\r\n                :page-size=\"pageSize\"\r\n                :current-page=\"pageNum\"\r\n                :total=\"total\"\r\n                @current-change=\"currentChange\"\r\n              />\r\n            </div>\r\n      </div>\r\n\r\n      <div class=\"right\">\r\n        <span class=\"info_title\" style=\"margin-bottom: 17px\">\r\n          {{ $t(\"message.home.orderInfo\") }}\r\n        </span>\r\n        <div class=\"order_box boxMargin\">\r\n          <span class=\"orderFont\"\r\n            >{{ $t(\"message.home.serialNumber\") }} : {{ orderDetails.id }}\r\n            <i\r\n              @click=\"copy\"\r\n              style=\"cursor: pointer\"\r\n              class=\"el-icon-copy-document\"\r\n          /></span>\r\n          <span class=\"orderFont\"\r\n            >{{ $t(\"message.home.orderTime\") }} :\r\n            {{ $formatZoneDate(orderDetails.createTime) }}</span\r\n          >\r\n          <span class=\"orderFont\"\r\n            >{{ $t(\"message.home.orderStatus\") }} :\r\n            <span style=\"color: #e4111f\">{{\r\n              getOrderStatusLable(orderDetails.status)\r\n            }}</span></span\r\n          >\r\n        </div>\r\n\r\n        <div class=\"order_box boxMargin\">\r\n          <span\r\n            style=\"font-weight: 500; font-size: 14px; margin-bottom: 10px\"\r\n            >{{ $t(\"message.home.receiver\") }}</span\r\n          >\r\n          <span style=\"font-weight: 500; font-size: 12px\">\r\n            {{ orderDetails.contacts }}\r\n            {{ phoneNumber(orderDetails.phone) }}</span\r\n          >\r\n          <span\r\n            style=\"\r\n              font-weight: 500;\r\n              font-size: 12px;\r\n              color: #999999;\r\n              margin-bottom: 10px;\r\n            \"\r\n            >{{ orderDetails.address }}</span\r\n          >\r\n        </div>\r\n\r\n        <div class=\"order_box\">\r\n          <div\r\n            class=\"flex_row_between\"\r\n            style=\"\r\n              font-weight: 600;\r\n              font-size: 12px;\r\n              margin: 20px 14px 0px 14px;\r\n            \"\r\n          >\r\n            <span>{{ $t(\"message.home.orderPrefix\") }}</span>\r\n            <span> ${{ numberFormat(orderDetails.prizeOriginal) }} </span>\r\n          </div>\r\n          <span class=\"flex_row_between item_line\">\r\n            {{ $t(\"message.home.discount\") }}\r\n            <span>-${{ numberFormat(orderDetails.discount) }}</span>\r\n          </span>\r\n          <div class=\"flex_row_between item_line\">\r\n            <span>{{ $t(\"message.home.tax\") }} </span>+${{ orderDetails.tax }}\r\n          </div>\r\n          <div class=\"flex_row_between item_line\">\r\n            <span> {{ $t(\"message.home.goodsFreight\") }} </span>\r\n            <span>+${{ orderDetails.fees }}</span>\r\n          </div>\r\n          <div style=\"margin-left: 14px; margin-right: 14px\">\r\n            <el-divider></el-divider>\r\n          </div>\r\n          <div\r\n            style=\"\r\n              display: flex;\r\n              flex-direction: row;\r\n              justify-content: flex-end;\r\n              margin-right: 14px;\r\n              margin-left: 14px;\r\n            \"\r\n          >\r\n            <span style=\"font-weight: 400; font-size: 12px\"\r\n              >{{ $t(\"message.home.totalNum\") }} :\r\n              <span class=\"real_price\">${{ numberFormat($big(orderDetails.prizeReal).plus(orderDetails.fees).plus(orderDetails.tax)) }}</span></span\r\n            >\r\n          </div>\r\n          <div\r\n            style=\"\r\n              display: flex;\r\n              justify-content: space-between;\r\n              flex-wrap: wrap;\r\n              margin: 0 10px;\r\n              margin-bottom: 24px;\r\n            \"\r\n          >\r\n            <div\r\n              @click=\"button.func\"\r\n              v-for=\"button in getStatusButtons(orderDetails.status)\"\r\n              :key=\"button.key\"\r\n              class=\"button\"\r\n              :class=\"[button.activity ? 'active' : '']\"\r\n            >\r\n              {{ button.text }}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <order-logistics-dialog\r\n      v-model=\"logisticsDialogVisible\"\r\n      :currentOrderInfo=\"currentOrderInfo\"\r\n      :refresh=\"requestData\"\r\n    />\r\n    <order-payment-dialog\r\n      @closePay=\"closePayDialog\"\r\n      v-model=\"paymentDialogVisible\"\r\n      :currentOrderInfo=\"currentOrderInfo\"\r\n      :refresh=\"requestData\"\r\n    />\r\n    <!-- 取消订单 -->\r\n    <order-cancel-dialog\r\n      v-model=\"cancelDialogVisible\"\r\n      :currentOrderInfo=\"currentOrderInfo\"\r\n      :refresh=\"requestData\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getOrderStatusLable } from \"@/util/shop\";\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport { numberFormat, phoneNumber } from \"@/util\";\r\nimport ordermix from \"./ordermix\";\r\nimport {OrderGoodsApi} from \"@/api/order\";\r\nexport default {\r\n  mixins: [ordermix],\r\n  data(){\r\n    return{\r\n      orderGoodsList:[],\r\n      pageNum:1,\r\n      pageSize:3,\r\n      total:0,\r\n    }\r\n  },\r\n  mounted() {\r\n    console.log(this.$route.query?.orderId);\r\n    if (!this.$route.query?.orderId) {\r\n      this.$message({\r\n        type: \"error\",\r\n        message: this.$t(\"message.home.paramError\"),\r\n      });\r\n    } else {\r\n      this.requestData();\r\n      this.getList()\r\n    }\r\n\r\n    // console.log(this.$router.query.orderId)\r\n  },\r\n  watch: {\r\n    $route: function (to, from) {\r\n      console.log(\"from-detail ->\", from);\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      orderDetails: \"order/orderDetails\",\r\n      orderGoods: \"order/orderGoods\",\r\n    }),\r\n\r\n    getOrderPrefix() {\r\n      let total = 0;\r\n      if (Array.isArray(this.orderGoods)) {\r\n        this.orderGoods.forEach((item) => {\r\n          total += (item.goodsReal + item.fees + item.tax) * item.goodsNum; //    accAdd(accTimes(item.goodsReal, item.goodsNum), item.fees, item.tax)\r\n        });\r\n      }\r\n      return numberFormat(total);\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    getOrderStatusLable,\r\n    numberFormat,\r\n    phoneNumber,\r\n    ...mapActions({\r\n      requestOrderDetailsList: \"order/requestOrderDetailsList\",\r\n      requestOrderGoodsList: \"order/requestOrderGoodsList\",\r\n    }),\r\n    goToDetail(id) {\r\n      let status = localStorage.getItem(\"orderStatus\");\r\n      if (status == 1) {\r\n        this.$router.push({ name: \"productDetails\", query: { id } });\r\n      } else {\r\n        this.$message({\r\n          type: \"warning\",\r\n          message: this.$t(\"message.home.productAvailable\"),\r\n        });\r\n      }\r\n      // if (isShelf && isValid) {\r\n        // this.$router.push({ name: \"productDetails\", query: { id } });\r\n      // } else {\r\n      //   this.$message({\r\n      //     type: \"warning\",\r\n      //     message: this.$t(\"message.home.productAvailable\"),\r\n      //   });\r\n      // }\r\n    },\r\n    async requestData() {\r\n      try {\r\n        this.loading = true;\r\n        await this.requestOrderDetailsList({\r\n          orderId: this.orderId,\r\n          type: 1,\r\n        });\r\n        await this.requestOrderGoodsList({\r\n          orderId: this.orderId\r\n        });\r\n        this.currentOrderInfo = this.orderDetails;\r\n        console.log('this.orderDetails ->', this.orderDetails);\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    async getList(){\r\n       const res = await OrderGoodsApi({ orderId: this.orderId , pageNum: this.pageNum,\r\n              pageSize: this.pageSize,});\r\n          const { pageInfo, pageList } = res.data;\r\n          this.total = pageInfo.totalElements;\r\n          this.orderGoodsList = pageList;\r\n    },\r\n    currentChange(val){\r\n      this.pageNum = val;\r\n      this.getList()\r\n    },\r\n    goBack() {\r\n      this.$router.push(\"/userInfo/my-order\");\r\n    },\r\n    \r\n    getStatusButtons(number) {\r\n      switch (number) {\r\n        case -1:\r\n          return [];\r\n        case 0:\r\n          return [this.payButton, this.cancelButton];\r\n        case 1:\r\n        case 2:\r\n          return [this.sendInfoButton, this.returnPayButton];\r\n        case 3:\r\n          return [\r\n            this.confirmButton,\r\n            this.queryLogisticsButton,\r\n            this.returnPayButton,\r\n          ];\r\n        case 4:\r\n          return [this.evaluateButton, this.queryLogisticsButton];\r\n        case 5:\r\n          return [this.queryLogisticsButton];\r\n        case 6:\r\n          return [this.queryLogisticsButton];\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .commodity-content-pagination{\r\n    margin: 10px auto;\r\n  }\r\n.button {\r\n  height: 28px;\r\n  padding: 0 10px;\r\n  /* padding-right: 20px; */\r\n  line-height: 28px;\r\n  white-space: nowrap;\r\n  border: 1px solid #8c8c8c;\r\n  border-radius: 14px;\r\n  color: #333333;\r\n  margin-right: 5px;\r\n  margin-top: 5px;\r\n  max-width: 155px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  cursor: pointer;\r\n\r\n  &.active {\r\n    color: var(--color-main);\r\n    border: 1px solid var(--color-main);\r\n    background: linear-gradient(0deg, #fff7ec, #fff7ec), #eeeeee;\r\n  }\r\n}\r\n\r\n.detail_container {\r\n  // width: 775px;\r\n  margin-top: 24px;\r\n  margin-left: 34px;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  .info_title {\r\n    font-weight: 500;\r\n    font-size: 14px;\r\n  }\r\n\r\n  .flex_row_between {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-between;\r\n  }\r\n\r\n  .delivery {\r\n    height: 92px;\r\n    width: 0px;\r\n\r\n    margin-left: 21px;\r\n    margin-right: 31px;\r\n\r\n    border: 1px solid #eeeeee;\r\n    -webkit-transform-origin: 0 0;\r\n    transform-origin: 0 0;\r\n    // -webkit-transform: scale(.5, .5);\r\n  }\r\n\r\n  .real_price {\r\n    font-family: \"Roboto\";\r\n    font-style: normal;\r\n    font-weight: 500;\r\n    font-size: 16px;\r\n    line-height: 19px;\r\n    color: var(--color-price);\r\n  }\r\n\r\n  .detail_container {\r\n    display: flex;\r\n    flex-direction: row;\r\n\r\n    .left {\r\n      flex-direction: column;\r\n      width: 484px;\r\n\r\n      .product_info {\r\n        margin-top: 17px;\r\n        width: 484px;\r\n        // height: 128px;\r\n        padding-top: 10px;\r\n        padding-bottom: 10px;\r\n        border: 1px solid #eeeeee;\r\n        border-radius: 4px;\r\n        display: flex;\r\n        flex-direction: row;\r\n        align-items: center;\r\n\r\n        .img {\r\n          display: flex;\r\n          justify-content: center;\r\n          width: 62.73px;\r\n          height: 62.73px;\r\n          margin-left: 3px;\r\n          margin-right: 18px;\r\n        }\r\n\r\n        .prodesc {\r\n          display: flex;\r\n          flex-direction: column;\r\n          width: 242px;\r\n\r\n          .tit {\r\n            font-family: \"Roboto\";\r\n            font-style: normal;\r\n            font-weight: 400;\r\n            font-size: 14px;\r\n            overflow: hidden;\r\n            line-height: 24px;\r\n            text-overflow: ellipsis;\r\n            display: -webkit-box;\r\n            -webkit-line-clamp: 2;\r\n            overflow: hidden;\r\n            /*! autoprefixer: off */\r\n            -webkit-box-orient: vertical;\r\n            cursor: pointer;\r\n          }\r\n\r\n          .attr {\r\n            font-family: \"Roboto\";\r\n            font-style: normal;\r\n            font-weight: 400;\r\n            font-size: 12px;\r\n            margin-top: 4px;\r\n          }\r\n\r\n          .price {\r\n            display: flex;\r\n            flex-direction: row;\r\n            justify-content: space-between;\r\n            margin-top: 10px;\r\n\r\n            .num {\r\n              font-size: 14px;\r\n            }\r\n          }\r\n        }\r\n\r\n        .fees {\r\n          display: flex;\r\n          flex-direction: column;\r\n          font-family: \"Roboto\";\r\n          font-style: normal;\r\n          font-weight: 400;\r\n          font-size: 12px;\r\n\r\n          .desc {\r\n            margin-top: 4px;\r\n          }\r\n\r\n          .total_Desc {\r\n            font-weight: 600;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .right {\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-left: 14px;\r\n    width: 347px;\r\n\r\n    .boxMargin {\r\n      margin-bottom: 14px;\r\n      padding-top: 14px;\r\n      padding-left: 14px;\r\n    }\r\n\r\n    .item_line {\r\n      font-weight: 400;\r\n      font-size: 12px;\r\n      margin-top: 18px;\r\n      margin-left: 14px;\r\n      margin-right: 14px;\r\n    }\r\n\r\n    .order_box {\r\n      width: 347px;\r\n      /* eee */\r\n      border: 1px solid #eeeeee;\r\n      border-radius: 4px;\r\n      display: flex;\r\n      flex-direction: column;\r\n      span {\r\n        white-space: nowrap;\r\n        text-overflow: ellipsis;\r\n        overflow: hidden;\r\n      }\r\n    }\r\n\r\n    .orderFont {\r\n      font-weight: 400;\r\n      font-size: 12px;\r\n      margin-bottom: 10px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}