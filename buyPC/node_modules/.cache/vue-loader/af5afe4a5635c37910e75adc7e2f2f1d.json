{"remainingRequest":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\src\\page\\productDetailsPage\\productLike.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\src\\page\\productDetailsPage\\productLike.vue","mtime":1760944158215},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761044715083},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\babel-loader\\lib\\index.js","mtime":1761044716268},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761044715083},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\vue-loader\\lib\\index.js","mtime":1761044716737}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIGltcG9ydCB7IEFsc29MaWtlIH0gZnJvbSAiQC9hcGkvcHJvZHVjdERldGFpbHMiOw0KICBpbXBvcnQgRXNQcm9kdWN0VmlldyBmcm9tICJAL2NvbXBvbmVudHMvcHJvZHVjdCI7DQogIGltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsNCiAgaW1wb3J0IEJ1cyBmcm9tICdAL3V0aWwvYnVzJw0KICBleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTogIkVzUHJvZHVjdExpa2UiLA0KICAgIGNvbXBvbmVudHM6IHsgRXNQcm9kdWN0VmlldyB9LA0KICAgIGNvbXB1dGVkOiB7IC4uLm1hcEdldHRlcnMoWyJpc0xvZ2luIl0pIH0sDQogICAgZGF0YSgpIHsNCiAgICAgIHJldHVybiB7DQogICAgICAgIG1lcmNoYW50R29vZHNMaXN0OiBbXSwNCiAgICAgIH07DQogICAgfSwNCiAgICBtb3VudGVkKCkgew0KICAgICAgLy8gaWYgKHRoaXMuaXNMb2dpbikgew0KICAgICAgICANCiAgICAgIC8vICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAvLyAgICAgY29uc29sZS5sb2coJzIyIC0+JywgMjIpOw0KICAgICAgLy8gICAgIHRoaXMuZ2V0TGlrZSgpOw0KICAgICAgLy8gICB9LCA1MDApOw0KICAgICAgLy8gfQ0KICAgICAgQnVzLiRvbigidXBkYXRlQ29sbGVjdCIsIChpZCkgPT4gew0KICAgICAgICAvLyB0aGlzLmdldExpa2UoKTsNCiAgICAgICAgY29uc3QgaSA9IHRoaXMubWVyY2hhbnRHb29kc0xpc3QuZmluZEluZGV4KHggPT4geC5pZCA9PSBpZCk7DQogICAgICAgIGlmIChpID4gLTEpIHsNCiAgICAgICAgICB0aGlzLmdldExpa2UoKTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgICBCdXMuJG9uKCJ1cGRhdGVVbktlZXAiLCAoaWQpID0+IHsNCiAgICAgICAgLy8gdGhpcy5nZXRMaWtlKCk7DQogICAgICAgIGNvbnN0IGkgPSB0aGlzLm1lcmNoYW50R29vZHNMaXN0LmZpbmRJbmRleCh4ID0+IHguaWQgPT0gaWQpOw0KICAgICAgICBpZiAoaSA+IC0xKSB7DQogICAgICAgICAgdGhpcy5nZXRMaWtlKCk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgICAgQnVzLiRvbigiY29sbGVjdCIsIChpZCkgPT4gew0KICAgICAgICAvLyB0aGlzLmdldExpa2UoKTsNCiAgICAgICAgY29uc3QgaSA9IHRoaXMubWVyY2hhbnRHb29kc0xpc3QuZmluZEluZGV4KHggPT4geC5pZCA9PSBpZCk7DQogICAgICAgIGlmIChpID4gLTEpIHsNCiAgICAgICAgICB0aGlzLmdldExpa2UoKTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgICBCdXMuJG9uKCJVbkNvbGxlY3QiLCAoaWQpID0+IHsNCiAgICAgICAgLy8gdGhpcy5nZXRMaWtlKCk7DQogICAgICAgIGNvbnN0IGkgPSB0aGlzLm1lcmNoYW50R29vZHNMaXN0LmZpbmRJbmRleCh4ID0+IHguaWQgPT0gaWQpOw0KICAgICAgICBpZiAoaSA+IC0xKSB7DQogICAgICAgICAgdGhpcy5nZXRMaWtlKCk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0sDQogICAgbWV0aG9kczogew0KICAgICAgYXN5bmMgZ2V0TGlrZSgpIHsNCiAgICAgICAgbGV0IHNlbGxlcklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInNlbGxlcklkIik7DQogICAgICAgIGNvbnNvbGUubG9nKCdzZWxsZXJJZCAtPicsIHNlbGxlcklkKTsNCiAgICAgICAgaWYoc2VsbGVySWQpew0KICAgICAgICAgIGxldCByZXMgPSBhd2FpdCBBbHNvTGlrZSh7DQogICAgICAgICAgdHlwZTogMSwNCiAgICAgICAgICBzZWxsZXJJZDogc2VsbGVySWQsDQogICAgICAgIH0pOw0KICAgICAgICAgIHRoaXMubWVyY2hhbnRHb29kc0xpc3QgPSByZXMuZGF0YT8uc3BsaWNlKDAsIDEyKTsNCiAgICAgICAgICANCiAgICAgICAgfQ0KICAgICAgICANCiAgICAgICAgLy8gY29uc29sZS5sb2coJ3JlcyAtPicsIHJlcyk7DQogICAgICAgIA0KICAgICAgfSwNCiAgICB9LA0KICB9Ow0K"},{"version":3,"sources":["productLike.vue"],"names":[],"mappings":";AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA","file":"productLike.vue","sourceRoot":"src/page/productDetailsPage","sourcesContent":["<template>\r\n  <div class=\"like\" v-if=\"merchantGoodsList.length\">\r\n    <h1 class=\"title\">\r\n      {{ this.$t(\"message.home.猜你喜欢\" /**商品描述 */) }}\r\n    </h1>\r\n    <div class=\"product-details-content-item1\">\r\n      <!-- <div style=\"width: 166px\"> -->\r\n      <EsProductView\r\n        v-for=\"(item) in merchantGoodsList\"\r\n        :key=\"item.isKeep + Math.random()\"\r\n        :item=\"item\"\r\n        :belike=\"true\"\r\n      />\r\n      <!-- </div> -->\r\n      <div class=\"no-data\" v-if=\"!merchantGoodsList.length\">\r\n        <el-empty\r\n          :description=\"$t('message.home.noData')\"\r\n          style=\"width: 100%\"\r\n        ></el-empty>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { AlsoLike } from \"@/api/productDetails\";\r\n  import EsProductView from \"@/components/product\";\r\n  import { mapGetters } from \"vuex\";\r\n  import Bus from '@/util/bus'\r\n  export default {\r\n    name: \"EsProductLike\",\r\n    components: { EsProductView },\r\n    computed: { ...mapGetters([\"isLogin\"]) },\r\n    data() {\r\n      return {\r\n        merchantGoodsList: [],\r\n      };\r\n    },\r\n    mounted() {\r\n      // if (this.isLogin) {\r\n        \r\n      //   setTimeout(() => {\r\n      //     console.log('22 ->', 22);\r\n      //     this.getLike();\r\n      //   }, 500);\r\n      // }\r\n      Bus.$on(\"updateCollect\", (id) => {\r\n        // this.getLike();\r\n        const i = this.merchantGoodsList.findIndex(x => x.id == id);\r\n        if (i > -1) {\r\n          this.getLike();\r\n        }\r\n      });\r\n      Bus.$on(\"updateUnKeep\", (id) => {\r\n        // this.getLike();\r\n        const i = this.merchantGoodsList.findIndex(x => x.id == id);\r\n        if (i > -1) {\r\n          this.getLike();\r\n        }\r\n      });\r\n      Bus.$on(\"collect\", (id) => {\r\n        // this.getLike();\r\n        const i = this.merchantGoodsList.findIndex(x => x.id == id);\r\n        if (i > -1) {\r\n          this.getLike();\r\n        }\r\n      });\r\n      Bus.$on(\"UnCollect\", (id) => {\r\n        // this.getLike();\r\n        const i = this.merchantGoodsList.findIndex(x => x.id == id);\r\n        if (i > -1) {\r\n          this.getLike();\r\n        }\r\n      });\r\n    },\r\n    methods: {\r\n      async getLike() {\r\n        let sellerId = localStorage.getItem(\"sellerId\");\r\n        console.log('sellerId ->', sellerId);\r\n        if(sellerId){\r\n          let res = await AlsoLike({\r\n          type: 1,\r\n          sellerId: sellerId,\r\n        });\r\n          this.merchantGoodsList = res.data?.splice(0, 12);\r\n          \r\n        }\r\n        \r\n        // console.log('res ->', res);\r\n        \r\n      },\r\n    },\r\n  };\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  // .product-details-content {\r\n  //   width: 957px;\r\n  //   padding: 20px 0;\r\n  //   margin-bottom: 28px;\r\n  .like {\r\n    width: 1200px;\r\n    margin: 0 auto;\r\n  }\r\n  .title {\r\n    font-weight: 600;\r\n    font-size: 20px;\r\n    color: var(--color-title);\r\n    margin-bottom: 10px;\r\n    margin-top: 38px;\r\n    margin-left: 0 !important;\r\n  }\r\n  .product-details-content-item1 {\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fit, minmax(185px, 165px));\r\n    grid-column-gap: 15px;\r\n    grid-row-gap: 12px;\r\n    align-content: center;\r\n  }\r\n</style>\r\n"]}]}