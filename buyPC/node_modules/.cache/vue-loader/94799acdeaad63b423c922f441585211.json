{"remainingRequest":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\src\\page\\userInfo\\my-order\\components\\order-payment-dialog.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\src\\page\\userInfo\\my-order\\components\\order-payment-dialog.vue","mtime":1760944158224},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761044715083},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\babel-loader\\lib\\index.js","mtime":1761044716268},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761044715083},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\vue-loader\\lib\\index.js","mtime":1761044716737}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBHZXR0ZXJzLCBtYXBNdXRhdGlvbnMgfSBmcm9tICd2dWV4JzsNCmltcG9ydCBFc1BheU1vZGFsIGZyb20gJ0AvcGFnZS9zZXR0bGVtZW50UGFnZS9wYXlNb2RhbCc7DQppbXBvcnQgRXNQYXlNZXRob2RzIGZyb20gJ0AvcGFnZS9zZXR0bGVtZW50UGFnZS9wYXlNZXRob2QnOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnb3JkZXItcGF5bWVudC1kaWFsb2cnLA0KICBjb21wb25lbnRzOiB7IEVzUGF5TW9kYWwsIEVzUGF5TWV0aG9kcyB9LA0KICBwcm9wczogew0KICAgIHZhbHVlOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogZmFsc2UsDQogICAgfSwNCiAgICBjdXJyZW50T3JkZXJJbmZvOiB7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICBkZWZhdWx0OiAoKSA9PiB7fSwNCiAgICB9LA0KICAgIHJlZnJlc2g6IHsNCiAgICAgIHR5cGU6IEZ1bmN0aW9uLA0KICAgIH0sDQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGRpYWxvZ1Zpc2libGU6IHRoaXMudmFsdWUgfHwgZmFsc2UsDQogICAgICBzZWxlY3RlZDogJ2JhbGFuY2UnLA0KICAgICAgcGF5TW9kYWxTaG93OiBmYWxzZSwNCiAgICB9Ow0KICB9LA0KICBjb21wdXRlZDogew0KICAgIC4uLm1hcEdldHRlcnMoew0KICAgICAgdXNlcjogJ3VzZXIvdXNlckJhbGFuY2UnLA0KICAgICAgb3JkZXJEZXRhaWxzOiAnb3JkZXIvb3JkZXJEZXRhaWxzJywNCiAgICB9KSwNCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICB2YWx1ZSh2YWwpIHsNCiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHZhbDsNCiAgICB9LA0KICAgIGRpYWxvZ1Zpc2libGUodmFsKSB7DQogICAgICBpZiAodmFsICE9PSB0aGlzLnZhbHVlKSB7DQogICAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdmFsKTsNCiAgICAgIH0NCiAgICB9LA0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLi4ubWFwQWN0aW9ucyh7DQogICAgICByZXF1ZXN0T3JkZXJQYXk6ICdvcmRlci9yZXF1ZXN0T3JkZXJQYXknLA0KICAgICAgcmVxdWVzdE9yZGVyRGV0YWlsc0xpc3Q6ICdvcmRlci9yZXF1ZXN0T3JkZXJEZXRhaWxzTGlzdCcsDQogICAgfSksDQogICAgLi4ubWFwTXV0YXRpb25zKHsNCiAgICAgIHVwZGF0ZVBheVNlbGVjdEFkZHJlc3M6ICd1c2VyL3VwZGF0ZVBheVNlbGVjdEFkZHJlc3MnLA0KICAgIH0pLA0KICAgIGFzeW5jIHBheSgpIHsNCiAgICAgIGF3YWl0IHRoaXMucmVxdWVzdE9yZGVyRGV0YWlsc0xpc3Qoew0KICAgICAgICBvcmRlcklkOiB0aGlzLmN1cnJlbnRPcmRlckluZm8uaWQsDQogICAgICB9KTsNCiAgICAgIHRoaXMudXBkYXRlUGF5U2VsZWN0QWRkcmVzcyh7DQogICAgICAgIGNvbnRhY3RzOiB0aGlzLm9yZGVyRGV0YWlscy5jb250YWN0cywNCiAgICAgICAgcGhvbmU6IHRoaXMub3JkZXJEZXRhaWxzLnBob25lLA0KICAgICAgICBjb3VudHJ5OiB0aGlzLm9yZGVyRGV0YWlscy5jb3VudHJ5LA0KICAgICAgICBwcm92aW5jZTogdGhpcy5vcmRlckRldGFpbHMucHJvdmluY2UsDQogICAgICAgIGNpdHk6IHRoaXMub3JkZXJEZXRhaWxzLmNpdHksDQogICAgICAgIGFkZHJlc3M6IHRoaXMub3JkZXJEZXRhaWxzLmFkZHJlc3MsDQogICAgICB9KTsNCiAgICAgIHRoaXMucGF5TW9kYWxTaG93ID0gdHJ1ZTsNCiAgICB9LA0KICAgIGFzeW5jIHBheUNhbGxiYWNrKHBhc3N3b3JkLCBzdWNjZXNzQ2FsbEJhY2ssIGZhaWxDYWxsQmFjaykgew0KICAgICAgY29uc29sZS5sb2cocGFzc3dvcmQpOw0KICAgICAgdHJ5IHsNCiAgICAgICAgYXdhaXQgdGhpcy5yZXF1ZXN0T3JkZXJQYXkoew0KICAgICAgICAgIG9yZGVySWQ6IHRoaXMuY3VycmVudE9yZGVySW5mby5pZCwNCiAgICAgICAgICBzYWZld29yZDogcGFzc3dvcmQsDQogICAgICAgIH0pDQogICAgICAgICAgLnRoZW4oKCkgPT4gew0KICAgICAgICAgICAgdGhpcy4kZW1pdCgnY2xvc2VQYXknKQ0KICAgICAgICAgICAgdGhpcy5yZWZyZXNoICYmIHRoaXMucmVmcmVzaCgpDQogICAgICAgICAgICB0aGlzLnJlZnJlc2ggJiYgdGhpcy5yZWZyZXNoKCk7DQogICAgICAgICAgICBzdWNjZXNzQ2FsbEJhY2sgJiYgc3VjY2Vzc0NhbGxCYWNrKCk7DQogICAgICAgICAgICB0aGlzLnBheU1vZGFsU2hvdyA9IGZhbHNlOw0KICAgICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoJy9wYXlTdWNjZXNzJyk7DQogICAgICAgICAgfSkNCiAgICAgICAgICAuY2F0Y2goKCkgPT4gew0KICAgICAgICAgICAgZmFpbENhbGxCYWNrICYmIGZhaWxDYWxsQmFjaygpOw0KICAgICAgICAgIH0pOw0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHt9DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["order-payment-dialog.vue"],"names":[],"mappings":";AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"order-payment-dialog.vue","sourceRoot":"src/page/userInfo/my-order/components","sourcesContent":["<template>\r\n  <el-dialog  custom-class=\"payment-dialog\" :title=\"$t('message.home.pendingPayment')\" :visible.sync=\"dialogVisible\">\r\n    <div class=\"wrap\">\r\n      <div class=\"title\">{{ $t('message.home.pendingPayment') }}</div>\r\n      <EsPayMethods :showTitle=\"false\" />\r\n      <div class=\"action\">\r\n        <el-button class=\"pay-btn\" @click=\"pay\">{{ $t('message.home.pay') }}</el-button>\r\n      </div>\r\n    </div>\r\n    <EsPayModal v-model=\"payModalShow\" :payCallback=\"payCallback\" />\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters, mapMutations } from 'vuex';\r\nimport EsPayModal from '@/page/settlementPage/payModal';\r\nimport EsPayMethods from '@/page/settlementPage/payMethod';\r\nexport default {\r\n  name: 'order-payment-dialog',\r\n  components: { EsPayModal, EsPayMethods },\r\n  props: {\r\n    value: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    currentOrderInfo: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n    refresh: {\r\n      type: Function,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      dialogVisible: this.value || false,\r\n      selected: 'balance',\r\n      payModalShow: false,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      user: 'user/userBalance',\r\n      orderDetails: 'order/orderDetails',\r\n    }),\r\n  },\r\n  watch: {\r\n    value(val) {\r\n      this.dialogVisible = val;\r\n    },\r\n    dialogVisible(val) {\r\n      if (val !== this.value) {\r\n        this.$emit('input', val);\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      requestOrderPay: 'order/requestOrderPay',\r\n      requestOrderDetailsList: 'order/requestOrderDetailsList',\r\n    }),\r\n    ...mapMutations({\r\n      updatePaySelectAddress: 'user/updatePaySelectAddress',\r\n    }),\r\n    async pay() {\r\n      await this.requestOrderDetailsList({\r\n        orderId: this.currentOrderInfo.id,\r\n      });\r\n      this.updatePaySelectAddress({\r\n        contacts: this.orderDetails.contacts,\r\n        phone: this.orderDetails.phone,\r\n        country: this.orderDetails.country,\r\n        province: this.orderDetails.province,\r\n        city: this.orderDetails.city,\r\n        address: this.orderDetails.address,\r\n      });\r\n      this.payModalShow = true;\r\n    },\r\n    async payCallback(password, successCallBack, failCallBack) {\r\n      console.log(password);\r\n      try {\r\n        await this.requestOrderPay({\r\n          orderId: this.currentOrderInfo.id,\r\n          safeword: password,\r\n        })\r\n          .then(() => {\r\n            this.$emit('closePay')\r\n            this.refresh && this.refresh()\r\n            this.refresh && this.refresh();\r\n            successCallBack && successCallBack();\r\n            this.payModalShow = false;\r\n            this.$router.replace('/paySuccess');\r\n          })\r\n          .catch(() => {\r\n            failCallBack && failCallBack();\r\n          });\r\n      } catch (error) {}\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.payment-dialog {\r\n  .wrap {\r\n    width: 450px;\r\n    margin: 0 auto;\r\n\r\n    .title {\r\n      font-weight: 500;\r\n      font-size: 16px;\r\n      color: #333333;\r\n      margin-bottom: 20px;\r\n    }\r\n\r\n    .tip {\r\n      margin-top: 10px;\r\n      font-size: 12px;\r\n\r\n      .time {\r\n        color: var(--color-main);\r\n      }\r\n\r\n      .desc {\r\n        margin-left: 5px;\r\n      }\r\n    }\r\n\r\n    .pay-methods {\r\n      background: linear-gradient(0deg, #fff7ec, #fff7ec), #eeeeee;\r\n      border-radius: 4px;\r\n      padding: 20px 10px;\r\n      margin-top: 26px;\r\n      border: 1px solid var(--color-main);\r\n\r\n      .method-item {\r\n        display: flex;\r\n        align-items: center;\r\n        padding: 10px;\r\n        border-radius: 4px;\r\n\r\n        + .method-item {\r\n          margin-top: 5px;\r\n        }\r\n\r\n        &:hover {\r\n          background-color: rgba(0, 0, 0, 0.05);\r\n        }\r\n\r\n        img {\r\n          height: 16px;\r\n        }\r\n\r\n        .name {\r\n          flex: 1;\r\n          margin-left: 10px;\r\n          font-weight: 600;\r\n          font-size: 14px;\r\n          color: #000000;\r\n\r\n          .price {\r\n            color: var(--color-main);\r\n            font-weight: 700;\r\n          }\r\n        }\r\n\r\n        .selected {\r\n          width: 14px;\r\n          height: 14px;\r\n          background-color: #d9d9d9;\r\n          border-radius: 50%;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n\r\n          img {\r\n            transition-duration: 0.3s;\r\n            width: 0;\r\n            height: 0;\r\n            position: absolute;\r\n          }\r\n\r\n          &.active {\r\n            background-color: var(--color-main);\r\n\r\n            img {\r\n              visibility: visible;\r\n              width: 14px;\r\n              height: 14px;\r\n              opacity: 1;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .action {\r\n      padding: 30px 0;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n\r\n      .el-button {\r\n        width: 100%;\r\n        height: 50px;\r\n        color: #fff;\r\n        background: var(--color-main);\r\n        border-color: var(--color-main);\r\n        border-radius: 4px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}