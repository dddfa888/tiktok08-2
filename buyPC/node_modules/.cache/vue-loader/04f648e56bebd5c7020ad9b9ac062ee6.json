{"remainingRequest":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\src\\page\\userInfo\\dashboard\\recharge\\index.vue?vue&type=style&index=0&id=ac6af2d8&lang=scss&scoped=true","dependencies":[{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\src\\page\\userInfo\\dashboard\\recharge\\index.vue","mtime":1760944158219},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\css-loader\\dist\\cjs.js","mtime":1761044715569},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1761044717168},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\postcss-loader\\src\\index.js","mtime":1761044716266},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1761044715084},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761044715083},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\vue-loader\\lib\\index.js","mtime":1761044716737}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQpodG1sW2Rpcj0icnRsIl17DQogIC5yZWNoYXJnZSB7DQogICAgICAgIG1hcmdpbi1yaWdodDogNTJweDsNCiAgICAgICAgbWFyZ2luLWxlZnQ6IDA7DQogICAgIC5jb2xsZWN0aW9uID4gLmRhc2hfbGlzdCA+IC5pdGVtID4gLmluZm97DQogICAgICAgIHBhZGRpbmctbGVmdDogMDsNCiAgICAgICAgcGFkZGluZy1yaWdodDogMTBweDsNCiAgICAgfQ0KICB9DQp9DQoucmVjaGFyZ2Ugew0KICBtYXJnaW4tbGVmdDogNTJweDsNCiAgd2lkdGg6IDI1MHB4Ow0KICBkaXNwbGF5OiBmbGV4Ow0KICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KDQogIC5jb2xsZWN0aW9uIHsNCiAgICBtYXJnaW4tdG9wOiAyMHB4Ow0KICAgIC8vIGZsZXg6IDE7DQogICAgd2lkdGg6IDI0OXB4Ow0KICAgIGJvcmRlcjogMXB4IHNvbGlkICNlZWVlZWU7DQogICAgYm9yZGVyLXJhZGl1czogNHB4Ow0KDQogICAgPiAudGl0IHsNCiAgICAgIGhlaWdodDogNTBweDsNCiAgICAgIGxpbmUtaGVpZ2h0OiA1MHB4Ow0KICAgICAgcGFkZGluZzogMCAxM3B4Ow0KICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlZWU7DQogICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsNCiAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7DQogICAgICBjb2xvcjogIzMzMzsNCiAgICB9DQoNCiAgICA+IC5kYXNoX2xpc3Qgew0KICAgICAgPiAuaXRlbSB7DQogICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgIHBhZGRpbmc6IDEwcHg7DQogICAgICAgIGN1cnNvcjogcG9pbnRlcjsNCiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOw0KICAgICAgICAuZGlzY291bnR7DQogICAgICAgICAgICB3aWR0aDogMzFweDsNCiAgICAgICAgICAgIGhlaWdodDogMzJweDsNCiAgICAgICAgICAgIGJhY2tncm91bmQ6IHVybCgiLi4vLi4vLi4vLi4vYXNzZXRzL2ltYWdlL2Rpc2NvdW50LnBuZyIpIG5vLXJlcGVhdCAxMDAlLzEwMCU7DQogICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgICAgICAgICB0b3A6IDA7DQogICAgICAgICAgICBsZWZ0OiAwOw0KICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgICAgICAgZm9udC1zaXplOiAxMXB4Ow0KICAgICAgICAgICAgY29sb3I6ICNmZmY7DQogICAgICAgICAgICBmb250LXdlaWdodDogNTAwOw0KICAgICAgICAgIH0NCiAgICAgICAgKyAuaXRlbSB7DQogICAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlZWU7DQogICAgICAgIH0NCiAgICAgICAgPiAucG9zdGVyIHsNCiAgICAgICAgICB3aWR0aDogNjBweDsNCiAgICAgICAgICBoZWlnaHQ6IDYwcHg7DQogICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICAgICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogICAgICAgICAgZmxleC1zaHJpbms6IDA7DQogICAgICAgICAgPiBpbWcgew0KICAgICAgICAgICAgd2lkdGg6IDEwMCU7DQogICAgICAgICAgICBoZWlnaHQ6IGF1dG87DQogICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgPiAuaW5mbyB7DQogICAgICAgICAgZmxleDogMTsNCiAgICAgICAgICB3aWR0aDogMDsNCiAgICAgICAgICBtaW4td2lkdGg6IDA7DQogICAgICAgICAgcGFkZGluZzogM3B4IDA7DQogICAgICAgICAgcGFkZGluZy1sZWZ0OiAxMHB4Ow0KICAgICAgICAgIGRpc3BsYXk6IGZsZXg7DQogICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCg0KICAgICAgICAgID4gLnRpdCB7DQogICAgICAgICAgICB3aWR0aDogMTAwJTsNCiAgICAgICAgICAgIGRpc3BsYXk6IC13ZWJraXQtYm94Ow0KICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjsNCiAgICAgICAgICAgIC13ZWJraXQtbGluZS1jbGFtcDogMjsNCiAgICAgICAgICAgIC13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7DQogICAgICAgICAgICBmb250LXNpemU6IDEycHg7DQogICAgICAgICAgICBsaW5lLWhlaWdodDogMS4yOw0KICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDsNCiAgICAgICAgICAgIGNvbG9yOiAjMzMzOw0KICAgICAgICAgIH0NCg0KICAgICAgICAgID4gLmRldGFpbCB7DQogICAgICAgICAgICBmbGV4OiAxOw0KICAgICAgICAgICAgaGVpZ2h0OiAwOw0KICAgICAgICAgICAgZGlzcGxheTogZmxleDsNCiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsNCiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDsNCg0KICAgICAgICAgICAgLnByaWNlIHsNCiAgICAgICAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLXByaWNlKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLm51bSB7DQogICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";AAsRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/page/userInfo/dashboard/recharge","sourcesContent":["<template>\r\n  <div class=\"recharge\">\r\n    <div class=\"box-btn\" @click=\"goReacharge\">\r\n      <div class=\"tit\" v-if=\"itemname == 'Hive'\">{{ $t(\"message.home.加值\" /** 充值*/) }}</div>\r\n      <div class=\"tit\" v-else>{{ $t(\"message.home.recharge\" /** 充值*/) }}</div>\r\n      <img\r\n        class=\"icon\"\r\n        src=\"@/assets/image/icon-arrow-down.svg\"\r\n        alt=\"recharge\"\r\n      />\r\n    </div>\r\n    <div class=\"collection\">\r\n      <div class=\"tit\">\r\n        {{ $t(\"message.home.myCommodityCollection\" /**商品收藏 */) }}\r\n      </div>\r\n      <div v-if=\"collectGoodsList.length\" class=\"dash_list\">\r\n        <div\r\n          class=\"item\"\r\n          v-for=\"item in collectGoodsList\"\r\n          :key=\"item.id\"\r\n          @click=\"gotoDetails(item)\"\r\n        >\r\n        <div class=\"discount\" v-if=\"item.discountRatio\">\r\n            <span>{{ numberFormatFn(item.discountRatio) * 100 }} %</span>\r\n            <br>\r\n            <span>OFF</span>\r\n          </div>\r\n          <div class=\"poster\">\r\n            <img\r\n              :src=\"\r\n                item.imgUrl1 || item.imgUrl2 || item.imgUrl3 || item.imgUrl4\r\n              \"\r\n              alt=\"collection-item\"\r\n            />\r\n          </div>\r\n          <div class=\"info\">\r\n            <div class=\"tit\">\r\n              {{ item.name || \"-\" }}\r\n            </div>\r\n            <div class=\"detail\">\r\n              <span class=\"price\"\r\n                >${{\r\n                  numberFormatFn(\r\n                    item.discountPrice\r\n                      ? item.discountPrice\r\n                      : item.sellingPrice\r\n                  )\r\n                }}</span\r\n              >\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <el-empty v-else :description=\"$t('message.home.noData')\"></el-empty>\r\n    </div>\r\n    <recharge-method-dialog\r\n      v-model=\"rechargeMethodDialogVisible\"\r\n      @select-currency=\"updateCurrency\"\r\n    />\r\n    <recharge-dialog\r\n      v-model=\"rechargeDialogVisible\"\r\n      :currentCoin=\"currentCoin\"\r\n    />\r\n    <el-dialog\r\n      class=\"es-dialog\"\r\n      :visible.sync=\"passwordDialog\"\r\n      :center=\"true\"\r\n      :append-to-body=\"true\"\r\n      width=\"475px\"\r\n    >\r\n      <div slot=\"title\" class=\"dialog-title\">\r\n        <span v-if=\"showModel === 0\">{{ $t(\"message.home.desc3\") }}</span>\r\n        <span v-if=\"showModel === 1\">{{ $t(\"message.home.setUpPayPaw\") }}</span>\r\n        <span v-if=\"showModel === 2\">{{\r\n          $t(\"message.home.confirmPayPaw\")\r\n        }}</span>\r\n      </div>\r\n      <div class=\"pay-modal-content dialog-content\">\r\n        <h2 class=\"pay-modal-title\" v-if=\"showModel !== 2\">\r\n          {{ $t(\"message.home.desc4\") }}\r\n        </h2>\r\n        <h2 class=\"pay-modal-title\" v-if=\"showModel === 2\">\r\n          {{ $t(\"message.home.desc6\") }}\r\n        </h2>\r\n        <EsPayPassword\r\n          ref=\"passwordRef\"\r\n          :type=\"'password'\"\r\n          :maxlength=\"6\"\r\n          @output=\"output\"\r\n        />\r\n        <div class=\"pay-modal-btn\">\r\n          <el-button\r\n            type=\"primary\"\r\n            :loading=\"payLoading\"\r\n            @click=\"setUpPaw\"\r\n            v-if=\"showModel === 1\"\r\n          >\r\n            {{ $t(\"message.home.confirmPassword\") }}\r\n          </el-button>\r\n          <div v-if=\"showModel === 2\" class=\"pay-button-view\">\r\n            <el-button :loading=\"payLoading\" @click=\"previous\">\r\n              {{ $t(\"message.home.previous\") }}\r\n            </el-button>\r\n            <el-button\r\n              type=\"primary\"\r\n              :loading=\"payLoading\"\r\n              @click=\"confirmPayPaw\"\r\n            >\r\n              {{ $t(\"message.home.confirmPassword\") }}\r\n            </el-button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport RechargeDialog from \"@/page/userInfo/dashboard/recharge/recharge-dialog\";\r\nimport RechargeMethodDialog from \"@/page/userInfo/dashboard/recharge/recharge-method-dialog\";\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport { numberFormat } from \"@/util\";\r\nimport EsPayPassword from \"@/components/payPassword\";\r\nexport default {\r\n  components: { RechargeMethodDialog, RechargeDialog, EsPayPassword },\r\n  data() {\r\n    return {\r\n      rechargeMethodDialogVisible: false,\r\n      itemname: process.env.VUE_APP_ITEM_NAME,\r\n      rechargeDialogVisible: false,\r\n      currentCoin: \"\",\r\n      passwordDialog: false,\r\n      password: \"\",\r\n      // 0 支付界面 1 设置支付密码 2 确认支付密码\r\n      showModel: 0,\r\n      fouce: false,\r\n      firstPaw: 0,\r\n      secondPaw: 0,\r\n    };\r\n  },\r\n  props: {\r\n    show: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    payCallback: {\r\n      type: Function,\r\n      default: null,\r\n    },\r\n    payLoading: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  model: {\r\n    prop: \"show\",\r\n    event: \"update\",\r\n  },\r\n  // watch: {\r\n  //   password(val) {\r\n  //     console.log('val ->', val);\r\n  //     if (val) {\r\n        \r\n  //     }\r\n  //   },\r\n  // },\r\n  computed: {\r\n    ...mapGetters({\r\n      collectGoodsList: \"user/collectGoodsList\",\r\n    }),\r\n    ...mapGetters({ userInfo: \"userInfo\" }),\r\n  },\r\n  mounted() {\r\n    // console.log(\"this. ->\", this.collectGoodsList);\r\n    this.getDataList();\r\n  },\r\n  methods: {\r\n    numberFormatFn(num) {\r\n      return numberFormat(num);\r\n    },\r\n    ...mapActions({\r\n      requestCollectGoodsList: \"user/requestCollectGoodsList\",\r\n    }),\r\n    ...mapActions({ setSafewordFunc: \"order/setSafewordFunc\" }),\r\n    updateCurrency(currency) {\r\n      this.rechargeDialogVisible = true;\r\n      this.currentCoin = currency;\r\n    },\r\n    getDataList() {\r\n      this.requestCollectGoodsList({ pageSize: 8, pageNum: 1 });\r\n    },\r\n    gotoDetails(data) {\r\n      this.$router.push({\r\n        name: \"productDetails\",\r\n        query: { id: data.id },\r\n      });\r\n    },\r\n    goReacharge() {\r\n      // console.log('222 ->', 222);\r\n      if (!this.userInfo.safeword) {\r\n        // 设置支付密码\r\n        this.passwordDialog = true;\r\n        this.showModel = 1;\r\n        this.$refs.passwordRef.clear();\r\n        // console.log('this.$refs.passwordRef ->', this.$refs.passwordRef);\r\n        return;\r\n      }\r\n      this.$router.push(\"/userInfo/money-package/recharge\");\r\n      this.$store.state.user.currentIndex = 1;\r\n    },\r\n    previous() {\r\n      // if (this.fouce) {\r\n      //     this.$refs.passwordRef.clear();\r\n      // }\r\n      this.showModel = 1;\r\n      // this.$emit('changeShowModel', 1)\r\n      this.$refs.passwordRef.clear();\r\n    },\r\n    setUpPaw() {\r\n      // 设置支付密码\r\n      // this.$emit('changeShowModel', 2)\r\n      const passwordArr = this.$refs.passwordRef.codeData;\r\n      const filterPassword = passwordArr.filter(item => item !== \"\");\r\n      if(filterPassword.length === 6) {\r\n        this.showModel = 2;\r\n      }else {\r\n        this.$message({\r\n          message: this.$t(\"message.home.请输入完整的支付密码!\"),\r\n          type: \"warning\",\r\n        });\r\n      }\r\n      this.$refs.passwordRef.clear();\r\n    },\r\n    confirmPayPaw() {\r\n      // 再次确认支付密码\r\n      if (this.firstPaw === this.secondPaw) {\r\n        this.setSafeword(this.firstPaw, this.secondPaw);\r\n      } else {\r\n        this.$message({\r\n          message: this.$t(\"message.home.twoPawword\"),\r\n          type: \"warning\",\r\n        });\r\n        this.$refs.passwordRef.clear();\r\n      }\r\n    },\r\n    async setSafeword(safeword, re_safeword) {\r\n      // console.log(\"222 ->\", 222);\r\n      try {\r\n        await this.setSafewordFunc({\r\n          safeword,\r\n          re_safeword,\r\n        });\r\n        // this.showModel = 0;\r\n        this.$message.success(this.$t(\"message.home.setSuccess\"));\r\n        this.$router.push(\"/userInfo/money-package/recharge?index=1\");\r\n      } finally {\r\n        this.passwordDialog = false;\r\n        this.$refs.passwordRef.clear();\r\n      }\r\n    },\r\n    output({ data, isfinished }) {\r\n      console.log(\"data,isfinished ->\", data, isfinished);\r\n      this.fouce = true;\r\n      if (isfinished) {\r\n        if (this.showModel === 1) {\r\n          this.firstPaw = data;\r\n        } else if (this.showModel === 2) {\r\n          this.secondPaw = data;\r\n        } else if (this.showModel === 0) {\r\n          this.password = data;\r\n        }\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\nhtml[dir=\"rtl\"]{\r\n  .recharge {\r\n        margin-right: 52px;\r\n        margin-left: 0;\r\n     .collection > .dash_list > .item > .info{\r\n        padding-left: 0;\r\n        padding-right: 10px;\r\n     }\r\n  }\r\n}\r\n.recharge {\r\n  margin-left: 52px;\r\n  width: 250px;\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  .collection {\r\n    margin-top: 20px;\r\n    // flex: 1;\r\n    width: 249px;\r\n    border: 1px solid #eeeeee;\r\n    border-radius: 4px;\r\n\r\n    > .tit {\r\n      height: 50px;\r\n      line-height: 50px;\r\n      padding: 0 13px;\r\n      border-bottom: 1px solid #eee;\r\n      display: flex;\r\n      align-items: center;\r\n      font-weight: 500;\r\n      color: #333;\r\n    }\r\n\r\n    > .dash_list {\r\n      > .item {\r\n        display: flex;\r\n        padding: 10px;\r\n        cursor: pointer;\r\n        position: relative;\r\n        .discount{\r\n            width: 31px;\r\n            height: 32px;\r\n            background: url(\"../../../../assets/image/discount.png\") no-repeat 100%/100%;\r\n            position: absolute;\r\n            top: 0;\r\n            left: 0;\r\n            text-align: center;\r\n            font-size: 11px;\r\n            color: #fff;\r\n            font-weight: 500;\r\n          }\r\n        + .item {\r\n          border-top: 1px solid #eee;\r\n        }\r\n        > .poster {\r\n          width: 60px;\r\n          height: 60px;\r\n          overflow: hidden;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          flex-shrink: 0;\r\n          > img {\r\n            width: 100%;\r\n            height: auto;\r\n          }\r\n        }\r\n\r\n        > .info {\r\n          flex: 1;\r\n          width: 0;\r\n          min-width: 0;\r\n          padding: 3px 0;\r\n          padding-left: 10px;\r\n          display: flex;\r\n          flex-direction: column;\r\n\r\n          > .tit {\r\n            width: 100%;\r\n            display: -webkit-box;\r\n            overflow: hidden;\r\n            -webkit-line-clamp: 2;\r\n            -webkit-box-orient: vertical;\r\n            font-size: 12px;\r\n            line-height: 1.2;\r\n            font-weight: 400;\r\n            color: #333;\r\n          }\r\n\r\n          > .detail {\r\n            flex: 1;\r\n            height: 0;\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: flex-end;\r\n\r\n            .price {\r\n              color: var(--color-price);\r\n            }\r\n\r\n            .num {\r\n              font-size: 12px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}