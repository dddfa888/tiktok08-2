{"remainingRequest":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\src\\page\\userInfo\\dashboard\\withdraw\\withdraw-dialog.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\src\\page\\userInfo\\dashboard\\withdraw\\withdraw-dialog.vue","mtime":1760944158220},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\babel.config.js","mtime":1760944158066},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761044715083},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\babel-loader\\lib\\index.js","mtime":1761044716268},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761044715083},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\vue-loader\\lib\\index.js","mtime":1761044716737}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5maW5kLmpzIjsKaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwQWN0aW9ucyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgRXNQYXlNb2RhbCBmcm9tICJAL3BhZ2Uvc2V0dGxlbWVudFBhZ2UvcGF5TW9kYWwiOwppbXBvcnQgRXNXaWR0aGRyYXdSZWNvcmREaWFsb2cgZnJvbSAiLi93aWR0aGRyYXdSZWNvcmREaWFsb2ciOwppbXBvcnQgY29tbW9uIGZyb20gIkAvdXRpbC9jb21tb24iOwppbXBvcnQgeyBjb3B5VGV4dFRvQ2xpcGJvYXJkLCBlbXB0eVN0ciwgbnVtYmVyRm9ybWF0IH0gZnJvbSAiQC91dGlsIjsKaW1wb3J0IHsgYWNjVGltZXMsIGFjY01pbnVzIH0gZnJvbSAiQC91dGlsL21hdGgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIndpdGhkcmF3LWRpYWxvZyIsCiAgY29tcG9uZW50czogewogICAgRXNQYXlNb2RhbCwKICAgIEVzV2lkdGhkcmF3UmVjb3JkRGlhbG9nCiAgfSwKICBwcm9wczogewogICAgdmFsdWU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBjdXJyZW50Q29pbjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICIiCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGlhbG9nVmlzaWJsZTogdGhpcy52YWx1ZSB8fCBmYWxzZSwKICAgICAgZm9ybTogewogICAgICAgIG5ldHdvcms6ICIiLAogICAgICAgIGFkZHJlc3M6ICIiLAogICAgICAgIHF1YW50aXR5OiAiIiwKICAgICAgICBhcnJpdmFsOiAwCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgYWRkcmVzczogW2NvbW1vbi5ydWxlVXRpbHMuZ2V0UnVsZSgiY2lvbkFkZHJlc3MiKSwgY29tbW9uLnJ1bGVVdGlscy5nZXRSdWxlKCJyZXF1aXJlZCIsIHRoaXMuJHQoIm1lc3NhZ2UuaG9tZS5wbGVhc2VFbnRlckFkZHJlc3MiKSldLAogICAgICAgIHF1YW50aXR5OiBbY29tbW9uLnJ1bGVVdGlscy5nZXRSdWxlKCJyZXF1aXJlZCIsIHRoaXMuJHQoIm1lc3NhZ2UuaG9tZS5wbGVhc2VFbnRlclF1YW50aXR5IikpLCBjb21tb24ucnVsZVV0aWxzLmdldFJ1bGUoImRlY2ltYWxFeGNlZWRaZXJvIiksIGNvbW1vbi5ydWxlVXRpbHMuZ2V0UnVsZSgidmFsaWRhdG9yIiwgIiIsIHsKICAgICAgICAgIHZhbGlkYXRvcjogKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICAgICAgICBjb25zdCBtYXggPSB0aGlzLnVzZXJCYWxhbmNlID8gdGhpcy51c2VyQmFsYW5jZSA6IDEwZTg7CiAgICAgICAgICAgIGlmIChOdW1iZXIodmFsdWUpID4gbWF4KSB7CiAgICAgICAgICAgICAgY2FsbGJhY2sodGhpcy4kdCgibWVzc2FnZS5ob21lLnZhbGlkYXRvck1heE51bWJlciIpKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBjYWxsYmFjaygpOwogICAgICAgICAgfQogICAgICAgIH0pXQogICAgICB9LAogICAgICBjdXJyZW50U2VsZWN0QmxvY2s6IHt9LAogICAgICBjb2luSW5mbzogW10sCiAgICAgIHBheU1vZGFsU2hvdzogZmFsc2UsCiAgICAgIHdpdGhkcmF3UmVjb3JkVmlzaWJsZTogZmFsc2UsCiAgICAgIGNvdW50OiAwCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgIHZhbHVlKHZhbCkgewogICAgICBpZiAoIXZhbCkgewogICAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICAgIG5ldHdvcms6ICIiLAogICAgICAgICAgYWRkcmVzczogIiIsCiAgICAgICAgICBxdWFudGl0eTogIiIsCiAgICAgICAgICBhcnJpdmFsOiAwCiAgICAgICAgfTsKICAgICAgfQogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB2YWw7CiAgICB9LAogICAgZGlhbG9nVmlzaWJsZSh2YWwpIHsKICAgICAgaWYgKHZhbCAhPT0gdGhpcy52YWx1ZSkgewogICAgICAgIHRoaXMuJGVtaXQoImlucHV0IiwgdmFsKTsKICAgICAgfQogICAgICBpZiAodmFsKSB7CiAgICAgICAgdGhpcy5yZXF1ZXN0V2l0aGRyYXdGZWUoKTsKICAgICAgICB0aGlzLnJlcXVlc3RTZXNzaW9uVG9rZW4oKTsKICAgICAgICB0aGlzLnJlcXVlc3RDaGFubmVsQWRkcmVzcygpOwogICAgICAgIC8vIOaPkOeOsOWPquaUr+aMgVVTRFQKICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5yZWNoYXJnZUFkZHJlc3MuZmlsdGVyKGl0ZW0gPT4gaXRlbS5jb2luID09PSAiVVNEVCIpOwogICAgICAgIGlmIChkYXRhICYmIGRhdGEubGVuZ3RoKSB7CiAgICAgICAgICB0aGlzLmZvcm0ubmV0d29yayA9IGRhdGFbMF0uYmxvY2tjaGFpbl9uYW1lOwogICAgICAgIH0KICAgICAgICB0aGlzLmNvaW5JbmZvID0gWy4uLmRhdGFdOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBfdGhpcyQkcmVmcyR3aXRoZHJhd0Y7CiAgICAgICAgKF90aGlzJCRyZWZzJHdpdGhkcmF3RiA9IHRoaXMuJHJlZnMud2l0aGRyYXdGb3JtKSA9PT0gbnVsbCB8fCBfdGhpcyQkcmVmcyR3aXRoZHJhd0YgPT09IHZvaWQgMCB8fCBfdGhpcyQkcmVmcyR3aXRoZHJhd0YucmVzZXRGaWVsZHMoKTsKICAgICAgfQogICAgfSwKICAgICJmb3JtLm5ldHdvcmsiOiB7CiAgICAgIGhhbmRsZXIobmV3VmFsdWUsIG9sZFZhbHVlKSB7CiAgICAgICAgaWYgKG5ld1ZhbHVlICE9PSBvbGRWYWx1ZSkgewogICAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMucmVjaGFyZ2VBZGRyZXNzLmZpbmQoaXRlbSA9PiBpdGVtLmJsb2NrY2hhaW5fbmFtZSA9PT0gbmV3VmFsdWUpOwogICAgICAgICAgaWYgKGRhdGEpIHsKICAgICAgICAgICAgdGhpcy5mb3JtLmFkZHJlc3MgPSAiIjsKICAgICAgICAgICAgdGhpcy5mb3JtLnF1YW50aXR5ID0gIiI7CiAgICAgICAgICAgIHRoaXMuZm9ybS5hcnJpdmFsID0gMDsKICAgICAgICAgICAgdGhpcy5jdXJyZW50U2VsZWN0QmxvY2sgPSB7CiAgICAgICAgICAgICAgLi4uZGF0YQogICAgICAgICAgICB9OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9LAogICAgImZvcm0ucXVhbnRpdHkiOiB7CiAgICAgIGhhbmRsZXIobmV3VmFsdWUsIG9sZFZhbHVlKSB7CiAgICAgICAgaWYgKG5ld1ZhbHVlICE9PSBvbGRWYWx1ZSkgewogICAgICAgICAgdmFyIF9hY2NUaW1lcywgX3RoaXMkd2l0aGRyYXdGZWU7CiAgICAgICAgICBjb25zdCBhbW91bnQgPSAoX2FjY1RpbWVzID0gYWNjVGltZXMobmV3VmFsdWUsIGFjY01pbnVzKDEsIChfdGhpcyR3aXRoZHJhd0ZlZSA9IHRoaXMud2l0aGRyYXdGZWUpICE9PSBudWxsICYmIF90aGlzJHdpdGhkcmF3RmVlICE9PSB2b2lkIDAgPyBfdGhpcyR3aXRoZHJhd0ZlZSA6IDApKSkgPT09IG51bGwgfHwgX2FjY1RpbWVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYWNjVGltZXMudG9GaXhlZCgxKTsKICAgICAgICAgIHRoaXMuZm9ybS5hcnJpdmFsID0gaXNOYU4oYW1vdW50KSA/ICIiIDogYW1vdW50OwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoInVzZXIiLCBbInVzZXJCYWxhbmNlIl0pLAogICAgLi4ubWFwR2V0dGVycygid2l0aGRyYXciLCBbInNlc3Npb25Ub2tlbiIsICJodHRwTG9hZGluZyIsICJidG5Mb2FkaW5nIiwgIndpdGhkcmF3RmVlIl0pLAogICAgcmVjaGFyZ2VBZGRyZXNzKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUucmVjaGFyZ2UucmVjaGFyZ2VBZGRyZXNzLmZpbHRlcihpdGVtID0+IGl0ZW0uY29pbiA9PT0gIlVTRFQiKTsKICAgIH0sCiAgICBnZXRSZWFsV2l0aGRyYXdGZWUoKSB7CiAgICAgIHJldHVybiB0aGlzLndpdGhkcmF3RmVlID8gdGhpcy53aXRoZHJhd0ZlZSAqIDEwMCA6IDA7CiAgICB9LAogICAgaXNEaXNhYmxlZCgpIHsKICAgICAgcmV0dXJuIGVtcHR5U3RyKHRoaXMuZm9ybS5hZGRyZXNzKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcEFjdGlvbnMoIndpdGhkcmF3IiwgWyJyZXF1ZXN0U2Vzc2lvblRva2VuIiwgInJlcXVlc1dpdGhkcmF3IiwgInJlcXVlc3RXaXRoZHJhd0ZlZSJdKSwKICAgIG51bWJlckZvcm1hdCwKICAgIHJlcXVlc3RDaGFubmVsQWRkcmVzcygpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJyZWNoYXJnZS9yZXF1ZXN0UmVjaGFyZ2VBZGRyZXNzIik7CiAgICB9LAogICAgc2VsZWN0Q3VycmVuY3kodmFsKSB7CiAgICAgIHRoaXMuJGVtaXQoInNlbGVjdC1jdXJyZW5jeSIsIHZhbCk7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgfSwKICAgIGNvcHkoKSB7CiAgICAgIGlmICghZW1wdHlTdHIodGhpcy5mb3JtLmFkZHJlc3MpKSB7CiAgICAgICAgY29weVRleHRUb0NsaXBib2FyZCh0aGlzLmZvcm0uYWRkcmVzcyk7CiAgICAgICAgdGhpcy4kbm90aWZ5KHsKICAgICAgICAgIHRpdGxlOiB0aGlzLiR0KCJtZXNzYWdlLmhvbWUuc3VjY2Vzc1RpcHMiKSwKICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoIm1lc3NhZ2UuaG9tZS5jb3B5U3VjY2VzcyIpLAogICAgICAgICAgdHlwZTogInN1Y2Nlc3MiCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgLy8gZWxzZSB7CiAgICAgIC8vICAgICB0aGlzLiRub3RpZnkoewogICAgICAvLyAgICAgICAgIHRpdGxlOiB0aGlzLiR0KCdtZXNzYWdlLmhvbWUuZmFpbCcgLyoq5oiQ5YqfICovKSwKICAgICAgLy8gICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCdtZXNzYWdlLmhvbWUucGxlYXNlRW50ZXJBZGRyZXNzJyAvKirmj5DnjrDmiJDlip8gKi8pLAogICAgICAvLyAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgIC8vICAgICB9KQogICAgICAvLyB9CiAgICB9LAogICAgYXN5bmMgcGF5Q2FsbGJhY2socGFzc3dvcmQsIHN1Y2Nlc3NDYWxsQmFjaywgZmFpbENhbGxCYWNrKSB7CiAgICAgIHRoaXMucGFzc3dvcmQgPSBwYXNzd29yZDsKICAgICAgdGhpcy5yZXF1ZXNXaXRoZHJhdyh7CiAgICAgICAgc2Vzc2lvbl90b2tlbjogdGhpcy5zZXNzaW9uVG9rZW4sCiAgICAgICAgYW1vdW50OiB0aGlzLmZvcm0ucXVhbnRpdHksCiAgICAgICAgZnJvbTogdGhpcy5mb3JtLmFkZHJlc3MsCiAgICAgICAgY2hhbm5lbDogIlVTRFQiLAogICAgICAgIHNhZmV3b3JkOiB0aGlzLnBhc3N3b3JkCiAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgIHRoaXMuJG5vdGlmeSh7CiAgICAgICAgICB0aXRsZTogdGhpcy4kdCgibWVzc2FnZS5ob21lLnN1Y2Nlc3NUaXBzIiAvKirmiJDlip8gKi8pLAogICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgibWVzc2FnZS5ob21lLndpdGhkcmF3U3VjY2VzcyIgLyoq5o+Q546w5oiQ5YqfICovKSwKICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIgogICAgICAgIH0pOwogICAgICAgIHRoaXMuJGVtaXQoImlucHV0IiwgZmFsc2UpOwogICAgICAgIHN1Y2Nlc3NDYWxsQmFjayAmJiBzdWNjZXNzQ2FsbEJhY2soKTsKICAgICAgfSkuY2F0Y2goZXJyID0+IHsKICAgICAgICBmYWlsQ2FsbEJhY2sgJiYgZmFpbENhbGxCYWNrKCk7CiAgICAgIH0pOwogICAgfSwKICAgIHdpdGhkcmF3KCkgewogICAgICB0aGlzLiRyZWZzLndpdGhkcmF3Rm9ybS52YWxpZGF0ZShhc3luYyB2YWxpZCA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB0aGlzLnBheU1vZGFsU2hvdyA9IHRydWU7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"names":["mapGetters","mapActions","EsPayModal","EsWidthdrawRecordDialog","common","copyTextToClipboard","emptyStr","numberFormat","accTimes","accMinus","name","components","props","value","type","Boolean","default","currentCoin","String","data","dialogVisible","form","network","address","quantity","arrival","rules","ruleUtils","getRule","$t","validator","rule","callback","max","userBalance","Number","currentSelectBlock","coinInfo","payModalShow","withdrawRecordVisible","count","watch","val","$emit","requestWithdrawFee","requestSessionToken","requestChannelAddress","rechargeAddress","filter","item","coin","length","blockchain_name","_this$$refs$withdrawF","$refs","withdrawForm","resetFields","handler","newValue","oldValue","find","immediate","_accTimes","_this$withdrawFee","amount","withdrawFee","toFixed","isNaN","computed","$store","state","recharge","getRealWithdrawFee","isDisabled","methods","dispatch","selectCurrency","copy","$notify","title","message","payCallback","password","successCallBack","failCallBack","requesWithdraw","session_token","sessionToken","from","channel","safeword","then","res","console","log","catch","err","withdraw","validate","valid"],"sources":["src/page/userInfo/dashboard/withdraw/withdraw-dialog.vue"],"sourcesContent":["<template>\r\n  <el-dialog\r\n    custom-class=\"wallet-dialog withdraw-dialog\"\r\n    :title=\"$t('message.home.withdraw' /** 提现*/)\"\r\n    :center=\"true\"\r\n    :visible.sync=\"dialogVisible\"\r\n    :close-on-click-modal=\"false\"\r\n    :close-on-press-escape=\"false\"\r\n  >\r\n    <el-form\r\n      ref=\"withdrawForm\"\r\n      label-position=\"top\"\r\n      :model=\"form\"\r\n      :rules=\"rules\"\r\n      v-loading=\"httpLoading\"\r\n    >\r\n      <div class=\"network-select\">\r\n        <div class=\"right\" @click=\"withdrawRecordVisible = true\">\r\n          {{ $t(\"message.home.records\" /**記錄 */) }}\r\n        </div>\r\n        <el-form-item\r\n          :label=\"$t('message.home.blockchainNetwork' /**区块链网络 */)\"\r\n          prop=\"network\"\r\n        >\r\n          <el-radio-group v-model=\"form.network\">\r\n            <el-radio-button\r\n              v-for=\"item in coinInfo\"\r\n              :key=\"item.blockchain_name\"\r\n              :label=\"item.blockchain_name\"\r\n            ></el-radio-button>\r\n          </el-radio-group>\r\n        </el-form-item>\r\n      </div>\r\n\r\n      <!-- <div class=\"qr-code\">\r\n        <div id=\"qrCode\" class=\"qr-code-wrap flex-center\">\r\n          <VueQr :size=\"132\" :text=\"form.address\" :margin=\"0\" />\r\n        </div>\r\n\r\n        <el-button @click=\"saveImage\">Save QR Code</el-button>\r\n      </div> -->\r\n\r\n      <el-form-item\r\n        :label=\"$t('message.home.withdrawAddress' /**提现地址 */)\"\r\n        class=\"wallet-address\"\r\n        prop=\"address\"\r\n      >\r\n        <el-input\r\n          v-model=\"form.address\"\r\n          :placeholder=\"\r\n            $t('message.home.withdrawInputTips' /** 请输入提币地址*/)\r\n          \"\r\n        />\r\n        <span\r\n          :class=\"{\r\n            'copy-btn': true,\r\n            disabled: isDisabled,\r\n          }\"\r\n          @click=\"copy\"\r\n        >\r\n          {{ $t(\"message.home.copy\" /**复制 */) }}\r\n        </span>\r\n      </el-form-item>\r\n\r\n      <el-form-item :label=\"$t('message.home.quantity')\" prop=\"quantity\">\r\n        <el-input\r\n          v-model=\"form.quantity\"\r\n          maxlength=\"10\"\r\n          :disabled=\"userBalance < 1\"\r\n          :placeholder=\"$t('message.home.enterTips')\"\r\n        />\r\n      </el-form-item>\r\n\r\n      <el-form-item>\r\n        <div class=\"withdraw-tips flex-between\">\r\n          <span>\r\n            {{ $t(\"message.home.ActualLedger\" /**实际账户 */) }}:\r\n            {{ numberFormat(form.arrival) }}\r\n          </span>\r\n          <span>\r\n            {{ $t(\"message.home.handlingFee\" /**手续费 */) }}:\r\n            {{ numberFormat(getRealWithdrawFee) }}%\r\n          </span>\r\n        </div>\r\n      </el-form-item>\r\n\r\n      <el-form-item>\r\n        <el-button class=\"submit-btn\" @click=\"withdraw\">\r\n          {{ $t(\"message.home.confirm\" /**确认 */) }}\r\n        </el-button>\r\n      </el-form-item>\r\n    </el-form>\r\n    <EsPayModal\r\n      v-model=\"payModalShow\"\r\n      :payCallback=\"payCallback\"\r\n      :payLoading=\"btnLoading\"\r\n    />\r\n    <EsWidthdrawRecordDialog v-model=\"withdrawRecordVisible\" />\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\n  import { mapGetters, mapActions } from \"vuex\";\r\n  import EsPayModal from \"@/page/settlementPage/payModal\";\r\n  import EsWidthdrawRecordDialog from \"./widthdrawRecordDialog\";\r\n  import common from \"@/util/common\";\r\n  import { copyTextToClipboard, emptyStr, numberFormat } from \"@/util\";\r\n  import { accTimes, accMinus } from \"@/util/math\";\r\n  export default {\r\n    name: \"withdraw-dialog\",\r\n    components: { EsPayModal, EsWidthdrawRecordDialog },\r\n    props: {\r\n      value: {\r\n        type: Boolean,\r\n        default: false,\r\n      },\r\n      currentCoin: {\r\n        type: String,\r\n        default: \"\",\r\n      },\r\n    },\r\n    data() {\r\n      return {\r\n        dialogVisible: this.value || false,\r\n        form: {\r\n          network: \"\",\r\n          address: \"\",\r\n          quantity: \"\",\r\n          arrival: 0,\r\n        },\r\n        rules: {\r\n          address: [\r\n            common.ruleUtils.getRule(\"cionAddress\"),\r\n            common.ruleUtils.getRule(\r\n              \"required\",\r\n              this.$t(\"message.home.pleaseEnterAddress\")\r\n            ),\r\n          ],\r\n          quantity: [\r\n            common.ruleUtils.getRule(\r\n              \"required\",\r\n              this.$t(\"message.home.pleaseEnterQuantity\")\r\n            ),\r\n            common.ruleUtils.getRule(\"decimalExceedZero\"),\r\n            common.ruleUtils.getRule(\"validator\", \"\", {\r\n              validator: (rule, value, callback) => {\r\n                const max = this.userBalance ? this.userBalance : 10e8;\r\n                if (Number(value) > max) {\r\n                  callback(this.$t(\"message.home.validatorMaxNumber\"));\r\n                }\r\n                callback();\r\n              },\r\n            }),\r\n          ],\r\n        },\r\n        currentSelectBlock: {},\r\n        coinInfo: [],\r\n        payModalShow: false,\r\n        withdrawRecordVisible: false,\r\n        count: 0,\r\n      };\r\n    },\r\n    watch: {\r\n      value(val) {\r\n        if (!val) {\r\n          this.form = {\r\n            network: \"\",\r\n            address: \"\",\r\n            quantity: \"\",\r\n            arrival: 0,\r\n          };\r\n        }\r\n        this.dialogVisible = val;\r\n      },\r\n      dialogVisible(val) {\r\n        if (val !== this.value) {\r\n          this.$emit(\"input\", val);\r\n        }\r\n        if (val) {\r\n          this.requestWithdrawFee();\r\n          this.requestSessionToken();\r\n          this.requestChannelAddress();\r\n          // 提现只支持USDT\r\n          const data = this.rechargeAddress.filter(\r\n            (item) => item.coin === \"USDT\"\r\n          );\r\n          if (data && data.length) {\r\n            this.form.network = data[0].blockchain_name;\r\n          }\r\n          this.coinInfo = [...data];\r\n        } else {\r\n          this.$refs.withdrawForm?.resetFields();\r\n        }\r\n      },\r\n      \"form.network\": {\r\n        handler(newValue, oldValue) {\r\n          if (newValue !== oldValue) {\r\n            const data = this.rechargeAddress.find(\r\n              (item) => item.blockchain_name === newValue\r\n            );\r\n            if (data) {\r\n              this.form.address = \"\";\r\n              this.form.quantity = \"\";\r\n              this.form.arrival = 0;\r\n              this.currentSelectBlock = { ...data };\r\n            }\r\n          }\r\n        },\r\n        immediate: true,\r\n      },\r\n      \"form.quantity\": {\r\n        handler(newValue, oldValue) {\r\n          if (newValue !== oldValue) {\r\n            const amount = accTimes(\r\n              newValue,\r\n              accMinus(1, this.withdrawFee ?? 0)\r\n            )?.toFixed(1);\r\n            this.form.arrival = isNaN(amount) ? \"\" : amount;\r\n          }\r\n        },\r\n      },\r\n    },\r\n    computed: {\r\n      ...mapGetters(\"user\", [\"userBalance\"]),\r\n      ...mapGetters(\"withdraw\", [\r\n        \"sessionToken\",\r\n        \"httpLoading\",\r\n        \"btnLoading\",\r\n        \"withdrawFee\",\r\n      ]),\r\n      rechargeAddress() {\r\n        return this.$store.state.recharge.rechargeAddress.filter(\r\n          (item) => item.coin === \"USDT\"\r\n        );\r\n      },\r\n      getRealWithdrawFee() {\r\n        return this.withdrawFee ? this.withdrawFee * 100 : 0;\r\n      },\r\n      isDisabled() {\r\n        return emptyStr(this.form.address);\r\n      },\r\n    },\r\n    methods: {\r\n      ...mapActions(\"withdraw\", [\r\n        \"requestSessionToken\",\r\n        \"requesWithdraw\",\r\n        \"requestWithdrawFee\",\r\n      ]),\r\n      numberFormat,\r\n      requestChannelAddress() {\r\n        return this.$store.dispatch(\"recharge/requestRechargeAddress\");\r\n      },\r\n      selectCurrency(val) {\r\n        this.$emit(\"select-currency\", val);\r\n        this.dialogVisible = false;\r\n      },\r\n      copy() {\r\n        if (!emptyStr(this.form.address)) {\r\n          copyTextToClipboard(this.form.address);\r\n          this.$notify({\r\n            title: this.$t(\"message.home.successTips\"),\r\n            message: this.$t(\"message.home.copySuccess\"),\r\n            type: \"success\",\r\n          });\r\n        }\r\n        // else {\r\n        //     this.$notify({\r\n        //         title: this.$t('message.home.fail' /**成功 */),\r\n        //         message: this.$t('message.home.pleaseEnterAddress' /**提现成功 */),\r\n        //         type: 'error',\r\n        //     })\r\n        // }\r\n      },\r\n      async payCallback(password, successCallBack, failCallBack) {\r\n        this.password = password;\r\n\r\n        this.requesWithdraw({\r\n          session_token: this.sessionToken,\r\n          amount: this.form.quantity,\r\n          from: this.form.address,\r\n          channel: \"USDT\",\r\n          safeword: this.password,\r\n        })\r\n          .then((res) => {\r\n            console.log(res);\r\n            this.$notify({\r\n              title: this.$t(\"message.home.successTips\" /**成功 */),\r\n              message: this.$t(\"message.home.withdrawSuccess\" /**提现成功 */),\r\n              type: \"success\",\r\n            });\r\n            this.$emit(\"input\", false);\r\n            successCallBack && successCallBack();\r\n          })\r\n          .catch((err) => {\r\n            failCallBack && failCallBack();\r\n          });\r\n      },\r\n      withdraw() {\r\n        this.$refs.withdrawForm.validate(async (valid) => {\r\n          if (valid) {\r\n            this.payModalShow = true;\r\n          }\r\n        });\r\n      },\r\n    },\r\n  };\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .withdraw-dialog {\r\n    .info {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      margin-bottom: 27px;\r\n      font-size: 12px;\r\n\r\n      .price {\r\n        color: var(--color-main);\r\n      }\r\n    }\r\n\r\n    .withdraw-tips {\r\n      span:first-child {\r\n        font-weight: 400;\r\n        font-size: 12px;\r\n        color: var(--color-subtitle);\r\n      }\r\n\r\n      span:last-child {\r\n        font-weight: 400;\r\n        font-size: 12px;\r\n        color: var(--color-main);\r\n      }\r\n    }\r\n  }\r\n\r\n  .right {\r\n    cursor: pointer;\r\n  }\r\n</style>\r\n"],"mappings":"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","ignoreList":[]}]}