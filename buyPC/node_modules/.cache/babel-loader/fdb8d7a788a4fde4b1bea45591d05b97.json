{"remainingRequest":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\src\\page\\userInfo\\my-order\\components\\order-payment-dialog.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\src\\page\\userInfo\\my-order\\components\\order-payment-dialog.vue","mtime":1760944158224},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\babel.config.js","mtime":1760944158066},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761044715083},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\babel-loader\\lib\\index.js","mtime":1761044716268},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761044715083},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\vue-loader\\lib\\index.js","mtime":1761044716737}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycywgbWFwTXV0YXRpb25zIH0gZnJvbSAndnVleCc7CmltcG9ydCBFc1BheU1vZGFsIGZyb20gJ0AvcGFnZS9zZXR0bGVtZW50UGFnZS9wYXlNb2RhbCc7CmltcG9ydCBFc1BheU1ldGhvZHMgZnJvbSAnQC9wYWdlL3NldHRsZW1lbnRQYWdlL3BheU1ldGhvZCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnb3JkZXItcGF5bWVudC1kaWFsb2cnLAogIGNvbXBvbmVudHM6IHsKICAgIEVzUGF5TW9kYWwsCiAgICBFc1BheU1ldGhvZHMKICB9LAogIHByb3BzOiB7CiAgICB2YWx1ZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGN1cnJlbnRPcmRlckluZm86IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiAoKSA9PiB7fQogICAgfSwKICAgIHJlZnJlc2g6IHsKICAgICAgdHlwZTogRnVuY3Rpb24KICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkaWFsb2dWaXNpYmxlOiB0aGlzLnZhbHVlIHx8IGZhbHNlLAogICAgICBzZWxlY3RlZDogJ2JhbGFuY2UnLAogICAgICBwYXlNb2RhbFNob3c6IGZhbHNlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoewogICAgICB1c2VyOiAndXNlci91c2VyQmFsYW5jZScsCiAgICAgIG9yZGVyRGV0YWlsczogJ29yZGVyL29yZGVyRGV0YWlscycKICAgIH0pCiAgfSwKICB3YXRjaDogewogICAgdmFsdWUodmFsKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHZhbDsKICAgIH0sCiAgICBkaWFsb2dWaXNpYmxlKHZhbCkgewogICAgICBpZiAodmFsICE9PSB0aGlzLnZhbHVlKSB7CiAgICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB2YWwpOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKHsKICAgICAgcmVxdWVzdE9yZGVyUGF5OiAnb3JkZXIvcmVxdWVzdE9yZGVyUGF5JywKICAgICAgcmVxdWVzdE9yZGVyRGV0YWlsc0xpc3Q6ICdvcmRlci9yZXF1ZXN0T3JkZXJEZXRhaWxzTGlzdCcKICAgIH0pLAogICAgLi4ubWFwTXV0YXRpb25zKHsKICAgICAgdXBkYXRlUGF5U2VsZWN0QWRkcmVzczogJ3VzZXIvdXBkYXRlUGF5U2VsZWN0QWRkcmVzcycKICAgIH0pLAogICAgYXN5bmMgcGF5KCkgewogICAgICBhd2FpdCB0aGlzLnJlcXVlc3RPcmRlckRldGFpbHNMaXN0KHsKICAgICAgICBvcmRlcklkOiB0aGlzLmN1cnJlbnRPcmRlckluZm8uaWQKICAgICAgfSk7CiAgICAgIHRoaXMudXBkYXRlUGF5U2VsZWN0QWRkcmVzcyh7CiAgICAgICAgY29udGFjdHM6IHRoaXMub3JkZXJEZXRhaWxzLmNvbnRhY3RzLAogICAgICAgIHBob25lOiB0aGlzLm9yZGVyRGV0YWlscy5waG9uZSwKICAgICAgICBjb3VudHJ5OiB0aGlzLm9yZGVyRGV0YWlscy5jb3VudHJ5LAogICAgICAgIHByb3ZpbmNlOiB0aGlzLm9yZGVyRGV0YWlscy5wcm92aW5jZSwKICAgICAgICBjaXR5OiB0aGlzLm9yZGVyRGV0YWlscy5jaXR5LAogICAgICAgIGFkZHJlc3M6IHRoaXMub3JkZXJEZXRhaWxzLmFkZHJlc3MKICAgICAgfSk7CiAgICAgIHRoaXMucGF5TW9kYWxTaG93ID0gdHJ1ZTsKICAgIH0sCiAgICBhc3luYyBwYXlDYWxsYmFjayhwYXNzd29yZCwgc3VjY2Vzc0NhbGxCYWNrLCBmYWlsQ2FsbEJhY2spIHsKICAgICAgY29uc29sZS5sb2cocGFzc3dvcmQpOwogICAgICB0cnkgewogICAgICAgIGF3YWl0IHRoaXMucmVxdWVzdE9yZGVyUGF5KHsKICAgICAgICAgIG9yZGVySWQ6IHRoaXMuY3VycmVudE9yZGVySW5mby5pZCwKICAgICAgICAgIHNhZmV3b3JkOiBwYXNzd29yZAogICAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy4kZW1pdCgnY2xvc2VQYXknKTsKICAgICAgICAgIHRoaXMucmVmcmVzaCAmJiB0aGlzLnJlZnJlc2goKTsKICAgICAgICAgIHRoaXMucmVmcmVzaCAmJiB0aGlzLnJlZnJlc2goKTsKICAgICAgICAgIHN1Y2Nlc3NDYWxsQmFjayAmJiBzdWNjZXNzQ2FsbEJhY2soKTsKICAgICAgICAgIHRoaXMucGF5TW9kYWxTaG93ID0gZmFsc2U7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSgnL3BheVN1Y2Nlc3MnKTsKICAgICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICBmYWlsQ2FsbEJhY2sgJiYgZmFpbENhbGxCYWNrKCk7CiAgICAgICAgfSk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7fQogICAgfQogIH0KfTs="},{"version":3,"names":["mapActions","mapGetters","mapMutations","EsPayModal","EsPayMethods","name","components","props","value","type","Boolean","default","currentOrderInfo","Object","refresh","Function","data","dialogVisible","selected","payModalShow","computed","user","orderDetails","watch","val","$emit","methods","requestOrderPay","requestOrderDetailsList","updatePaySelectAddress","pay","orderId","id","contacts","phone","country","province","city","address","payCallback","password","successCallBack","failCallBack","console","log","safeword","then","$router","replace","catch","error"],"sources":["src/page/userInfo/my-order/components/order-payment-dialog.vue"],"sourcesContent":["<template>\r\n  <el-dialog  custom-class=\"payment-dialog\" :title=\"$t('message.home.pendingPayment')\" :visible.sync=\"dialogVisible\">\r\n    <div class=\"wrap\">\r\n      <div class=\"title\">{{ $t('message.home.pendingPayment') }}</div>\r\n      <EsPayMethods :showTitle=\"false\" />\r\n      <div class=\"action\">\r\n        <el-button class=\"pay-btn\" @click=\"pay\">{{ $t('message.home.pay') }}</el-button>\r\n      </div>\r\n    </div>\r\n    <EsPayModal v-model=\"payModalShow\" :payCallback=\"payCallback\" />\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters, mapMutations } from 'vuex';\r\nimport EsPayModal from '@/page/settlementPage/payModal';\r\nimport EsPayMethods from '@/page/settlementPage/payMethod';\r\nexport default {\r\n  name: 'order-payment-dialog',\r\n  components: { EsPayModal, EsPayMethods },\r\n  props: {\r\n    value: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    currentOrderInfo: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n    refresh: {\r\n      type: Function,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      dialogVisible: this.value || false,\r\n      selected: 'balance',\r\n      payModalShow: false,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      user: 'user/userBalance',\r\n      orderDetails: 'order/orderDetails',\r\n    }),\r\n  },\r\n  watch: {\r\n    value(val) {\r\n      this.dialogVisible = val;\r\n    },\r\n    dialogVisible(val) {\r\n      if (val !== this.value) {\r\n        this.$emit('input', val);\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      requestOrderPay: 'order/requestOrderPay',\r\n      requestOrderDetailsList: 'order/requestOrderDetailsList',\r\n    }),\r\n    ...mapMutations({\r\n      updatePaySelectAddress: 'user/updatePaySelectAddress',\r\n    }),\r\n    async pay() {\r\n      await this.requestOrderDetailsList({\r\n        orderId: this.currentOrderInfo.id,\r\n      });\r\n      this.updatePaySelectAddress({\r\n        contacts: this.orderDetails.contacts,\r\n        phone: this.orderDetails.phone,\r\n        country: this.orderDetails.country,\r\n        province: this.orderDetails.province,\r\n        city: this.orderDetails.city,\r\n        address: this.orderDetails.address,\r\n      });\r\n      this.payModalShow = true;\r\n    },\r\n    async payCallback(password, successCallBack, failCallBack) {\r\n      console.log(password);\r\n      try {\r\n        await this.requestOrderPay({\r\n          orderId: this.currentOrderInfo.id,\r\n          safeword: password,\r\n        })\r\n          .then(() => {\r\n            this.$emit('closePay')\r\n            this.refresh && this.refresh()\r\n            this.refresh && this.refresh();\r\n            successCallBack && successCallBack();\r\n            this.payModalShow = false;\r\n            this.$router.replace('/paySuccess');\r\n          })\r\n          .catch(() => {\r\n            failCallBack && failCallBack();\r\n          });\r\n      } catch (error) {}\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.payment-dialog {\r\n  .wrap {\r\n    width: 450px;\r\n    margin: 0 auto;\r\n\r\n    .title {\r\n      font-weight: 500;\r\n      font-size: 16px;\r\n      color: #333333;\r\n      margin-bottom: 20px;\r\n    }\r\n\r\n    .tip {\r\n      margin-top: 10px;\r\n      font-size: 12px;\r\n\r\n      .time {\r\n        color: var(--color-main);\r\n      }\r\n\r\n      .desc {\r\n        margin-left: 5px;\r\n      }\r\n    }\r\n\r\n    .pay-methods {\r\n      background: linear-gradient(0deg, #fff7ec, #fff7ec), #eeeeee;\r\n      border-radius: 4px;\r\n      padding: 20px 10px;\r\n      margin-top: 26px;\r\n      border: 1px solid var(--color-main);\r\n\r\n      .method-item {\r\n        display: flex;\r\n        align-items: center;\r\n        padding: 10px;\r\n        border-radius: 4px;\r\n\r\n        + .method-item {\r\n          margin-top: 5px;\r\n        }\r\n\r\n        &:hover {\r\n          background-color: rgba(0, 0, 0, 0.05);\r\n        }\r\n\r\n        img {\r\n          height: 16px;\r\n        }\r\n\r\n        .name {\r\n          flex: 1;\r\n          margin-left: 10px;\r\n          font-weight: 600;\r\n          font-size: 14px;\r\n          color: #000000;\r\n\r\n          .price {\r\n            color: var(--color-main);\r\n            font-weight: 700;\r\n          }\r\n        }\r\n\r\n        .selected {\r\n          width: 14px;\r\n          height: 14px;\r\n          background-color: #d9d9d9;\r\n          border-radius: 50%;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n\r\n          img {\r\n            transition-duration: 0.3s;\r\n            width: 0;\r\n            height: 0;\r\n            position: absolute;\r\n          }\r\n\r\n          &.active {\r\n            background-color: var(--color-main);\r\n\r\n            img {\r\n              visibility: visible;\r\n              width: 14px;\r\n              height: 14px;\r\n              opacity: 1;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .action {\r\n      padding: 30px 0;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n\r\n      .el-button {\r\n        width: 100%;\r\n        height: 50px;\r\n        color: #fff;\r\n        background: var(--color-main);\r\n        border-color: var(--color-main);\r\n        border-radius: 4px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"AAcA,SAAAA,UAAA,EAAAC,UAAA,EAAAC,YAAA;AACA,OAAAC,UAAA;AACA,OAAAC,YAAA;AACA;EACAC,IAAA;EACAC,UAAA;IAAAH,UAAA;IAAAC;EAAA;EACAG,KAAA;IACAC,KAAA;MACAC,IAAA,EAAAC,OAAA;MACAC,OAAA;IACA;IACAC,gBAAA;MACAH,IAAA,EAAAI,MAAA;MACAF,OAAA,EAAAA,CAAA;IACA;IACAG,OAAA;MACAL,IAAA,EAAAM;IACA;EACA;EACAC,KAAA;IACA;MACAC,aAAA,OAAAT,KAAA;MACAU,QAAA;MACAC,YAAA;IACA;EACA;EACAC,QAAA;IACA,GAAAnB,UAAA;MACAoB,IAAA;MACAC,YAAA;IACA;EACA;EACAC,KAAA;IACAf,MAAAgB,GAAA;MACA,KAAAP,aAAA,GAAAO,GAAA;IACA;IACAP,cAAAO,GAAA;MACA,IAAAA,GAAA,UAAAhB,KAAA;QACA,KAAAiB,KAAA,UAAAD,GAAA;MACA;IACA;EACA;EACAE,OAAA;IACA,GAAA1B,UAAA;MACA2B,eAAA;MACAC,uBAAA;IACA;IACA,GAAA1B,YAAA;MACA2B,sBAAA;IACA;IACA,MAAAC,IAAA;MACA,WAAAF,uBAAA;QACAG,OAAA,OAAAnB,gBAAA,CAAAoB;MACA;MACA,KAAAH,sBAAA;QACAI,QAAA,OAAAX,YAAA,CAAAW,QAAA;QACAC,KAAA,OAAAZ,YAAA,CAAAY,KAAA;QACAC,OAAA,OAAAb,YAAA,CAAAa,OAAA;QACAC,QAAA,OAAAd,YAAA,CAAAc,QAAA;QACAC,IAAA,OAAAf,YAAA,CAAAe,IAAA;QACAC,OAAA,OAAAhB,YAAA,CAAAgB;MACA;MACA,KAAAnB,YAAA;IACA;IACA,MAAAoB,YAAAC,QAAA,EAAAC,eAAA,EAAAC,YAAA;MACAC,OAAA,CAAAC,GAAA,CAAAJ,QAAA;MACA;QACA,WAAAb,eAAA;UACAI,OAAA,OAAAnB,gBAAA,CAAAoB,EAAA;UACAa,QAAA,EAAAL;QACA,GACAM,IAAA;UACA,KAAArB,KAAA;UACA,KAAAX,OAAA,SAAAA,OAAA;UACA,KAAAA,OAAA,SAAAA,OAAA;UACA2B,eAAA,IAAAA,eAAA;UACA,KAAAtB,YAAA;UACA,KAAA4B,OAAA,CAAAC,OAAA;QACA,GACAC,KAAA;UACAP,YAAA,IAAAA,YAAA;QACA;MACA,SAAAQ,KAAA;IACA;EACA;AACA","ignoreList":[]}]}