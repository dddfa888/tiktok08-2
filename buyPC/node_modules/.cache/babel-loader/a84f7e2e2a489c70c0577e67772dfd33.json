{"remainingRequest":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\src\\page\\userInfo\\my-order\\components\\order-logistics-dialog.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\src\\page\\userInfo\\my-order\\components\\order-logistics-dialog.vue","mtime":1760944158224},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\babel.config.js","mtime":1760944158066},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761044715083},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\babel-loader\\lib\\index.js","mtime":1761044716268},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761044715083},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\vue-loader\\lib\\index.js","mtime":1761044716737}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5pdGVyYXRvci5tYXAuanMiOwppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBBY3Rpb25zIH0gZnJvbSAidnVleCI7CmltcG9ydCB7IG51bWJlckZvcm1hdCwgZGF0ZUZvcm1hdCB9IGZyb20gIkAvdXRpbCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAib3JkZXItbG9naXN0aWNzLWRpYWxvZyIsCiAgcHJvcHM6IHsKICAgIHZhbHVlOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgY3VycmVudE9yZGVySW5mbzogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6ICgpID0+IHt9CiAgICB9LAogICAgcmVmcmVzaDogewogICAgICB0eXBlOiBGdW5jdGlvbgogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpYWxvZ1Zpc2libGU6IHRoaXMudmFsdWUgfHwgZmFsc2UsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBsaXN0OiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKCJvcmRlciIsIFsibG9naXN0aWNzIl0pCiAgfSwKICB3YXRjaDogewogICAgdmFsdWUodmFsKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHZhbDsKICAgIH0sCiAgICBkaWFsb2dWaXNpYmxlKHZhbCkgewogICAgICBpZiAodmFsICE9PSB0aGlzLnZhbHVlKSB7CiAgICAgICAgdGhpcy4kZW1pdCgiaW5wdXQiLCB2YWwpOwogICAgICB9CiAgICAgIGlmICh2YWwpIHRoaXMucmVxdWVzdERhdGEoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcEFjdGlvbnMoewogICAgICByZXF1ZXN0T3JkZXJMb2dpc3RpY3M6ICJvcmRlci9yZXF1ZXN0T3JkZXJMb2dpc3RpY3MiCiAgICB9KSwKICAgIGFzeW5jIHJlcXVlc3REYXRhKCkgewogICAgICB0cnkgewogICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgYXdhaXQgdGhpcy5yZXF1ZXN0T3JkZXJMb2dpc3RpY3MoewogICAgICAgICAgb3JkZXJJZDogdGhpcy5jdXJyZW50T3JkZXJJbmZvLmlkCiAgICAgICAgfSk7CiAgICAgICAgY29uc29sZS5sb2coInRoaXMubG9naXN0aWNzIC0+IiwgdGhpcy5sb2dpc3RpY3MpOwogICAgICAgIGlmICh0aGlzLmxvZ2lzdGljcykgewogICAgICAgICAgdGhpcy5saXN0ID0gdGhpcy5sb2dpc3RpY3MubWFwKGl0ZW0gPT4gewogICAgICAgICAgICBjb25zdCBhcnIgPSBpdGVtLmxvZy5zcGxpdChpdGVtLm9yZGVySWQpOwogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgIC4uLml0ZW0sCiAgICAgICAgICAgICAgdGV4dDogYXJyWzFdCiAgICAgICAgICAgICAgLy8gbG9nOiBgJHt0aGlzLiR0KCJtZXNzYWdlLmhvbWUu6K6i5Y2VIil9PHNwYW4gY2xhc3M9ImxvZ19pZCI+IyR7CiAgICAgICAgICAgICAgLy8gICBpdGVtLm9yZGVySWQKICAgICAgICAgICAgICAvLyB9PC9zcGFuPiR7dGhpcy4kdChtZXNzYWdlLmhvbWUgKyAiLiIgKyBhcnJbMV0pfWAsCiAgICAgICAgICAgIH07CiAgICAgICAgICB9KTsKICAgICAgICAgIGNvbnNvbGUubG9nKCJsaXN0IC0+IiwgdGhpcy5saXN0KTsKICAgICAgICB9CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBzdWJtaXQoaXRlbSkgewogICAgICAvLwogICAgfSwKICAgIGRhdGVGb3JtYXQsCiAgICBudW1iZXJGb3JtYXRGbihudW0pIHsKICAgICAgcmV0dXJuIG51bWJlckZvcm1hdChudW0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["mapGetters","mapActions","numberFormat","dateFormat","name","props","value","type","Boolean","default","currentOrderInfo","Object","refresh","Function","data","dialogVisible","loading","list","computed","watch","val","$emit","requestData","methods","requestOrderLogistics","orderId","id","console","log","logistics","map","item","arr","split","text","submit","numberFormatFn","num"],"sources":["src/page/userInfo/my-order/components/order-logistics-dialog.vue"],"sourcesContent":["<template>\r\n  <el-dialog\r\n    custom-class=\"logistics-dialog\"\r\n    :title=\"$t('message.home.order.logistics')\"\r\n    :visible.sync=\"dialogVisible\"\r\n  >\r\n    <div class=\"logistics-list\" v-loading=\"loading\">\r\n      <el-steps direction=\"vertical\" :active=\"logistics.length\">\r\n        <el-step\r\n          v-for=\"item in list\"\r\n          :key=\"item.id\"\r\n          :title=\"\r\n            $t('message.home.订单') + '#' +\r\n            item.orderId +'#' +\r\n            $t('message.home.' + item.text)\r\n          \"\r\n          :description=\"dateFormat(item.updateTime)\"\r\n        ></el-step>\r\n      </el-steps>\r\n    </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nimport { numberFormat, dateFormat } from \"@/util\";\r\nexport default {\r\n  name: \"order-logistics-dialog\",\r\n  props: {\r\n    value: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    currentOrderInfo: {\r\n      type: Object,\r\n      default: () => {},\r\n    },\r\n    refresh: {\r\n      type: Function,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      dialogVisible: this.value || false,\r\n      loading: false,\r\n      list: [],\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters(\"order\", [\"logistics\"]),\r\n  },\r\n  watch: {\r\n    value(val) {\r\n      this.dialogVisible = val;\r\n    },\r\n    dialogVisible(val) {\r\n      if (val !== this.value) {\r\n        this.$emit(\"input\", val);\r\n      }\r\n      if (val) this.requestData();\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      requestOrderLogistics: \"order/requestOrderLogistics\",\r\n    }),\r\n    async requestData() {\r\n      try {\r\n        this.loading = true;\r\n        await this.requestOrderLogistics({\r\n          orderId: this.currentOrderInfo.id,\r\n        });\r\n        console.log(\"this.logistics ->\", this.logistics);\r\n        if (this.logistics) {\r\n          this.list = this.logistics.map((item) => {\r\n            const arr = item.log.split(item.orderId);\r\n            return {\r\n              ...item,\r\n              text: arr[1],\r\n              // log: `${this.$t(\"message.home.订单\")}<span class=\"log_id\">#${\r\n              //   item.orderId\r\n              // }</span>${this.$t(message.home + \".\" + arr[1])}`,\r\n            };\r\n          });\r\n          console.log(\"list ->\", this.list);\r\n        }\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    async submit(item) {\r\n      //\r\n    },\r\n    dateFormat,\r\n    numberFormatFn(num) {\r\n      return numberFormat(num);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.logistics-dialog {\r\n  .logistics-list {\r\n    height: 400px;\r\n    min-height: 400px;\r\n    padding: 30px 0;\r\n\r\n    /deep/ .el-step.is-vertical {\r\n      .el-step__title {\r\n        font-size: 14px;\r\n      }\r\n\r\n      .el-step__description {\r\n        font-size: 13px;\r\n      }\r\n    }\r\n\r\n    .logistics-item {\r\n      border: 1px solid #eeeeee;\r\n      padding: 50px 22px;\r\n\r\n      + .logistics-item {\r\n        margin-top: 18px;\r\n      }\r\n\r\n      .product-item {\r\n        display: flex;\r\n\r\n        img {\r\n          width: 62px;\r\n          height: 62px;\r\n        }\r\n\r\n        .info {\r\n          margin-left: 18px;\r\n          flex: 1;\r\n\r\n          .price {\r\n            font-weight: 500;\r\n            font-size: 16px;\r\n            color: var(--color-main);\r\n            margin-top: 7px;\r\n          }\r\n\r\n          .el-rate {\r\n            margin-top: 5px;\r\n          }\r\n        }\r\n      }\r\n\r\n      .content {\r\n        margin-top: 25px;\r\n\r\n        .el-textarea__inner {\r\n          border: 1px solid #efefef;\r\n          height: 70px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .action {\r\n    padding: 20px 0;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n\r\n    .el-button {\r\n      width: 450px;\r\n      height: 50px;\r\n      color: #fff;\r\n      background: var(--color-main);\r\n      border-color: var(--color-main);\r\n      border-radius: 4px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"mappings":";;AAwBA,SAAAA,UAAA,EAAAC,UAAA;AACA,SAAAC,YAAA,EAAAC,UAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACAC,KAAA;MACAC,IAAA,EAAAC,OAAA;MACAC,OAAA;IACA;IACAC,gBAAA;MACAH,IAAA,EAAAI,MAAA;MACAF,OAAA,EAAAA,CAAA;IACA;IACAG,OAAA;MACAL,IAAA,EAAAM;IACA;EACA;EACAC,KAAA;IACA;MACAC,aAAA,OAAAT,KAAA;MACAU,OAAA;MACAC,IAAA;IACA;EACA;EACAC,QAAA;IACA,GAAAlB,UAAA;EACA;EACAmB,KAAA;IACAb,MAAAc,GAAA;MACA,KAAAL,aAAA,GAAAK,GAAA;IACA;IACAL,cAAAK,GAAA;MACA,IAAAA,GAAA,UAAAd,KAAA;QACA,KAAAe,KAAA,UAAAD,GAAA;MACA;MACA,IAAAA,GAAA,OAAAE,WAAA;IACA;EACA;EACAC,OAAA;IACA,GAAAtB,UAAA;MACAuB,qBAAA;IACA;IACA,MAAAF,YAAA;MACA;QACA,KAAAN,OAAA;QACA,WAAAQ,qBAAA;UACAC,OAAA,OAAAf,gBAAA,CAAAgB;QACA;QACAC,OAAA,CAAAC,GAAA,2BAAAC,SAAA;QACA,SAAAA,SAAA;UACA,KAAAZ,IAAA,QAAAY,SAAA,CAAAC,GAAA,CAAAC,IAAA;YACA,MAAAC,GAAA,GAAAD,IAAA,CAAAH,GAAA,CAAAK,KAAA,CAAAF,IAAA,CAAAN,OAAA;YACA;cACA,GAAAM,IAAA;cACAG,IAAA,EAAAF,GAAA;cACA;cACA;cACA;YACA;UACA;UACAL,OAAA,CAAAC,GAAA,iBAAAX,IAAA;QACA;MACA;QACA,KAAAD,OAAA;MACA;IACA;IACA,MAAAmB,OAAAJ,IAAA;MACA;IAAA,CACA;IACA5B,UAAA;IACAiC,eAAAC,GAAA;MACA,OAAAnC,YAAA,CAAAmC,GAAA;IACA;EACA;AACA","ignoreList":[]}]}