{"remainingRequest":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\src\\page\\productDetailsPage\\productComment.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\src\\page\\productDetailsPage\\productComment.vue","mtime":1760944158215},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\babel.config.js","mtime":1760944158066},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761044715083},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\babel-loader\\lib\\index.js","mtime":1761044716268},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761044715083},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\vue-loader\\lib\\index.js","mtime":1761044716737}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IubWFwLmpzIjsKaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwQWN0aW9ucyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyBnZXRQcm9kdWN0RXZhbHVhdGlvbkNhdGVnb3J5IH0gZnJvbSAiQC9hcGkiOwovLyBpbXBvcnQgeyByZXF1ZXN0IH0gZnJvbSAiaHR0cCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRXNQcm9kdWN0Q29tbWVudCIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBpdGVtbmFtZTogcHJvY2Vzcy5lbnYuVlVFX0FQUF9JVEVNX05BTUUsCiAgICAgIHBhZ2VOdW06IDEsCiAgICAgIHBhZ2VTaXplOiA1LAogICAgICBldmFsdWF0aW9uVHlwZUtleTogdW5kZWZpbmVkLAogICAgICB0b3RhbDogMCwKICAgICAgY2F0ZWdvcnlOdW06IHsKICAgICAgICBoYXZlUGljdHVyZTogewogICAgICAgICAgdGV4dDogdGhpcy4kdCgibWVzc2FnZS5ob21lLmhhc0ltYWdlIiksCiAgICAgICAgICBudW06ICIwIiwKICAgICAgICAgIGV2YWx1YXRpb25UeXBlOiAtMgogICAgICAgIH0sCiAgICAgICAgcG9zaXRpdmVDb21tZW50czogewogICAgICAgICAgdGV4dDogdGhpcy4kdCgibWVzc2FnZS5ob21lLmhpZ2hPcGluaW9uIiksCiAgICAgICAgICBudW06ICIwIiwKICAgICAgICAgIGV2YWx1YXRpb25UeXBlOiAxCiAgICAgICAgfSwKICAgICAgICBtZWRpdW1SZXZpZXc6IHsKICAgICAgICAgIHRleHQ6IHRoaXMuJHQoIm1lc3NhZ2UuaG9tZS5tZWRpdW1PcGluaW9uIiksCiAgICAgICAgICBudW06ICIwIiwKICAgICAgICAgIGV2YWx1YXRpb25UeXBlOiAyCiAgICAgICAgfSwKICAgICAgICBuZWdhdGl2ZUNvbW1lbnQ6IHsKICAgICAgICAgIHRleHQ6IHRoaXMuJHQoIm1lc3NhZ2UuaG9tZS5sb3dPcGluaW9uIiksCiAgICAgICAgICBudW06ICIwIiwKICAgICAgICAgIGV2YWx1YXRpb25UeXBlOiAzCiAgICAgICAgfQogICAgICB9LAogICAgICBldmFsdWF0aW9uSW1hZ2VzOiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKCJwcm9kdWN0RGV0YWlscyIsIFsicHJvZHVjdERldGFpbHMiLCAicHJvZHVjdENvbW1lbnQiLCAicHJvZHVjdENvbW1lbnRQYWdlSW5mbyIsICJwcm9kdWN0Q29tbWVudE51bSJdKQogIH0sCiAgZmlsdGVyczogewogICAgYWJicmV2aWF0ZWROYW1lKHN0ciwgZnJvbnRMZW4gPSAyLCBlbmRMZW4gPSAyKSB7CiAgICAgIGxldCBsZW4gPSBzdHIubGVuZ3RoIC0gZnJvbnRMZW4gLSBlbmRMZW47CiAgICAgIGxldCB4ID0gIiI7CiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuOyBpKyspIHsKICAgICAgICB4ICs9ICIqIjsKICAgICAgfQogICAgICByZXR1cm4gc3RyLnN1YnN0cmluZygwLCBmcm9udExlbikgKyB4ICsgc3RyLnN1YnN0cmluZyhzdHIubGVuZ3RoIC0gZW5kTGVuKTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBhc3luYyBwcm9kdWN0RGV0YWlscyhuZXdWYWx1ZSwgb2xkVmFsdWUpIHsKICAgICAgaWYgKG5ld1ZhbHVlICYmIG9sZFZhbHVlICYmIG5ld1ZhbHVlLmlkICE9PSBvbGRWYWx1ZS5pZCkgewogICAgICAgIHRoaXMucmVxdWVzdENvbW1lbmQoKTsKICAgICAgICB0aGlzLnJlcXVlc3RFdmFsdWF0aW9uQ2F0ZWdvcnkoKTsKICAgICAgfQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLi4ubWFwQWN0aW9ucygicHJvZHVjdERldGFpbHMiLCBbInJlcXVlc3RSZWNvbW1lbmRMTGlzdCJdKSwKICAgIC8vIHN1YlVzZXJuYW1lKHVzZXIpIHsKICAgIC8vICAgaWYgKHVzZXIuaW5kZXhPZigiQCIpIDwgMCkgewogICAgLy8gICAgIGxldCBzdHIgPSB1c2VyLnN1YnN0cmluZygyLCB1c2VyLmxlbmd0aCAtIDEpOwogICAgLy8gICAgIGxldCBuYW1lID0gdXNlci5yZXBsYWNlKHN0ciwgIioqKiIpOwogICAgLy8gICAgIHJldHVybiBuYW1lOwogICAgLy8gICB9IGVsc2UgewogICAgLy8gICAgIGxldCBzdHIgPSB1c2VyLnN1YnN0cmluZygxLCB1c2VyLmluZGV4T2YoIkAiKSk7CiAgICAvLyAgICAgbGV0IG5hbWUgPSB1c2VyLnJlcGxhY2Uoc3RyLCAiKioqIik7CiAgICAvLyAgICAgcmV0dXJuIG5hbWU7CiAgICAvLyAgIH0KICAgIC8vIH0sCgogICAgYXN5bmMgcmVxdWVzdENvbW1lbmQocGFyYW1zKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICBwYXJhbXMgPSBwYXJhbXMgIT09IG51bGwgJiYgcGFyYW1zICE9PSB2b2lkIDAgPyBwYXJhbXMgOiB7CiAgICAgICAgICBzZWxsZXJHb29kc0lkOiB0aGlzLnByb2R1Y3REZXRhaWxzLmlkLAogICAgICAgICAgcGFnZU51bTogdGhpcy5wYWdlTnVtLAogICAgICAgICAgcGFnZVNpemU6IHRoaXMucGFnZVNpemUKICAgICAgICB9OwogICAgICAgIGF3YWl0IHRoaXMucmVxdWVzdFJlY29tbWVuZExMaXN0KHBhcmFtcykudGhlbihyZXMgPT4gewogICAgICAgICAgY29uc3QgewogICAgICAgICAgICBwYWdlSW5mbwogICAgICAgICAgfSA9IHJlczsKICAgICAgICAgIHRoaXMudG90YWwgPSBwYWdlSW5mby50b3RhbEVsZW1lbnRzOwogICAgICAgIH0pOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9CiAgICAgIHRoaXMuZ2VuSW1hZ2VMaXN0KCk7CiAgICB9LAogICAgYXN5bmMgcmVxdWVzdEV2YWx1YXRpb25DYXRlZ29yeSgpIHsKICAgICAgY29uc3QgcmVzID0gYXdhaXQgZ2V0UHJvZHVjdEV2YWx1YXRpb25DYXRlZ29yeSh7CiAgICAgICAgZ29vZElkOiB0aGlzLnByb2R1Y3REZXRhaWxzLmlkCiAgICAgIH0pOwogICAgICBpZiAocmVzICYmIHJlcy5jb2RlID09PSAiMCIpIHsKICAgICAgICBmb3IgKGxldCBrZXkgaW4gcmVzLmRhdGEpIHsKICAgICAgICAgIHRoaXMuY2F0ZWdvcnlOdW1ba2V5XS5udW0gPSByZXMuZGF0YVtrZXldOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGdlbkltYWdlTGlzdCgpIHsKICAgICAgdGhpcy5ldmFsdWF0aW9uSW1hZ2VzID0gW107CiAgICAgIGZvciAobGV0IGV2YWx1YXRpb24gb2YgdGhpcy5wcm9kdWN0Q29tbWVudCkgewogICAgICAgIGNvbnN0IGltZ1VybHMgPSBPYmplY3Qua2V5cyhldmFsdWF0aW9uKS5maWx0ZXIoeCA9PiB4LmluY2x1ZGVzKCJpbWdVcmwiKSAmJiAhIWV2YWx1YXRpb25beF0pLm1hcCh4ID0+IGV2YWx1YXRpb25beF0pOwogICAgICAgIHRoaXMuZXZhbHVhdGlvbkltYWdlcy5wdXNoKGltZ1VybHMpOwogICAgICAgIGlmIChldmFsdWF0aW9uLmNvbnRlbnQgPT0gIiIpIHsKICAgICAgICAgIGV2YWx1YXRpb24uY29udGVudCA9IHRoaXMuJHQoIm1lc3NhZ2UuaG9tZS7nlKjmiLfmnKrlj5Hooajor4TorroiKTsKICAgICAgICB9CiAgICAgICAgaWYgKGV2YWx1YXRpb24uY29udGVudCA9PSAi57O757uf6buY6K6k5aW96K+EIikgewogICAgICAgICAgZXZhbHVhdGlvbi5jb250ZW50ID0gdGhpcy4kdCgibWVzc2FnZS5ob21lLuezu+e7n+m7mOiupOWlveivhCIpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIG9uRXZhbHVhdGlvbkNsaWNrKGtleSkgewogICAgICB0aGlzLnBhZ2VOdW0gPSAwOwogICAgICB0aGlzLnRvdGFsID0gMDsKICAgICAgdGhpcy5ldmFsdWF0aW9uVHlwZUtleSA9IGtleTsKICAgICAgdGhpcy5yZXF1ZXN0Q29tbWVuZCh7CiAgICAgICAgc2VsbGVyR29vZHNJZDogdGhpcy5wcm9kdWN0RGV0YWlscy5pZCwKICAgICAgICBwYWdlTnVtOiB0aGlzLnBhZ2VOdW0sCiAgICAgICAgcGFnZVNpemU6IHRoaXMucGFnZVNpemUsCiAgICAgICAgZXZhbHVhdGlvblR5cGU6IHRoaXMuY2F0ZWdvcnlOdW1ba2V5XS5ldmFsdWF0aW9uVHlwZQogICAgICB9KTsKICAgIH0sCiAgICBjdXJyZW50Q2hhbmdlKHBhZ2UpIHsKICAgICAgdGhpcy5wYWdlTnVtID0gcGFnZTsKICAgICAgdGhpcy5yZXF1ZXN0Q29tbWVuZCgpOwogICAgfSwKICAgIHRpbWVzdGFtcFRvVGltZSh0aW1lc3RhbXApIHsKICAgICAgdGltZXN0YW1wID0gdGltZXN0YW1wID8gdGltZXN0YW1wIDogbnVsbDsKICAgICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSh0aW1lc3RhbXApOyAvL+aXtumXtOaIs+S4ujEw5L2N6ZyAKjEwMDDvvIzml7bpl7TmiLPkuLoxM+S9jeeahOivneS4jemcgOS5mDEwMDAKICAgICAgbGV0IFkgPSBkYXRlLmdldEZ1bGxZZWFyKCkgKyAiLSI7CiAgICAgIGxldCBNID0gKGRhdGUuZ2V0TW9udGgoKSArIDEgPCAxMCA/ICIwIiArIChkYXRlLmdldE1vbnRoKCkgKyAxKSA6IGRhdGUuZ2V0TW9udGgoKSArIDEpICsgIi0iOwogICAgICBsZXQgRCA9IChkYXRlLmdldERhdGUoKSA8IDEwID8gIjAiICsgZGF0ZS5nZXREYXRlKCkgOiBkYXRlLmdldERhdGUoKSkgKyAiICI7CiAgICAgIGxldCBoID0gKGRhdGUuZ2V0SG91cnMoKSA8IDEwID8gIjAiICsgZGF0ZS5nZXRIb3VycygpIDogZGF0ZS5nZXRIb3VycygpKSArICI6IjsKICAgICAgbGV0IG0gPSAoZGF0ZS5nZXRNaW51dGVzKCkgPCAxMCA/ICIwIiArIGRhdGUuZ2V0TWludXRlcygpIDogZGF0ZS5nZXRNaW51dGVzKCkpICsgIjoiOwogICAgICBsZXQgcyA9IGRhdGUuZ2V0U2Vjb25kcygpIDwgMTAgPyAiMCIgKyBkYXRlLmdldFNlY29uZHMoKSA6IGRhdGUuZ2V0U2Vjb25kcygpOwogICAgICByZXR1cm4gJGZvcm1hdFpvbmVEYXRlKFkgKyBNICsgRCArIGggKyBtICsgcyk7CiAgICB9LAogICAgaXNJbnRlZ2VyKG51bSkgewogICAgICBpZiAocGFyc2VJbnQobnVtLCAxMCkgPT09IG51bSkgewogICAgICAgIHJldHVybiBudW0gKyAiLjAiOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBudW07CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"names":["mapGetters","mapActions","getProductEvaluationCategory","name","data","loading","itemname","process","env","VUE_APP_ITEM_NAME","pageNum","pageSize","evaluationTypeKey","undefined","total","categoryNum","havePicture","text","$t","num","evaluationType","positiveComments","mediumReview","negativeComment","evaluationImages","computed","filters","abbreviatedName","str","frontLen","endLen","len","length","x","i","substring","watch","productDetails","newValue","oldValue","id","requestCommend","requestEvaluationCategory","methods","params","sellerGoodsId","requestRecommendLList","then","res","pageInfo","totalElements","genImageList","goodId","code","key","evaluation","productComment","imgUrls","Object","keys","filter","includes","map","push","content","onEvaluationClick","currentChange","page","timestampToTime","timestamp","date","Date","Y","getFullYear","M","getMonth","D","getDate","h","getHours","m","getMinutes","s","getSeconds","$formatZoneDate","isInteger","parseInt"],"sources":["src/page/productDetailsPage/productComment.vue"],"sourcesContent":["<template>\r\n  <div class=\"product-comment\">\r\n    <div class=\"p-header\">\r\n      <div class=\"title1\">\r\n        {{ this.$t(\"message.home.userEvaluation\" /**用户评价 */) }}\r\n        <span v-if=\"itemname !== 'Inchoi'\">({{ productCommentNum || 0 }})</span>\r\n       \r\n      </div>\r\n      <div style=\"display: flex; flex-direction: row\">\r\n        <div\r\n          v-for=\"item in Object.keys(categoryNum)\"\r\n          @click=\"onEvaluationClick(item)\"\r\n          class=\"button\"\r\n          :class=\"item === evaluationTypeKey ? 'active' : ''\"\r\n          :key=\"item\"\r\n        >\r\n          {{ categoryNum[item].text }}({{ categoryNum[item].num }})\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div\r\n      class=\"product-comment-content\"\r\n      v-loading=\"loading\"\r\n      style=\"padding-top: 10px\"\r\n    >\r\n      <div\r\n        v-for=\"(item, index) in productComment\"\r\n        :key=\"index\"\r\n        class=\"product-comment-item\"\r\n      >\r\n        <div class=\"product-comment-top flex-start\">\r\n          <div class=\"userInfo\">\r\n            <img\r\n              :src=\"\r\n                require(`@/assets/image/avatar/${\r\n                  item.avatar || Math.floor(Math.random() * 20)\r\n                }.png`)\r\n              \"\r\n              alt=\"User\"\r\n            />\r\n            <div>{{ item.userName }}</div>\r\n          </div>\r\n        </div>\r\n        <div class=\"rate\">\r\n          <div class=\"rate-box\">\r\n            <el-rate disabled :value=\"item.rating\"></el-rate>\r\n            <span style=\"color: var(--color-main); font-size: 12px\">{{\r\n              $t(\"message.home.订单已完成\")\r\n            }}</span>\r\n          </div>\r\n        </div>\r\n        <!-- <div v-if=\"item.attributes\" class=\"attrbox\">\r\n          <div v-for=\"(i, d) in item.attributes\" :key=\"d\" class=\"attr\">\r\n            <div v-if=\"i.attrName\">\r\n              <span>{{ i.attrName }}</span\r\n              >:<span>{{ i.attrValue }}</span>\r\n            </div>\r\n          </div>\r\n        </div> -->\r\n        <p class=\"product-comment-text\">\r\n          {{ item.content }}\r\n        </p>\r\n        <div>\r\n          <el-image\r\n            class=\"evaluation-img\"\r\n            v-for=\"url in evaluationImages[index]\"\r\n            :src=\"url\"\r\n            :key=\"url\"\r\n            :preview-src-list=\"evaluationImages[index]\"\r\n          >\r\n          </el-image>\r\n        </div>\r\n        <span class=\"eval-time\"\r\n          ><span v-if=\"item.countryName && itemname !== 'Inchoi'&& itemname !== 'Green Mall'\"\r\n            >{{ item.countryName }}&nbsp;>>&nbsp; </span\r\n          >{{ $formatZoneDate(item.evaluationTime) }}</span\r\n        >\r\n      </div>\r\n    </div>\r\n    <div>\r\n      <el-empty\r\n        :description=\"$t('message.home.noComments')\"\r\n        v-if=\"!productComment.length\"\r\n      ></el-empty>\r\n    </div>\r\n    <div class=\"product-comment-pagination\" v-if=\"total > 5\">\r\n      <el-pagination\r\n        background\r\n        layout=\"prev,next\"\r\n        class=\"es-pagination\"\r\n        :current-page=\"pageNum\"\r\n        :page-size=\"pageSize\"\r\n        :total=\"total\"\r\n        :prev-text=\"$t('message.home.prevPage')\"\r\n        :next-text=\"$t('message.home.nextPage')\"\r\n        @current-change=\"currentChange\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nimport { getProductEvaluationCategory } from \"@/api\";\r\n// import { request } from \"http\";\r\nexport default {\r\n  name: \"EsProductComment\",\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      itemname: process.env.VUE_APP_ITEM_NAME,\r\n      pageNum: 1,\r\n      pageSize: 5,\r\n      evaluationTypeKey: undefined,\r\n      total: 0,\r\n      categoryNum: {\r\n        havePicture: {\r\n          text: this.$t(\"message.home.hasImage\"),\r\n          num: \"0\",\r\n          evaluationType: -2,\r\n        },\r\n        positiveComments: {\r\n          text: this.$t(\"message.home.highOpinion\"),\r\n          num: \"0\",\r\n          evaluationType: 1,\r\n        },\r\n        mediumReview: {\r\n          text: this.$t(\"message.home.mediumOpinion\"),\r\n          num: \"0\",\r\n          evaluationType: 2,\r\n        },\r\n        negativeComment: {\r\n          text: this.$t(\"message.home.lowOpinion\"),\r\n          num: \"0\",\r\n          evaluationType: 3,\r\n        },\r\n      },\r\n      evaluationImages: [],\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters(\"productDetails\", [\r\n      \"productDetails\",\r\n      \"productComment\",\r\n      \"productCommentPageInfo\",\r\n      \"productCommentNum\",\r\n    ]),\r\n  },\r\n  filters: {\r\n    abbreviatedName(str, frontLen = 2, endLen = 2) {\r\n      let len = str.length - frontLen - endLen;\r\n      let x = \"\";\r\n      for (let i = 0; i < len; i++) {\r\n        x += \"*\";\r\n      }\r\n      return (\r\n        str.substring(0, frontLen) + x + str.substring(str.length - endLen)\r\n      );\r\n    },\r\n  },\r\n  watch: {\r\n    async productDetails(newValue, oldValue) {\r\n      if (newValue && oldValue && newValue.id !== oldValue.id) {\r\n        this.requestCommend();\r\n        this.requestEvaluationCategory();\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions(\"productDetails\", [\"requestRecommendLList\"]),\r\n    // subUsername(user) {\r\n    //   if (user.indexOf(\"@\") < 0) {\r\n    //     let str = user.substring(2, user.length - 1);\r\n    //     let name = user.replace(str, \"***\");\r\n    //     return name;\r\n    //   } else {\r\n    //     let str = user.substring(1, user.indexOf(\"@\"));\r\n    //     let name = user.replace(str, \"***\");\r\n    //     return name;\r\n    //   }\r\n    // },\r\n    \r\n    async requestCommend(params) {\r\n      try {\r\n        this.loading = true;\r\n        params = params ?? {\r\n          sellerGoodsId: this.productDetails.id,\r\n          pageNum: this.pageNum,\r\n          pageSize: this.pageSize,\r\n        };\r\n        await this.requestRecommendLList(params).then((res) => {\r\n          const { pageInfo } = res;\r\n          this.total = pageInfo.totalElements;\r\n        });\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n      this.genImageList();\r\n    },\r\n\r\n    async requestEvaluationCategory() {\r\n      const res = await getProductEvaluationCategory({\r\n        goodId: this.productDetails.id,\r\n      });\r\n      if (res && res.code === \"0\") {\r\n        for (let key in res.data) {\r\n          this.categoryNum[key].num = res.data[key];\r\n        }\r\n      }\r\n    },\r\n\r\n    genImageList() {\r\n      this.evaluationImages = [];\r\n      for (let evaluation of this.productComment) {\r\n        const imgUrls = Object.keys(evaluation)\r\n          .filter((x) => x.includes(\"imgUrl\") && !!evaluation[x])\r\n          .map((x) => evaluation[x]);\r\n        this.evaluationImages.push(imgUrls);\r\n        if (evaluation.content == \"\") {\r\n          evaluation.content = this.$t(\"message.home.用户未发表评论\");\r\n        }\r\n        if (evaluation.content == \"系统默认好评\") {\r\n          evaluation.content = this.$t(\"message.home.系统默认好评\");\r\n        }\r\n      }\r\n    },\r\n\r\n    onEvaluationClick(key) {\r\n      this.pageNum = 0;\r\n      this.total = 0;\r\n      this.evaluationTypeKey = key;\r\n      this.requestCommend({\r\n        sellerGoodsId: this.productDetails.id,\r\n        pageNum: this.pageNum,\r\n        pageSize: this.pageSize,\r\n        evaluationType: this.categoryNum[key].evaluationType,\r\n      });\r\n    },\r\n\r\n    currentChange(page) {\r\n      this.pageNum = page;\r\n      this.requestCommend();\r\n    },\r\n    timestampToTime(timestamp) {\r\n      timestamp = timestamp ? timestamp : null;\r\n      let date = new Date(timestamp); //时间戳为10位需*1000，时间戳为13位的话不需乘1000\r\n      let Y = date.getFullYear() + \"-\";\r\n      let M =\r\n        (date.getMonth() + 1 < 10\r\n          ? \"0\" + (date.getMonth() + 1)\r\n          : date.getMonth() + 1) + \"-\";\r\n      let D =\r\n        (date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate()) + \" \";\r\n      let h =\r\n        (date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours()) + \":\";\r\n      let m =\r\n        (date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes()) +\r\n        \":\";\r\n      let s =\r\n        date.getSeconds() < 10 ? \"0\" + date.getSeconds() : date.getSeconds();\r\n      return $formatZoneDate(Y + M + D + h + m + s);\r\n    },\r\n    isInteger(num) {\r\n      if (parseInt(num, 10) === num) {\r\n        return num + \".0\";\r\n      } else {\r\n        return num;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.product-comment {\r\n  border: 1px solid var(--color-border);\r\n  width: 957px;\r\n  .product-comment-text {\r\n    display: -webkit-box;\r\n  }\r\n\r\n  .button {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    padding: 4px 10px;\r\n    // height: 28px;\r\n    border-radius: 14px;\r\n    color: #999999;\r\n    margin-right: 13px;\r\n    cursor: pointer;\r\n    background: #eeeeee;\r\n\r\n    &.active {\r\n      color: #ffffff;\r\n      // border: 1px solid var(--color-main);\r\n      background: var(--color-main);\r\n    }\r\n  }\r\n\r\n  .evaluation-img {\r\n    width: 87px;\r\n    height: 87px;\r\n    border: 1px solid #eeeeee;\r\n    border-radius: 4px;\r\n    margin-right: 10px;\r\n  }\r\n\r\n  .p-header {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    border-bottom: 1px solid #eee;\r\n    height: 70px;\r\n    padding-left: 37px;\r\n    padding-right: 16px;\r\n    // padding-bottom: 30px;\r\n    // background-color: #eee;\r\n  }\r\n\r\n  .title1 {\r\n    font-weight: 600;\r\n    font-size: 20px;\r\n    color: var(--color-title);\r\n    margin-left: 22px;\r\n    // border-bottom: 1px solid var(--color-border);\r\n    // padding: 20px 37px 19px 37px;\r\n  }\r\n\r\n  &-item {\r\n    padding: 15px 40px;\r\n    border-bottom: 1px solid #eee;\r\n  }\r\n\r\n  &-top {\r\n    font-size: 12px;\r\n    justify-content: space-between;\r\n\r\n    .userInfo {\r\n      display: flex;\r\n      align-items: center;\r\n      font-weight: 400;\r\n      font-size: 12px;\r\n      color: var(-color-black);\r\n      margin-bottom: 4px;\r\n\r\n      img {\r\n        width: 31px;\r\n        height: 31px;\r\n        object-fit: cover;\r\n        border-radius: 100%;\r\n        margin-right: 8px;\r\n      }\r\n\r\n      span {\r\n        color: var(--color-subtitle);\r\n      }\r\n    }\r\n  }\r\n  .rate {\r\n    .rate-box {\r\n      display: flex;\r\n      align-items: center;\r\n      font-size: 12px;\r\n      color: #000;\r\n    }\r\n  }\r\n  .eval-time {\r\n    font-size: 12px;\r\n    color: #999999;\r\n    margin-top: 10px;\r\n    display: inline-block;\r\n  }\r\n  &-text {\r\n    font-weight: 400;\r\n    font-size: 16px;\r\n    padding: 10px 0;\r\n    color: var(-color-black);\r\n    display: inherit !important;\r\n    word-wrap: break-word;\r\n  }\r\n\r\n  &-pagination {\r\n    width: 100%;\r\n    text-align: center;\r\n    padding: 40px 0;\r\n  }\r\n  .attrbox {\r\n    display: flex;\r\n    font-size: 12px;\r\n    color: #333;\r\n    .attr {\r\n      &:nth-child(2) {\r\n        margin-left: 5px;\r\n        padding-left: 5px;\r\n        border-left: 1px solid #999;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]}]}