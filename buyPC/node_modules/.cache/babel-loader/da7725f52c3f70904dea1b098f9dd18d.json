{"remainingRequest":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\src\\api\\socket.js","dependencies":[{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\src\\api\\socket.js","mtime":1760944158070},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\babel.config.js","mtime":1760944158066},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761044715083},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\babel-loader\\lib\\index.js","mtime":1761044716268},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\eslint-loader\\index.js","mtime":1761044715379}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:dmFyIHdlYnNvY2sgPSBudWxsOwp2YXIgZ2xvYmFsX2NhbGxiYWNrID0gbnVsbDsKdmFyIHNlcnZlclBvcnQgPSAnNTAwMCc7IC8vd2ViU29ja2V06L+e5o6l56uv5Y+jCmltcG9ydCBDb25maWdVUkwgZnJvbSAiLi4vY29uZmlnL2luZGV4IjsKZnVuY3Rpb24gaW5pdFdlYlNvY2tldCgpIHsKICAvL+WIneWni+WMlndlb3NvY2tldAogIC8vd3PlnLDlnYAKICB2YXIgd3N1cmkgPSAid3M6Ly8iICsgQ29uZmlnVVJMLldTX1VSTCArICI6IiArIHNlcnZlclBvcnQ7CiAgd2Vic29jayA9IG5ldyBXZWJTb2NrZXQod3N1cmkpOwogIHdlYnNvY2sub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHsKICAgIHdlYnNvY2tldG9ubWVzc2FnZShlKTsKICB9OwogIHdlYnNvY2sub25jbG9zZSA9IGZ1bmN0aW9uIChlKSB7CiAgICB3ZWJzb2NrZXRjbG9zZShlKTsKICB9OwogIHdlYnNvY2sub25vcGVuID0gZnVuY3Rpb24gKCkgewogICAgd2Vic29ja2V0T3BlbigpOwogIH07CgogIC8v6L+e5o6l5Y+R55Sf6ZSZ6K+v55qE5Zue6LCD5pa55rOVCiAgd2Vic29jay5vbmVycm9yID0gZnVuY3Rpb24gKCkgewogICAgLy9jb25zb2xlLmxvZygiV2ViU29ja2V06L+e5o6l5Y+R55Sf6ZSZ6K+vIik7CiAgfTsKfQoKLy8g5a6e6ZmF6LCD55So55qE5pa55rOVCmZ1bmN0aW9uIHNlbmRTb2NrKGFnZW50RGF0YSwgY2FsbGJhY2spIHsKICBnbG9iYWxfY2FsbGJhY2sgPSBjYWxsYmFjazsKICBpZiAod2Vic29jay5yZWFkeVN0YXRlID09PSB3ZWJzb2NrLk9QRU4pIHsKICAgIC8v6Iul5pivd3PlvIDlkK/nirbmgIEKICAgIHdlYnNvY2tldHNlbmQoYWdlbnREYXRhKTsKICB9IGVsc2UgaWYgKHdlYnNvY2sucmVhZHlTdGF0ZSA9PT0gd2Vic29jay5DT05ORUNUSU5HKSB7CiAgICAvLyDoi6XmmK8g5q2j5Zyo5byA5ZCv54q25oCB77yM5YiZ562J5b6FMXPlkI7ph43mlrDosIPnlKgKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBzZW5kU29jayhhZ2VudERhdGEsIGNhbGxiYWNrKTsKICAgIH0sIDEwMDApOwogIH0gZWxzZSB7CiAgICAvLyDoi6XmnKrlvIDlkK8g77yM5YiZ562J5b6FMXPlkI7ph43mlrDosIPnlKgKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBzZW5kU29jayhhZ2VudERhdGEsIGNhbGxiYWNrKTsKICAgIH0sIDEwMDApOwogIH0KfQoKLy/mlbDmja7mjqXmlLYKZnVuY3Rpb24gd2Vic29ja2V0b25tZXNzYWdlKGUpIHsKICBnbG9iYWxfY2FsbGJhY2soSlNPTi5wYXJzZShlLmRhdGEpKTsKfQoKLy/mlbDmja7lj5HpgIEKZnVuY3Rpb24gd2Vic29ja2V0c2VuZChhZ2VudERhdGEpIHsKICB3ZWJzb2NrLnNlbmQoSlNPTi5zdHJpbmdpZnkoYWdlbnREYXRhKSk7Cn0KCi8v5YWz6ZetCmZ1bmN0aW9uIHdlYnNvY2tldGNsb3NlKGUpIHsKICAvL2NvbnNvbGUubG9nKCJjb25uZWN0aW9uIGNsb3NlZCAoIiArIGUuY29kZSArICIpIik7Cn0KZnVuY3Rpb24gd2Vic29ja2V0T3BlbihlKSB7CiAgLy9jb25zb2xlLmxvZygi6L+e5o6l5oiQ5YqfIik7Cn0KZnVuY3Rpb24gdW5Jbml0V2ViU29ja2V0KCkgewogIHdlYnNvY2suY2xvc2UoKTsKICB3ZWJzb2NrID0gbnVsbDsKICBnbG9iYWxfY2FsbGJhY2sgPSBudWxsOwp9Ci8vaW5pdFdlYlNvY2tldCgpOwoKZXhwb3J0IHsgaW5pdFdlYlNvY2tldCwgdW5Jbml0V2ViU29ja2V0LCBzZW5kU29jayB9Ow=="},{"version":3,"names":["websock","global_callback","serverPort","ConfigURL","initWebSocket","wsuri","WS_URL","WebSocket","onmessage","e","websocketonmessage","onclose","websocketclose","onopen","websocketOpen","onerror","sendSock","agentData","callback","readyState","OPEN","websocketsend","CONNECTING","setTimeout","JSON","parse","data","send","stringify","unInitWebSocket","close"],"sources":["C:/Users/HP/Desktop/tk08/tiktok08/buyPC/src/api/socket.js"],"sourcesContent":["var websock = null;\r\nvar global_callback = null;\r\nvar serverPort = '5000';\t//webSocket连接端口\r\nimport ConfigURL from \"../config/index\";\r\n\r\nfunction initWebSocket(){ //初始化weosocket\r\n    //ws地址\r\n    var wsuri = \"ws://\" + ConfigURL.WS_URL + \":\" + serverPort;\r\n    websock = new WebSocket(wsuri);\r\n    websock.onmessage = function(e){\r\n    \twebsocketonmessage(e);\r\n    } \r\n    websock.onclose = function(e){\r\n    \twebsocketclose(e);\r\n    }\r\n    websock.onopen = function () {\r\n\t    websocketOpen();\r\n\t}\r\n    \r\n    //连接发生错误的回调方法\r\n\twebsock.onerror = function () {\r\n\t\t//console.log(\"WebSocket连接发生错误\");\r\n\t}\r\n}\r\n \r\n// 实际调用的方法\r\nfunction sendSock(agentData,callback){  \r\n    global_callback = callback;\r\n    if (websock.readyState === websock.OPEN) {\r\n    \t//若是ws开启状态\r\n        websocketsend(agentData)\r\n    }else if (websock.readyState === websock.CONNECTING) {\r\n    \t// 若是 正在开启状态，则等待1s后重新调用\r\n        setTimeout(function () {\r\n        \tsendSock(agentData,callback);\r\n        }, 1000);\r\n    }else {\r\n    \t// 若未开启 ，则等待1s后重新调用\r\n        setTimeout(function () {\r\n            sendSock(agentData,callback);\r\n        }, 1000);\r\n    }\r\n}\r\n \r\n//数据接收\r\nfunction websocketonmessage(e){ \r\n    global_callback(JSON.parse(e.data));\r\n}\r\n \r\n//数据发送\r\nfunction websocketsend(agentData){\r\n    websock.send(JSON.stringify(agentData));\r\n}\r\n \r\n//关闭\r\nfunction websocketclose(e){  \r\n    //console.log(\"connection closed (\" + e.code + \")\");\r\n}\r\n \r\nfunction websocketOpen(e){\r\n\t//console.log(\"连接成功\");\r\n}\r\n \r\nfunction unInitWebSocket()\r\n{\r\n    websock.close();\r\n    websock = null;\r\n    global_callback = null;\r\n}\r\n//initWebSocket();\r\n \r\nexport{initWebSocket,unInitWebSocket,sendSock}"],"mappings":"AAAA,IAAIA,OAAO,GAAG,IAAI;AAClB,IAAIC,eAAe,GAAG,IAAI;AAC1B,IAAIC,UAAU,GAAG,MAAM,CAAC,CAAC;AACzB,OAAOC,SAAS,MAAM,iBAAiB;AAEvC,SAASC,aAAaA,CAAA,EAAE;EAAE;EACtB;EACA,IAAIC,KAAK,GAAG,OAAO,GAAGF,SAAS,CAACG,MAAM,GAAG,GAAG,GAAGJ,UAAU;EACzDF,OAAO,GAAG,IAAIO,SAAS,CAACF,KAAK,CAAC;EAC9BL,OAAO,CAACQ,SAAS,GAAG,UAASC,CAAC,EAAC;IAC9BC,kBAAkB,CAACD,CAAC,CAAC;EACtB,CAAC;EACDT,OAAO,CAACW,OAAO,GAAG,UAASF,CAAC,EAAC;IAC5BG,cAAc,CAACH,CAAC,CAAC;EAClB,CAAC;EACDT,OAAO,CAACa,MAAM,GAAG,YAAY;IAC5BC,aAAa,CAAC,CAAC;EACnB,CAAC;;EAEE;EACHd,OAAO,CAACe,OAAO,GAAG,YAAY;IAC7B;EAAA,CACA;AACF;;AAEA;AACA,SAASC,QAAQA,CAACC,SAAS,EAACC,QAAQ,EAAC;EACjCjB,eAAe,GAAGiB,QAAQ;EAC1B,IAAIlB,OAAO,CAACmB,UAAU,KAAKnB,OAAO,CAACoB,IAAI,EAAE;IACxC;IACGC,aAAa,CAACJ,SAAS,CAAC;EAC5B,CAAC,MAAK,IAAIjB,OAAO,CAACmB,UAAU,KAAKnB,OAAO,CAACsB,UAAU,EAAE;IACpD;IACGC,UAAU,CAAC,YAAY;MACtBP,QAAQ,CAACC,SAAS,EAACC,QAAQ,CAAC;IAC7B,CAAC,EAAE,IAAI,CAAC;EACZ,CAAC,MAAK;IACL;IACGK,UAAU,CAAC,YAAY;MACnBP,QAAQ,CAACC,SAAS,EAACC,QAAQ,CAAC;IAChC,CAAC,EAAE,IAAI,CAAC;EACZ;AACJ;;AAEA;AACA,SAASR,kBAAkBA,CAACD,CAAC,EAAC;EAC1BR,eAAe,CAACuB,IAAI,CAACC,KAAK,CAAChB,CAAC,CAACiB,IAAI,CAAC,CAAC;AACvC;;AAEA;AACA,SAASL,aAAaA,CAACJ,SAAS,EAAC;EAC7BjB,OAAO,CAAC2B,IAAI,CAACH,IAAI,CAACI,SAAS,CAACX,SAAS,CAAC,CAAC;AAC3C;;AAEA;AACA,SAASL,cAAcA,CAACH,CAAC,EAAC;EACtB;AAAA;AAGJ,SAASK,aAAaA,CAACL,CAAC,EAAC;EACxB;AAAA;AAGD,SAASoB,eAAeA,CAAA,EACxB;EACI7B,OAAO,CAAC8B,KAAK,CAAC,CAAC;EACf9B,OAAO,GAAG,IAAI;EACdC,eAAe,GAAG,IAAI;AAC1B;AACA;;AAEA,SAAOG,aAAa,EAACyB,eAAe,EAACb,QAAQ","ignoreList":[]}]}