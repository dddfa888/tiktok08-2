{"remainingRequest":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\src\\page\\userInfo\\my-order\\index.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\src\\page\\userInfo\\my-order\\index.vue","mtime":1760944158225},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\babel.config.js","mtime":1760944158066},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761044715083},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\babel-loader\\lib\\index.js","mtime":1761044716268},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761044715083},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\vue-loader\\lib\\index.js","mtime":1761044716737}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgT3JkZXJJdGVtIGZyb20gIi4vY29tcG9uZW50cy9vcmRlci1pdGVtIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJteS1vcmRlciIsCiAgY29tcG9uZW50czogewogICAgT3JkZXJJdGVtCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFiczogW3sKICAgICAgICBsYWJlbDogdGhpcy4kdCgibWVzc2FnZS5ob21lLmFsbCIpLAogICAgICAgIHZhbHVlOiAiIgogICAgICB9LCB7CiAgICAgICAgbGFiZWw6IHRoaXMuJHQoIm1lc3NhZ2UuaG9tZS5wZW5kaW5nIiksCiAgICAgICAgLy8g5b6F5pSv5LuYCiAgICAgICAgdmFsdWU6ICIwIgogICAgICB9LAogICAgICAvLyB7CiAgICAgIC8vICAgbGFiZWw6IHRoaXMuJHQoIm1lc3NhZ2UuaG9tZS5jYW5jZWxsZWQiKSwgLy8g5Lul5Y+W5raICiAgICAgIC8vICAgdmFsdWU6ICctMScsCiAgICAgIC8vIH0sCiAgICAgIHsKICAgICAgICBsYWJlbDogdGhpcy4kdCgibWVzc2FnZS5ob21lLmRlbGl2ZXJlZCIpLAogICAgICAgIC8vIOW+heWPkei0pwogICAgICAgIHZhbHVlOiAiMSIKICAgICAgfSwKICAgICAgLy8gewogICAgICAvLyAgIGxhYmVsOiB0aGlzLiR0KCJtZXNzYWdlLmhvbWUuY29uZmlybWVkIiksIC8vIOW3suehruiupAogICAgICAvLyAgIHZhbHVlOiAnMicsCiAgICAgIC8vIH0sCiAgICAgIHsKICAgICAgICBsYWJlbDogdGhpcy4kdCgibWVzc2FnZS5ob21lLnJlY2VpcHQiKSwKICAgICAgICAvLyDlvoXmlLbotKcKICAgICAgICB2YWx1ZTogIjMiCiAgICAgIH0sCiAgICAgIC8vIHsKICAgICAgLy8gICBsYWJlbDogdGhpcy4kdCgibWVzc2FnZS5ob21lLmhhcnZlc3RlZCIpLCAvLyDlt7LmlLbotKcKICAgICAgLy8gICB2YWx1ZTogJzQnLAogICAgICAvLyB9LAogICAgICB7CiAgICAgICAgbGFiZWw6IHRoaXMuJHQoIm1lc3NhZ2UuaG9tZS5jb21tZW50IiksCiAgICAgICAgLy8g5bey6K+E5Lu3CiAgICAgICAgdmFsdWU6ICI0IgogICAgICB9LCB7CiAgICAgICAgbGFiZWw6IHRoaXMuJHQoIm1lc3NhZ2UuaG9tZS5yZWZ1bmQiKSwKICAgICAgICAvLyDlt7LpgIDmrL4KICAgICAgICB2YWx1ZTogIjYiCiAgICAgIH1dLAogICAgICB0YWJBY3RpdmU6ICIiLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgcGFnZU51bTogMSwKICAgICAgcGFnZVNpemU6IDUsCiAgICAgIHRvdGFsOiAwCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoewogICAgICBvcmRlckxpc3Q6ICJvcmRlci9vcmRlckxpc3QiCiAgICB9KQogIH0sCiAgd2F0Y2g6IHsKICAgIGFzeW5jIHRhYkFjdGl2ZShuZXdWYWx1ZSwgb2xkVmFsdWUpIHsKICAgICAgaWYgKG5ld1ZhbHVlICE9PSBvbGRWYWx1ZSkgewogICAgICAgIHRoaXMucmVxdWVzdERhdGEobmV3VmFsdWUgPyB7CiAgICAgICAgICBzdGF0dXM6IG5ld1ZhbHVlCiAgICAgICAgfSA6IHt9KTsKICAgICAgfQogICAgfQogIH0sCiAgYXN5bmMgbW91bnRlZCgpIHsKICAgIHRoaXMucmVxdWVzdERhdGEoKTsKICB9LAogIGFjdGl2YXRlZCgpIHsKICAgIHRoaXMucmVxdWVzdERhdGEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHRhYkNoYW5nZSh0YWIpIHsKICAgICAgaWYgKHRoaXMudGFiQWN0aXZlICE9PSB0YWIpIHsKICAgICAgICB0aGlzLnBhZ2VOdW0gPSAxOwogICAgICAgIC8vIHRoaXMubG9hZGluZyA9IHRydWUKICAgICAgICB0aGlzLnRhYkFjdGl2ZSA9IHRhYjsKICAgICAgfQogICAgfSwKICAgIC4uLm1hcEFjdGlvbnMoewogICAgICByZXF1ZXN0T3JkZXJMaXN0OiAib3JkZXIvcmVxdWVzdE9yZGVyTGlzdCIKICAgIH0pLAogICAgYXN5bmMgcmVxdWVzdERhdGEocGFyYW1zID0ge30pIHsKICAgICAgaWYgKHRoaXMubG9hZGluZykgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLnJlcXVlc3RPcmRlckxpc3QoewogICAgICAgIC4uLnBhcmFtcywKICAgICAgICAuLi57CiAgICAgICAgICBwYWdlTnVtOiB0aGlzLnBhZ2VOdW0sCiAgICAgICAgICBwYWdlU2l6ZTogdGhpcy5wYWdlU2l6ZSwKICAgICAgICAgIHN0YXR1czogdGhpcy50YWJBY3RpdmUKICAgICAgICB9CiAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICB2YXIgX3JlcyRwYWdlSW5mbzsKICAgICAgICB0aGlzLnRvdGFsID0gKChfcmVzJHBhZ2VJbmZvID0gcmVzLnBhZ2VJbmZvKSA9PT0gbnVsbCB8fCBfcmVzJHBhZ2VJbmZvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcmVzJHBhZ2VJbmZvLnRvdGFsRWxlbWVudHMpIHx8IDA7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMubG9hZGluZyk7CiAgICB9LAogICAgY3VycmVudENoYW5nZShwYWdlKSB7CiAgICAgIHRoaXMucGFnZU51bSA9IHBhZ2U7CiAgICAgIHRoaXMucmVxdWVzdERhdGEoKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["mapActions","mapGetters","OrderItem","name","components","data","tabs","label","$t","value","tabActive","loading","pageNum","pageSize","total","computed","orderList","watch","newValue","oldValue","requestData","status","mounted","activated","methods","tabChange","tab","requestOrderList","params","then","res","_res$pageInfo","pageInfo","totalElements","catch","err","console","log","currentChange","page"],"sources":["src/page/userInfo/my-order/index.vue"],"sourcesContent":["<template>\r\n  <div class=\"my-order\">\r\n    <div class=\"page-title\">{{ $t(\"message.home.myOrder\") }}</div>\r\n    <div class=\"tabs\">\r\n      <div\r\n        v-for=\"tab in tabs\"\r\n        :key=\"tab.value\"\r\n        class=\"tab-item\"\r\n        :class=\"{ active: tabActive === tab.value }\"\r\n        @click=\"tabChange(tab.value)\"\r\n      >\r\n        {{ tab.label }}\r\n      </div>\r\n    </div>\r\n    <div style=\"width: 872px\" v-loading=\"loading\">\r\n      <span v-if=\"orderList.length\">\r\n        <order-item\r\n          v-for=\"item in orderList\"\r\n          :key=\"item.id\"\r\n          :data=\"item\"\r\n          :refresh=\"requestData\"\r\n        />\r\n      </span>\r\n      <el-empty\r\n        v-if=\"!orderList.length && !loading\"\r\n        :description=\"$t('message.home.noData')\"\r\n      ></el-empty>\r\n    </div>\r\n    <div v-if=\"orderList.length || total\" class=\"common-pagination\">\r\n      <el-pagination\r\n        background\r\n        layout=\"prev, pager,next\"\r\n        class=\"es-pagination\"\r\n        :page-size=\"pageSize\"\r\n        :pager-count=\"5\"\r\n        :current-page=\"pageNum\"\r\n        :total=\"total\"\r\n        @current-change=\"currentChange\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapGetters } from \"vuex\";\r\nimport OrderItem from \"./components/order-item\";\r\nexport default {\r\n  name: \"my-order\",\r\n  components: { OrderItem },\r\n  data() {\r\n    return {\r\n      tabs: [\r\n        {\r\n          label: this.$t(\"message.home.all\"),\r\n          value: \"\",\r\n        },\r\n        {\r\n          label: this.$t(\"message.home.pending\"), // 待支付\r\n          value: \"0\",\r\n        },\r\n        // {\r\n        //   label: this.$t(\"message.home.cancelled\"), // 以取消\r\n        //   value: '-1',\r\n        // },\r\n        {\r\n          label: this.$t(\"message.home.delivered\"), // 待发货\r\n          value: \"1\",\r\n        },\r\n        // {\r\n        //   label: this.$t(\"message.home.confirmed\"), // 已确认\r\n        //   value: '2',\r\n        // },\r\n        {\r\n          label: this.$t(\"message.home.receipt\"), // 待收货\r\n          value: \"3\",\r\n        },\r\n        // {\r\n        //   label: this.$t(\"message.home.harvested\"), // 已收货\r\n        //   value: '4',\r\n        // },\r\n        {\r\n          label: this.$t(\"message.home.comment\"), // 已评价\r\n          value: \"4\",\r\n        },\r\n        {\r\n          label: this.$t(\"message.home.refund\"), // 已退款\r\n          value: \"6\",\r\n        },\r\n      ],\r\n      tabActive: \"\",\r\n      loading: false,\r\n      pageNum: 1,\r\n      pageSize: 5,\r\n      total: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      orderList: \"order/orderList\",\r\n    }),\r\n  },\r\n  watch: {\r\n    async tabActive(newValue, oldValue) {\r\n      if (newValue !== oldValue) {\r\n        this.requestData(newValue ? { status: newValue } : {});\r\n      }\r\n    },\r\n  },\r\n  async mounted() {\r\n    this.requestData();\r\n  },\r\n  activated() {\r\n    this.requestData();\r\n  },\r\n  methods: {\r\n    tabChange(tab) {\r\n      if (this.tabActive !== tab) {\r\n        this.pageNum = 1;\r\n        // this.loading = true\r\n        this.tabActive = tab;\r\n      }\r\n    },\r\n    ...mapActions({\r\n      requestOrderList: \"order/requestOrderList\",\r\n    }),\r\n    async requestData(params = {}) {\r\n      if (this.loading) {\r\n        return;\r\n      }\r\n      this.loading = true;\r\n      this.requestOrderList({\r\n        ...params,\r\n        ...{\r\n          pageNum: this.pageNum,\r\n          pageSize: this.pageSize,\r\n          status: this.tabActive,\r\n        },\r\n      })\r\n        .then((res) => {\r\n          this.total = res.pageInfo?.totalElements || 0;\r\n          this.loading = false;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          this.loading = false;\r\n        });\r\n      console.log(this.loading);\r\n    },\r\n    currentChange(page) {\r\n      this.pageNum = page;\r\n      this.requestData();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\nhtml[dir='rtl'] {\r\n  .my-order {\r\n    margin-left: 0;\r\n    margin-right: 50px;\r\n  }\r\n}\r\n.my-order {\r\n  // width: 702px;\r\n  margin-top: 32px;\r\n  margin-left: 50px;\r\n  flex: 1;\r\n\r\n  .tabs {\r\n    margin-top: 14px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n    height: 30px;\r\n    // border: 1px solid #eeeeee;\r\n    border-radius: 4px;\r\n    width: 100%;\r\n    // padding: 0 25px;\r\n\r\n    .tab-item {\r\n      height: 100%;\r\n      display: flex;\r\n      align-items: center;\r\n      // border-bottom: 2px solid transparent;\r\n      cursor: pointer;\r\n      user-select: none;\r\n      padding: 0 20px;\r\n      background-color: #eeeeee;\r\n      border-radius: 5px;\r\n      color: #999999;\r\n\r\n      &.active {\r\n        // border-bottom: 2px solid var(--color-main);\r\n        background-color: var(--color-main);\r\n        color: white;\r\n      }\r\n    }\r\n  }\r\n\r\n  .order-list {\r\n    /deep/ .option-list {\r\n      .option-item {\r\n        display: flex;\r\n        align-items: flex-start;\r\n        margin-bottom: 10px;\r\n        padding: 10px 0;\r\n\r\n        + .option-item {\r\n          border-top: 1px solid #eee;\r\n        }\r\n\r\n        &.block {\r\n          display: block;\r\n\r\n          .value {\r\n            flex: inherit;\r\n            max-width: 100%;\r\n            text-align: left;\r\n          }\r\n        }\r\n\r\n        .label {\r\n          flex: 1;\r\n          font-size: 14px;\r\n          color: #333333;\r\n        }\r\n\r\n        .value {\r\n          flex: 2;\r\n          max-width: 300px;\r\n          font-size: 14px;\r\n          color: #666666;\r\n          text-align: right;\r\n\r\n          .text {\r\n            font-weight: 600;\r\n            font-size: 14px;\r\n            color: #000000;\r\n          }\r\n\r\n          .desc {\r\n            font-weight: 500;\r\n            font-size: 12px;\r\n            color: #999999;\r\n            margin-top: 4px;\r\n          }\r\n\r\n          .price {\r\n            font-weight: 500;\r\n            font-size: 16px;\r\n            color: var(--color-price);\r\n          }\r\n\r\n          .detail-link {\r\n            font-size: 14px;\r\n            line-height: 16px;\r\n            color: var(--color-main);\r\n            cursor: pointer;\r\n            user-select: none;\r\n          }\r\n\r\n          .product-item {\r\n            display: flex;\r\n            width: 100%;\r\n            align-items: center;\r\n            margin-top: 15px;\r\n\r\n            img {\r\n              width: 62px;\r\n              height: 62px;\r\n            }\r\n\r\n            .title {\r\n              flex: 1;\r\n              margin-left: 18px;\r\n              font-weight: 400;\r\n              font-size: 14px;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    /deep/ .actions {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: flex-end;\r\n\r\n      > * + * {\r\n        margin-left: 16px;\r\n      }\r\n\r\n      .status {\r\n        text-align: right;\r\n\r\n        &.unReturn {\r\n          color: #999;\r\n        }\r\n\r\n        &.running {\r\n          color: var(--color-main);\r\n        }\r\n\r\n        &.success {\r\n          color: #32aa15;\r\n        }\r\n\r\n        &.fail {\r\n          color: #e10015;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"AA4CA,SAAAA,UAAA,EAAAC,UAAA;AACA,OAAAC,SAAA;AACA;EACAC,IAAA;EACAC,UAAA;IAAAF;EAAA;EACAG,KAAA;IACA;MACAC,IAAA,GACA;QACAC,KAAA,OAAAC,EAAA;QACAC,KAAA;MACA,GACA;QACAF,KAAA,OAAAC,EAAA;QAAA;QACAC,KAAA;MACA;MACA;MACA;MACA;MACA;MACA;QACAF,KAAA,OAAAC,EAAA;QAAA;QACAC,KAAA;MACA;MACA;MACA;MACA;MACA;MACA;QACAF,KAAA,OAAAC,EAAA;QAAA;QACAC,KAAA;MACA;MACA;MACA;MACA;MACA;MACA;QACAF,KAAA,OAAAC,EAAA;QAAA;QACAC,KAAA;MACA,GACA;QACAF,KAAA,OAAAC,EAAA;QAAA;QACAC,KAAA;MACA,EACA;MACAC,SAAA;MACAC,OAAA;MACAC,OAAA;MACAC,QAAA;MACAC,KAAA;IACA;EACA;EACAC,QAAA;IACA,GAAAd,UAAA;MACAe,SAAA;IACA;EACA;EACAC,KAAA;IACA,MAAAP,UAAAQ,QAAA,EAAAC,QAAA;MACA,IAAAD,QAAA,KAAAC,QAAA;QACA,KAAAC,WAAA,CAAAF,QAAA;UAAAG,MAAA,EAAAH;QAAA;MACA;IACA;EACA;EACA,MAAAI,QAAA;IACA,KAAAF,WAAA;EACA;EACAG,UAAA;IACA,KAAAH,WAAA;EACA;EACAI,OAAA;IACAC,UAAAC,GAAA;MACA,SAAAhB,SAAA,KAAAgB,GAAA;QACA,KAAAd,OAAA;QACA;QACA,KAAAF,SAAA,GAAAgB,GAAA;MACA;IACA;IACA,GAAA1B,UAAA;MACA2B,gBAAA;IACA;IACA,MAAAP,YAAAQ,MAAA;MACA,SAAAjB,OAAA;QACA;MACA;MACA,KAAAA,OAAA;MACA,KAAAgB,gBAAA;QACA,GAAAC,MAAA;QACA;UACAhB,OAAA,OAAAA,OAAA;UACAC,QAAA,OAAAA,QAAA;UACAQ,MAAA,OAAAX;QACA;MACA,GACAmB,IAAA,CAAAC,GAAA;QAAA,IAAAC,aAAA;QACA,KAAAjB,KAAA,KAAAiB,aAAA,GAAAD,GAAA,CAAAE,QAAA,cAAAD,aAAA,uBAAAA,aAAA,CAAAE,aAAA;QACA,KAAAtB,OAAA;MACA,GACAuB,KAAA,CAAAC,GAAA;QACAC,OAAA,CAAAC,GAAA,CAAAF,GAAA;QACA,KAAAxB,OAAA;MACA;MACAyB,OAAA,CAAAC,GAAA,MAAA1B,OAAA;IACA;IACA2B,cAAAC,IAAA;MACA,KAAA3B,OAAA,GAAA2B,IAAA;MACA,KAAAnB,WAAA;IACA;EACA;AACA","ignoreList":[]}]}