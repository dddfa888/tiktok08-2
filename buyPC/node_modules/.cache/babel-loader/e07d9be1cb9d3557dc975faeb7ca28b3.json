{"remainingRequest":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\src\\page\\productDetailsPage\\productLike.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\src\\page\\productDetailsPage\\productLike.vue","mtime":1760944158215},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\babel.config.js","mtime":1760944158066},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761044715083},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\babel-loader\\lib\\index.js","mtime":1761044716268},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761044715083},{"path":"C:\\Users\\HP\\Desktop\\tiktok08-2\\buyPC\\node_modules\\vue-loader\\lib\\index.js","mtime":1761044716737}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgQWxzb0xpa2UgfSBmcm9tICJAL2FwaS9wcm9kdWN0RGV0YWlscyI7CmltcG9ydCBFc1Byb2R1Y3RWaWV3IGZyb20gIkAvY29tcG9uZW50cy9wcm9kdWN0IjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgQnVzIGZyb20gJ0AvdXRpbC9idXMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkVzUHJvZHVjdExpa2UiLAogIGNvbXBvbmVudHM6IHsKICAgIEVzUHJvZHVjdFZpZXcKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsiaXNMb2dpbiJdKQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1lcmNoYW50R29vZHNMaXN0OiBbXQogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICAvLyBpZiAodGhpcy5pc0xvZ2luKSB7CgogICAgLy8gICBzZXRUaW1lb3V0KCgpID0+IHsKICAgIC8vICAgICBjb25zb2xlLmxvZygnMjIgLT4nLCAyMik7CiAgICAvLyAgICAgdGhpcy5nZXRMaWtlKCk7CiAgICAvLyAgIH0sIDUwMCk7CiAgICAvLyB9CiAgICBCdXMuJG9uKCJ1cGRhdGVDb2xsZWN0IiwgaWQgPT4gewogICAgICAvLyB0aGlzLmdldExpa2UoKTsKICAgICAgY29uc3QgaSA9IHRoaXMubWVyY2hhbnRHb29kc0xpc3QuZmluZEluZGV4KHggPT4geC5pZCA9PSBpZCk7CiAgICAgIGlmIChpID4gLTEpIHsKICAgICAgICB0aGlzLmdldExpa2UoKTsKICAgICAgfQogICAgfSk7CiAgICBCdXMuJG9uKCJ1cGRhdGVVbktlZXAiLCBpZCA9PiB7CiAgICAgIC8vIHRoaXMuZ2V0TGlrZSgpOwogICAgICBjb25zdCBpID0gdGhpcy5tZXJjaGFudEdvb2RzTGlzdC5maW5kSW5kZXgoeCA9PiB4LmlkID09IGlkKTsKICAgICAgaWYgKGkgPiAtMSkgewogICAgICAgIHRoaXMuZ2V0TGlrZSgpOwogICAgICB9CiAgICB9KTsKICAgIEJ1cy4kb24oImNvbGxlY3QiLCBpZCA9PiB7CiAgICAgIC8vIHRoaXMuZ2V0TGlrZSgpOwogICAgICBjb25zdCBpID0gdGhpcy5tZXJjaGFudEdvb2RzTGlzdC5maW5kSW5kZXgoeCA9PiB4LmlkID09IGlkKTsKICAgICAgaWYgKGkgPiAtMSkgewogICAgICAgIHRoaXMuZ2V0TGlrZSgpOwogICAgICB9CiAgICB9KTsKICAgIEJ1cy4kb24oIlVuQ29sbGVjdCIsIGlkID0+IHsKICAgICAgLy8gdGhpcy5nZXRMaWtlKCk7CiAgICAgIGNvbnN0IGkgPSB0aGlzLm1lcmNoYW50R29vZHNMaXN0LmZpbmRJbmRleCh4ID0+IHguaWQgPT0gaWQpOwogICAgICBpZiAoaSA+IC0xKSB7CiAgICAgICAgdGhpcy5nZXRMaWtlKCk7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgZ2V0TGlrZSgpIHsKICAgICAgbGV0IHNlbGxlcklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oInNlbGxlcklkIik7CiAgICAgIGNvbnNvbGUubG9nKCdzZWxsZXJJZCAtPicsIHNlbGxlcklkKTsKICAgICAgaWYgKHNlbGxlcklkKSB7CiAgICAgICAgdmFyIF9yZXMkZGF0YTsKICAgICAgICBsZXQgcmVzID0gYXdhaXQgQWxzb0xpa2UoewogICAgICAgICAgdHlwZTogMSwKICAgICAgICAgIHNlbGxlcklkOiBzZWxsZXJJZAogICAgICAgIH0pOwogICAgICAgIHRoaXMubWVyY2hhbnRHb29kc0xpc3QgPSAoX3JlcyRkYXRhID0gcmVzLmRhdGEpID09PSBudWxsIHx8IF9yZXMkZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3JlcyRkYXRhLnNwbGljZSgwLCAxMik7CiAgICAgIH0KCiAgICAgIC8vIGNvbnNvbGUubG9nKCdyZXMgLT4nLCByZXMpOwogICAgfQogIH0KfTs="},{"version":3,"names":["AlsoLike","EsProductView","mapGetters","Bus","name","components","computed","data","merchantGoodsList","mounted","$on","id","i","findIndex","x","getLike","methods","sellerId","localStorage","getItem","console","log","_res$data","res","type","splice"],"sources":["src/page/productDetailsPage/productLike.vue"],"sourcesContent":["<template>\r\n  <div class=\"like\" v-if=\"merchantGoodsList.length\">\r\n    <h1 class=\"title\">\r\n      {{ this.$t(\"message.home.猜你喜欢\" /**商品描述 */) }}\r\n    </h1>\r\n    <div class=\"product-details-content-item1\">\r\n      <!-- <div style=\"width: 166px\"> -->\r\n      <EsProductView\r\n        v-for=\"(item) in merchantGoodsList\"\r\n        :key=\"item.isKeep + Math.random()\"\r\n        :item=\"item\"\r\n        :belike=\"true\"\r\n      />\r\n      <!-- </div> -->\r\n      <div class=\"no-data\" v-if=\"!merchantGoodsList.length\">\r\n        <el-empty\r\n          :description=\"$t('message.home.noData')\"\r\n          style=\"width: 100%\"\r\n        ></el-empty>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { AlsoLike } from \"@/api/productDetails\";\r\n  import EsProductView from \"@/components/product\";\r\n  import { mapGetters } from \"vuex\";\r\n  import Bus from '@/util/bus'\r\n  export default {\r\n    name: \"EsProductLike\",\r\n    components: { EsProductView },\r\n    computed: { ...mapGetters([\"isLogin\"]) },\r\n    data() {\r\n      return {\r\n        merchantGoodsList: [],\r\n      };\r\n    },\r\n    mounted() {\r\n      // if (this.isLogin) {\r\n        \r\n      //   setTimeout(() => {\r\n      //     console.log('22 ->', 22);\r\n      //     this.getLike();\r\n      //   }, 500);\r\n      // }\r\n      Bus.$on(\"updateCollect\", (id) => {\r\n        // this.getLike();\r\n        const i = this.merchantGoodsList.findIndex(x => x.id == id);\r\n        if (i > -1) {\r\n          this.getLike();\r\n        }\r\n      });\r\n      Bus.$on(\"updateUnKeep\", (id) => {\r\n        // this.getLike();\r\n        const i = this.merchantGoodsList.findIndex(x => x.id == id);\r\n        if (i > -1) {\r\n          this.getLike();\r\n        }\r\n      });\r\n      Bus.$on(\"collect\", (id) => {\r\n        // this.getLike();\r\n        const i = this.merchantGoodsList.findIndex(x => x.id == id);\r\n        if (i > -1) {\r\n          this.getLike();\r\n        }\r\n      });\r\n      Bus.$on(\"UnCollect\", (id) => {\r\n        // this.getLike();\r\n        const i = this.merchantGoodsList.findIndex(x => x.id == id);\r\n        if (i > -1) {\r\n          this.getLike();\r\n        }\r\n      });\r\n    },\r\n    methods: {\r\n      async getLike() {\r\n        let sellerId = localStorage.getItem(\"sellerId\");\r\n        console.log('sellerId ->', sellerId);\r\n        if(sellerId){\r\n          let res = await AlsoLike({\r\n          type: 1,\r\n          sellerId: sellerId,\r\n        });\r\n          this.merchantGoodsList = res.data?.splice(0, 12);\r\n          \r\n        }\r\n        \r\n        // console.log('res ->', res);\r\n        \r\n      },\r\n    },\r\n  };\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  // .product-details-content {\r\n  //   width: 957px;\r\n  //   padding: 20px 0;\r\n  //   margin-bottom: 28px;\r\n  .like {\r\n    width: 1200px;\r\n    margin: 0 auto;\r\n  }\r\n  .title {\r\n    font-weight: 600;\r\n    font-size: 20px;\r\n    color: var(--color-title);\r\n    margin-bottom: 10px;\r\n    margin-top: 38px;\r\n    margin-left: 0 !important;\r\n  }\r\n  .product-details-content-item1 {\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fit, minmax(185px, 165px));\r\n    grid-column-gap: 15px;\r\n    grid-row-gap: 12px;\r\n    align-content: center;\r\n  }\r\n</style>\r\n"],"mappings":"AAyBA,SAAAA,QAAA;AACA,OAAAC,aAAA;AACA,SAAAC,UAAA;AACA,OAAAC,GAAA;AACA;EACAC,IAAA;EACAC,UAAA;IAAAJ;EAAA;EACAK,QAAA;IAAA,GAAAJ,UAAA;EAAA;EACAK,KAAA;IACA;MACAC,iBAAA;IACA;EACA;EACAC,QAAA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACAN,GAAA,CAAAO,GAAA,kBAAAC,EAAA;MACA;MACA,MAAAC,CAAA,QAAAJ,iBAAA,CAAAK,SAAA,CAAAC,CAAA,IAAAA,CAAA,CAAAH,EAAA,IAAAA,EAAA;MACA,IAAAC,CAAA;QACA,KAAAG,OAAA;MACA;IACA;IACAZ,GAAA,CAAAO,GAAA,iBAAAC,EAAA;MACA;MACA,MAAAC,CAAA,QAAAJ,iBAAA,CAAAK,SAAA,CAAAC,CAAA,IAAAA,CAAA,CAAAH,EAAA,IAAAA,EAAA;MACA,IAAAC,CAAA;QACA,KAAAG,OAAA;MACA;IACA;IACAZ,GAAA,CAAAO,GAAA,YAAAC,EAAA;MACA;MACA,MAAAC,CAAA,QAAAJ,iBAAA,CAAAK,SAAA,CAAAC,CAAA,IAAAA,CAAA,CAAAH,EAAA,IAAAA,EAAA;MACA,IAAAC,CAAA;QACA,KAAAG,OAAA;MACA;IACA;IACAZ,GAAA,CAAAO,GAAA,cAAAC,EAAA;MACA;MACA,MAAAC,CAAA,QAAAJ,iBAAA,CAAAK,SAAA,CAAAC,CAAA,IAAAA,CAAA,CAAAH,EAAA,IAAAA,EAAA;MACA,IAAAC,CAAA;QACA,KAAAG,OAAA;MACA;IACA;EACA;EACAC,OAAA;IACA,MAAAD,QAAA;MACA,IAAAE,QAAA,GAAAC,YAAA,CAAAC,OAAA;MACAC,OAAA,CAAAC,GAAA,gBAAAJ,QAAA;MACA,IAAAA,QAAA;QAAA,IAAAK,SAAA;QACA,IAAAC,GAAA,SAAAvB,QAAA;UACAwB,IAAA;UACAP,QAAA,EAAAA;QACA;QACA,KAAAT,iBAAA,IAAAc,SAAA,GAAAC,GAAA,CAAAhB,IAAA,cAAAe,SAAA,uBAAAA,SAAA,CAAAG,MAAA;MAEA;;MAEA;IAEA;EACA;AACA","ignoreList":[]}]}