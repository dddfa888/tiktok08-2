{"remainingRequest":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\src\\page\\creditPage\\myLoan.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\src\\page\\creditPage\\myLoan.vue","mtime":1760944158211},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\babel.config.js","mtime":1760944158066},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761044715083},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\babel-loader\\lib\\index.js","mtime":1761044716268},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1761044715083},{"path":"C:\\Users\\HP\\Desktop\\tk08\\tiktok08\\buyPC\\node_modules\\vue-loader\\lib\\index.js","mtime":1761044716737}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLml0ZXJhdG9yLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuaXRlcmF0b3IuZmlsdGVyLmpzIjsKaW1wb3J0IHsgQmlsbENyZWRpdCwgQ3JlZGl0SGlzdG9yeSwgQmVmb3JlUGF5Q3JlZGl0LCBwYXlDcmVkaXQgfSBmcm9tICJAL2FwaS9jcmVkaXQiOwppbXBvcnQgRXNQYXlQYXNzd29yZCBmcm9tICJAL2NvbXBvbmVudHMvcGF5UGFzc3dvcmQiOwppbXBvcnQgeyBudW1iZXJGb3JtYXQgfSBmcm9tICJAL3V0aWwiOwppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBBY3Rpb25zIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBFc1BheVBhc3N3b3JkCiAgfSwKICBwcm9wczogewogICAgc2hvdzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHBheUNhbGxiYWNrOiB7CiAgICAgIHR5cGU6IEZ1bmN0aW9uLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgcGF5TG9hZGluZzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgbW9kZWw6IHsKICAgIHByb3A6ICJzaG93IiwKICAgIGV2ZW50OiAidXBkYXRlIgogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGhpc3RvcnlMaXN0OiBbXSwKICAgICAgcGFnZVNpemU6IDEwLAogICAgICBwYWdlTnVtOiAxLAogICAgICB0b3RhbDogMiwKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgZGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIHJlYWxuYW1lOiAiIiwKICAgICAgY3JlZGl0UmF0ZTogMCwKICAgICAgYWxyZWFkeUNyZWRpdERheXM6IDAsCiAgICAgIGVzdGltYXRlUGF5bWVudDogMCwKICAgICAgYWNjb3VudEFtb3VudDogMCwKICAgICAgcGFzc3dvcmREaWFsb2c6IGZhbHNlLAogICAgICBwYXNzd29yZDogIiIsCiAgICAgIC8vIDAg5pSv5LuY55WM6Z2iIDEg6K6+572u5pSv5LuY5a+G56CBIDIg56Gu6K6k5pSv5LuY5a+G56CBCiAgICAgIHNob3dNb2RlbDogMCwKICAgICAgbXlsb2FuOiAiLS0iLAogICAgICBkYXk6ICItLSIsCiAgICAgIEludGVyZXN0OiAiLS0iLAogICAgICByZXBheTogIi0tIiwKICAgICAgZGlzYmxlOiBmYWxzZSwKICAgICAgZm91Y2U6IGZhbHNlLAogICAgICBmaXJzdFBhdzogMCwKICAgICAgc2Vjb25kUGF3OiAwCiAgICB9OwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0Q3JlZGl0TGlzdCgpOwogICAgdGhpcy5nZXRDcmVkaXRIaXN0b3J5KDEpOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoewogICAgICB1c2VySW5mbzogInVzZXJJbmZvIgogICAgfSkKICB9LAogIG1ldGhvZHM6IHsKICAgIC4uLm1hcEFjdGlvbnMoewogICAgICBzZXRTYWZld29yZEZ1bmM6ICJvcmRlci9zZXRTYWZld29yZEZ1bmMiCiAgICB9KSwKICAgIG51bWJlckZvcm1hdCwKICAgIGFzeW5jIGdldENyZWRpdExpc3QoKSB7CiAgICAgIGxldCByZXMgPSBhd2FpdCBCaWxsQ3JlZGl0KCk7CiAgICAgIHRoaXMubXlsb2FuID0gdGhpcy5udW1iZXJGb3JtYXQocmVzLmRhdGEuYXBwbHlBbW91bnQpID8gdGhpcy5udW1iZXJGb3JtYXQocmVzLmRhdGEuYXBwbHlBbW91bnQpIDogIi0tIjsKICAgICAgdGhpcy5kYXkgPSByZXMuZGF0YS5hbHJlYWR5Q3JlZGl0RGF5cyA/IHJlcy5kYXRhLmFscmVhZHlDcmVkaXREYXlzIDogIi0tIjsKICAgICAgdGhpcy5JbnRlcmVzdCA9IHRoaXMubnVtYmVyRm9ybWF0KHJlcy5kYXRhLmludGVyZXN0KSA/IHRoaXMubnVtYmVyRm9ybWF0KHJlcy5kYXRhLmludGVyZXN0KSA6ICItLSI7CiAgICAgIHRoaXMucmVwYXkgPSB0aGlzLm51bWJlckZvcm1hdChyZXMuZGF0YS5lc3RpbWF0ZVBheW1lbnQpID8gdGhpcy5udW1iZXJGb3JtYXQocmVzLmRhdGEuZXN0aW1hdGVQYXltZW50KSA6ICItLSI7CiAgICB9LAogICAgYXN5bmMgZ2V0Q3JlZGl0SGlzdG9yeSgpIHsKICAgICAgbGV0IHJlcyA9IGF3YWl0IENyZWRpdEhpc3RvcnkoewogICAgICAgIHBhZ2VObzogdGhpcy5wYWdlTnVtCiAgICAgIH0pOwogICAgICB0aGlzLmhpc3RvcnlMaXN0ID0gcmVzLmRhdGEuZWxlbWVudHM7CiAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB0aGlzLnRvdGFsID0gcmVzLmRhdGEudG90YWxFbGVtZW50czsKICAgIH0sCiAgICBjdXJyZW50Q2hhbmdlKHBhZ2UpIHsKICAgICAgdGhpcy5wYWdlTnVtID0gcGFnZTsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5nZXREaWNvdW50ZWRMaXN0KCk7CiAgICB9LAogICAgZ29QYWdlKGlkKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvY3JlZGl0L2FwcGxpY2F0aW9uP2lkPSIgKyBpZCk7CiAgICB9LAogICAgYXN5bmMgY3JlZGl0RGV0YWlsKGlkKSB7CiAgICAgIGxldCByZXMgPSBhd2FpdCBCZWZvcmVQYXlDcmVkaXQoewogICAgICAgIHBhZ2VObzogIjEiLAogICAgICAgIGNyZWRpdElkOiBpZAogICAgICB9KTsKICAgICAgdGhpcy5yZWFsbmFtZSA9IHJlcy5kYXRhLnJlYWxOYW1lOwogICAgICB0aGlzLmNyZWRpdFJhdGUgPSByZXMuZGF0YS5jcmVkaXRSYXRlICogMTAwOwogICAgICB0aGlzLmFscmVhZHlDcmVkaXREYXlzID0gcmVzLmRhdGEuYWxyZWFkeUNyZWRpdERheXM7CiAgICAgIHRoaXMuZXN0aW1hdGVQYXltZW50ID0gcmVzLmRhdGEuZXN0aW1hdGVQYXltZW50OwogICAgICB0aGlzLmFjY291bnRBbW91bnQgPSByZXMuZGF0YS5hY2NvdW50QW1vdW50OwogICAgfSwKICAgIFJlcGF5bWVudChpZCkgewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgICB0aGlzLmNyZWRpdERldGFpbChpZCk7CiAgICAgIHRoaXMuY3JlZGl0SWQgPSBpZDsKICAgIH0sCiAgICBwYXlDb250ZW50KCkgewogICAgICBpZiAodGhpcy5mb3VjZSkgewogICAgICAgIHRoaXMuJHJlZnMucGFzc3dvcmRSZWYuY2xlYXIoKTsKICAgICAgfQogICAgICBpZiAoIXRoaXMudXNlckluZm8uc2FmZXdvcmQpIHsKICAgICAgICAvLyDorr7nva7mlK/ku5jlr4bnoIEKICAgICAgICB0aGlzLnBhc3N3b3JkRGlhbG9nID0gdHJ1ZTsKICAgICAgICB0aGlzLnNob3dNb2RlbCA9IDE7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2hvd01vZGVsID0gMDsKICAgICAgICB0aGlzLnBhc3N3b3JkRGlhbG9nID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIHByZXZpb3VzKCkgewogICAgICB0aGlzLnNob3dNb2RlbCA9IDE7CiAgICAgIC8vIHRoaXMuJGVtaXQoJ2NoYW5nZVNob3dNb2RlbCcsIDEpCiAgICAgIHRoaXMuJHJlZnMucGFzc3dvcmRSZWYuY2xlYXIoKTsKICAgIH0sCiAgICBzZXRVcFBhdygpIHsKICAgICAgLy8g6K6+572u5pSv5LuY5a+G56CBCiAgICAgIC8vIHRoaXMuJGVtaXQoJ2NoYW5nZVNob3dNb2RlbCcsIDIpCiAgICAgIGNvbnN0IHBhc3N3b3JkQXJyID0gdGhpcy4kcmVmcy5wYXNzd29yZFJlZi5jb2RlRGF0YTsKICAgICAgY29uc3QgZmlsdGVyUGFzc3dvcmQgPSBwYXNzd29yZEFyci5maWx0ZXIoaXRlbSA9PiBpdGVtICE9PSAiIik7CiAgICAgIGlmIChmaWx0ZXJQYXNzd29yZC5sZW5ndGggPT09IDYpIHsKICAgICAgICB0aGlzLnNob3dNb2RlbCA9IDI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiB0aGlzLiR0KCJtZXNzYWdlLmhvbWUu6K+36L6T5YWl5a6M5pW055qE5pSv5LuY5a+G56CBISIpLAogICAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgdGhpcy4kcmVmcy5wYXNzd29yZFJlZi5jbGVhcigpOwogICAgfSwKICAgIGNvbmZpcm1QYXlQYXcoKSB7CiAgICAgIC8vIOWGjeasoeehruiupOaUr+S7mOWvhueggQogICAgICBpZiAodGhpcy5maXJzdFBhdyA9PT0gdGhpcy5zZWNvbmRQYXcpIHsKICAgICAgICB0aGlzLnNldFNhZmV3b3JkKHRoaXMuZmlyc3RQYXcsIHRoaXMuc2Vjb25kUGF3KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoIm1lc3NhZ2UuaG9tZS50d29QYXd3b3JkIiksCiAgICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgICB9KTsKICAgICAgICB0aGlzLiRyZWZzLnBhc3N3b3JkUmVmLmNsZWFyKCk7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBzZXRTYWZld29yZChzYWZld29yZCwgcmVfc2FmZXdvcmQpIHsKICAgICAgdHJ5IHsKICAgICAgICBhd2FpdCB0aGlzLnNldFNhZmV3b3JkRnVuYyh7CiAgICAgICAgICBzYWZld29yZCwKICAgICAgICAgIHJlX3NhZmV3b3JkCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5zaG93TW9kZWwgPSAwOwogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcyh0aGlzLiR0KCJtZXNzYWdlLmhvbWUuc2V0U3VjY2VzcyIpKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHt9CiAgICB9LAogICAgYXN5bmMgcGF5KCkgewogICAgICBpZiAodGhpcy5hY2NvdW50QW1vdW50IDwgdGhpcy5lc3RpbWF0ZVBheW1lbnQpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuJHQoIm1lc3NhZ2UuaG9tZS5iYWxhbmNlTm90IiksCiAgICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRyZWZzLnBhc3N3b3JkUmVmLmNsZWFyKCk7CiAgICAgICAgbGV0IHJlcyA9IGF3YWl0IHBheUNyZWRpdCh7CiAgICAgICAgICBjcmVkaXRJZDogdGhpcy5jcmVkaXRJZCwKICAgICAgICAgIHNhZmV3b3JkOiB0aGlzLnBhc3N3b3JkCiAgICAgICAgfSk7CiAgICAgICAgaWYgKHJlcy5jb2RlID09IDEpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKCIyMjIgLT4iLCAyMjIpOwogICAgICAgICAgdGhpcy4kcmVmcy5wYXNzd29yZFJlZi5jbGVhcigpOwogICAgICAgIH0KICAgICAgICBpZiAocmVzLmNvZGUgPT0gMCkgewogICAgICAgICAgdGhpcy5kaWFsb2dWaXNpYmxlID0gZmFsc2U7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogdGhpcy4kdCgibWVzc2FnZS5ob21lLnBheW1lbnRTdWNjZXNzZnVsIiksCiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIgogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLmdldENyZWRpdEhpc3RvcnkoKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdGhpcy5wYXNzd29yZERpYWxvZyA9IGZhbHNlOwogICAgICB9LCAyMDApOwogICAgfSwKICAgIG91dHB1dCh7CiAgICAgIGRhdGEsCiAgICAgIGlzZmluaXNoZWQKICAgIH0pIHsKICAgICAgLy8gY29uc29sZS5sb2coImRhdGEsaXNmaW5pc2hlZCAtPiIsIGRhdGEsIGlzZmluaXNoZWQpOwogICAgICB0aGlzLmZvdWNlID0gdHJ1ZTsKICAgICAgaWYgKGlzZmluaXNoZWQpIHsKICAgICAgICBpZiAodGhpcy5zaG93TW9kZWwgPT09IDEpIHsKICAgICAgICAgIHRoaXMuZmlyc3RQYXcgPSBkYXRhOwogICAgICAgIH0gZWxzZSBpZiAodGhpcy5zaG93TW9kZWwgPT09IDIpIHsKICAgICAgICAgIHRoaXMuc2Vjb25kUGF3ID0gZGF0YTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2hvd01vZGVsID09PSAwKSB7CiAgICAgICAgICB0aGlzLnBhc3N3b3JkID0gZGF0YTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"names":["BillCredit","CreditHistory","BeforePayCredit","payCredit","EsPayPassword","numberFormat","mapGetters","mapActions","components","props","show","type","Boolean","default","payCallback","Function","payLoading","model","prop","event","data","historyList","pageSize","pageNum","total","loading","dialogVisible","realname","creditRate","alreadyCreditDays","estimatePayment","accountAmount","passwordDialog","password","showModel","myloan","day","Interest","repay","disble","fouce","firstPaw","secondPaw","mounted","getCreditList","getCreditHistory","computed","userInfo","methods","setSafewordFunc","res","applyAmount","interest","pageNo","elements","totalElements","currentChange","page","getDicountedList","goPage","id","$router","push","creditDetail","creditId","realName","Repayment","payContent","$refs","passwordRef","clear","safeword","previous","setUpPaw","passwordArr","codeData","filterPassword","filter","item","length","$message","message","$t","confirmPayPaw","setSafeword","re_safeword","success","error","pay","code","console","log","setTimeout","output","isfinished"],"sources":["src/page/creditPage/myLoan.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-container loan\">\r\n    <div class=\"mine\">\r\n      <div class=\"left\">\r\n        <div class=\"title\">{{ $t(\"message.home.myloan\") }}</div>\r\n        <div class=\"money\">{{ myloan }}</div>\r\n        <div class=\"details\">\r\n          <div>\r\n            <span>{{ day }}{{ $t(\"message.home.days\") }}</span>\r\n            <p>{{ $t(\"message.home.loaned\") }}</p>\r\n          </div>\r\n          <div>\r\n            <span>{{ Interest }}</span>\r\n            <p>{{ $t(\"message.home.interest\") }}</p>\r\n          </div>\r\n          <div>\r\n            <span>{{ repay }}</span>\r\n            <p>{{ $t(\"message.home.esRepayment\") }}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"right\" v-if=\"disble\">\r\n        <div @click=\"goPage\">\r\n          {{ $t(\"message.home.applyLoan\") }}\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"record-title\">{{ $t(\"message.home.loanHistory\") }}</div>\r\n    <div class=\"record\">\r\n      <div v-loading=\"loading\">\r\n        <div class=\"list\" v-for=\"(item, i) in historyList\" :key=\"i\">\r\n          <img src=\"@/assets/image/record.png\" alt=\"\" />\r\n          <div class=\"item date-box\">\r\n            <div class=\"money\">{{ numberFormat(item.applyAmount) }}</div>\r\n            <div class=\"date\">\r\n              {{ $t(\"message.home.applicantDate\") }}:{{\r\n                $formatZoneDate(item.customerSubmitTime)\r\n              }}\r\n            </div>\r\n          </div>\r\n          <div class=\"item-container\">\r\n            <div class=\"item\">\r\n              <span class=\"date\"\r\n                >{{ item.creditPeriod }}{{ $t(\"message.home.days\") }}</span\r\n              >\r\n              <span class=\"date\">{{ $t(\"message.home.cycle\") }}</span>\r\n            </div>\r\n            <div class=\"item\">\r\n              <span class=\"date\">{{ item.creditRate * 100 }}%</span>\r\n              <span class=\"date\">{{ $t(\"message.home.fixedRate\") }}</span>\r\n            </div>\r\n            <div class=\"status\" v-if=\"item.status == 2\">\r\n              {{ $t(\"message.home.successLoan\") }}\r\n            </div>\r\n            <div class=\"status fail\" v-if=\"item.status == 4\">\r\n              {{ $t(\"message.home.borrow\") }}\r\n            </div>\r\n            <div class=\"status application\" v-if=\"item.status == 1\">\r\n              {{ $t(\"message.home.applicantIn\") }}\r\n            </div>\r\n            <div class=\"status finish\" v-if=\"item.status == 5\">\r\n              {{ $t(\"message.home.repaid\") }}\r\n            </div>\r\n            <div class=\"status overdue\" v-if=\"item.status == 3\">\r\n              {{ $t(\"message.home.overdue\") }}\r\n            </div>\r\n            <div\r\n              class=\"btn\"\r\n              v-if=\"item.status == 2 || item.status == 3\"\r\n              @click=\"Repayment(item.id)\"\r\n            >\r\n              {{ $t(\"message.home.repayment\") }}\r\n            </div>\r\n            <div\r\n              class=\"btn fail-btn\"\r\n              v-if=\"item.status == 4\"\r\n              @click=\"goPage(item.id)\"\r\n            >\r\n              {{ $t(\"message.home.Reapply\") }}\r\n            </div>\r\n            <div\r\n              class=\"default\"\r\n              v-if=\"item.status !== 4 && item.status !== 2 && item.status !== 3\"\r\n            >\r\n              --\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"common-pagination\">\r\n        <el-pagination\r\n          v-if=\"historyList.length\"\r\n          background\r\n          layout=\"prev, pager, next\"\r\n          :page-size=\"pageSize\"\r\n          :current-page=\"pageNum\"\r\n          :total=\"total\"\r\n          @current-change=\"currentChange\"\r\n        />\r\n      </div>\r\n      <el-dialog\r\n        class=\"es-dialog\"\r\n        :visible.sync=\"dialogVisible\"\r\n        width=\"442px\"\r\n        :title=\"$t('message.home.estirepay')\"\r\n      >\r\n        <div>\r\n          <span>{{ $t(\"message.home.applicant\") }}</span>\r\n          <el-input :value=\"realname\" disabled />\r\n          <span>{{ $t(\"message.home.loanDays\") }}</span>\r\n          <el-input :value=\"alreadyCreditDays\" disabled />\r\n          <span>{{ $t(\"message.home.reAmount\") }}</span>\r\n          <el-input :value=\"numberFormat(estimatePayment)\" disabled />\r\n          <span>{{ $t(\"message.home.rates\") }}</span>\r\n          <el-input :value=\"creditRate + '%'\" disabled />\r\n          <span>{{ $t(\"message.home.accountB\") }}</span>\r\n          <el-input :value=\"numberFormat(accountAmount)\" disabled />\r\n          <el-button @click=\"payContent()\">{{\r\n            $t(\"message.home.repayment\")\r\n          }}</el-button>\r\n        </div>\r\n      </el-dialog>\r\n\r\n      <el-dialog\r\n        class=\"es-dialog\"\r\n        :visible.sync=\"passwordDialog\"\r\n        :center=\"true\"\r\n        :append-to-body=\"true\"\r\n        width=\"475px\"\r\n      >\r\n        <div slot=\"title\" class=\"dialog-title\">\r\n          <span v-if=\"showModel === 0\">{{ $t(\"message.home.desc3\") }}</span>\r\n          <span v-if=\"showModel === 1\">{{\r\n            $t(\"message.home.setUpPayPaw\")\r\n          }}</span>\r\n          <span v-if=\"showModel === 2\">{{\r\n            $t(\"message.home.confirmPayPaw\")\r\n          }}</span>\r\n        </div>\r\n        <div class=\"pay-modal-content dialog-content\">\r\n          <h2 class=\"pay-modal-title\" v-if=\"showModel !== 2\">\r\n            {{ $t(\"message.home.desc4\") }}\r\n          </h2>\r\n          <h2 class=\"pay-modal-title\" v-if=\"showModel === 2\">\r\n            {{ $t(\"message.home.desc6\") }}\r\n          </h2>\r\n          <EsPayPassword\r\n            ref=\"passwordRef\"\r\n            :type=\"'password'\"\r\n            :maxlength=\"6\"\r\n            @output=\"output\"\r\n          />\r\n          <div class=\"pay-modal-btn\">\r\n            <el-button\r\n              type=\"primary\"\r\n              :loading=\"payLoading\"\r\n              @click=\"pay\"\r\n              v-if=\"showModel === 0\"\r\n            >\r\n              {{ $t(\"message.home.确认\") }}\r\n            </el-button>\r\n            <el-button\r\n              type=\"primary\"\r\n              :loading=\"payLoading\"\r\n              @click=\"setUpPaw\"\r\n              v-if=\"showModel === 1\"\r\n            >\r\n              {{ $t(\"message.home.确认\") }}\r\n            </el-button>\r\n            <div v-if=\"showModel === 2\" class=\"pay-button-view\">\r\n              <el-button :loading=\"payLoading\" @click=\"previous\">\r\n                {{ $t(\"message.home.previous\") }}\r\n              </el-button>\r\n              <el-button\r\n                type=\"primary\"\r\n                :loading=\"payLoading\"\r\n                @click=\"confirmPayPaw\"\r\n              >\r\n                {{ $t(\"message.home.确认\") }}\r\n              </el-button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  BillCredit,\r\n  CreditHistory,\r\n  BeforePayCredit,\r\n  payCredit,\r\n} from \"@/api/credit\";\r\nimport EsPayPassword from \"@/components/payPassword\";\r\nimport { numberFormat } from \"@/util\";\r\nimport { mapGetters, mapActions } from \"vuex\";\r\nexport default {\r\n  components: {\r\n    EsPayPassword,\r\n  },\r\n  props: {\r\n    show: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    payCallback: {\r\n      type: Function,\r\n      default: null,\r\n    },\r\n    payLoading: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n  },\r\n  model: {\r\n    prop: \"show\",\r\n    event: \"update\",\r\n  },\r\n  data() {\r\n    return {\r\n      historyList: [],\r\n      pageSize: 10,\r\n      pageNum: 1,\r\n      total: 2,\r\n      loading: true,\r\n      dialogVisible: false,\r\n      realname: \"\",\r\n      creditRate: 0,\r\n      alreadyCreditDays: 0,\r\n      estimatePayment: 0,\r\n      accountAmount: 0,\r\n      passwordDialog: false,\r\n      password: \"\",\r\n      // 0 支付界面 1 设置支付密码 2 确认支付密码\r\n      showModel: 0,\r\n      myloan: \"--\",\r\n      day: \"--\",\r\n      Interest: \"--\",\r\n      repay: \"--\",\r\n      disble: false,\r\n      fouce: false,\r\n      firstPaw: 0,\r\n      secondPaw: 0,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getCreditList();\r\n    this.getCreditHistory(1);\r\n  },\r\n  computed: {\r\n    ...mapGetters({\r\n      userInfo: \"userInfo\",\r\n    }),\r\n  },\r\n  methods: {\r\n    ...mapActions({\r\n      setSafewordFunc: \"order/setSafewordFunc\",\r\n    }),\r\n    numberFormat,\r\n    async getCreditList() {\r\n      let res = await BillCredit();\r\n      this.myloan = this.numberFormat(res.data.applyAmount)\r\n        ? this.numberFormat(res.data.applyAmount)\r\n        : \"--\";\r\n      this.day = res.data.alreadyCreditDays ? res.data.alreadyCreditDays : \"--\";\r\n      this.Interest = this.numberFormat(res.data.interest)\r\n        ? this.numberFormat(res.data.interest)\r\n        : \"--\";\r\n      this.repay = this.numberFormat(res.data.estimatePayment)\r\n        ? this.numberFormat(res.data.estimatePayment)\r\n        : \"--\";\r\n    },\r\n    async getCreditHistory() {\r\n      let res = await CreditHistory({\r\n        pageNo: this.pageNum,\r\n      });\r\n      this.historyList = res.data.elements;\r\n      this.loading = false;\r\n      this.total = res.data.totalElements;\r\n    },\r\n    currentChange(page) {\r\n      this.pageNum = page;\r\n      this.loading = true;\r\n      this.getDicountedList();\r\n    },\r\n    goPage(id) {\r\n      this.$router.push(\"/credit/application?id=\" + id);\r\n    },\r\n    async creditDetail(id) {\r\n      let res = await BeforePayCredit({ pageNo: \"1\", creditId: id });\r\n      this.realname = res.data.realName;\r\n      this.creditRate = res.data.creditRate * 100;\r\n      this.alreadyCreditDays = res.data.alreadyCreditDays;\r\n      this.estimatePayment = res.data.estimatePayment;\r\n      this.accountAmount = res.data.accountAmount;\r\n    },\r\n    Repayment(id) {\r\n      this.dialogVisible = true;\r\n      this.creditDetail(id);\r\n      this.creditId = id;\r\n    },\r\n    payContent() {\r\n      if (this.fouce) {\r\n        this.$refs.passwordRef.clear();\r\n      }\r\n      if (!this.userInfo.safeword) {\r\n        // 设置支付密码\r\n        this.passwordDialog = true;\r\n        this.showModel = 1;\r\n        return;\r\n      } else {\r\n        this.showModel = 0;\r\n        this.passwordDialog = true;\r\n      }\r\n    },\r\n    previous() {\r\n      this.showModel = 1;\r\n      // this.$emit('changeShowModel', 1)\r\n      this.$refs.passwordRef.clear();\r\n    },\r\n    setUpPaw() {\r\n      // 设置支付密码\r\n      // this.$emit('changeShowModel', 2)\r\n      const passwordArr = this.$refs.passwordRef.codeData;\r\n      const filterPassword = passwordArr.filter((item) => item !== \"\");\r\n      if (filterPassword.length === 6) {\r\n        this.showModel = 2;\r\n      } else {\r\n        this.$message({\r\n          message: this.$t(\"message.home.请输入完整的支付密码!\"),\r\n          type: \"warning\",\r\n        });\r\n      }\r\n      this.$refs.passwordRef.clear();\r\n    },\r\n    confirmPayPaw() {\r\n      // 再次确认支付密码\r\n      if (this.firstPaw === this.secondPaw) {\r\n        this.setSafeword(this.firstPaw, this.secondPaw);\r\n      } else {\r\n        this.$message({\r\n          message: this.$t(\"message.home.twoPawword\"),\r\n          type: \"warning\",\r\n        });\r\n        this.$refs.passwordRef.clear();\r\n      }\r\n    },\r\n    async setSafeword(safeword, re_safeword) {\r\n      try {\r\n        await this.setSafewordFunc({\r\n          safeword,\r\n          re_safeword,\r\n        });\r\n        this.showModel = 0;\r\n        this.$message.success(this.$t(\"message.home.setSuccess\"));\r\n      } catch (error) {}\r\n    },\r\n    async pay() {\r\n      if (this.accountAmount < this.estimatePayment) {\r\n        this.$message({\r\n          message: this.$t(\"message.home.balanceNot\"),\r\n          type: \"warning\",\r\n        });\r\n      } else {\r\n        this.$refs.passwordRef.clear();\r\n        let res = await payCredit({\r\n          creditId: this.creditId,\r\n          safeword: this.password,\r\n        });\r\n\r\n        if (res.code == 1) {\r\n          console.log(\"222 ->\", 222);\r\n          this.$refs.passwordRef.clear();\r\n        }\r\n        if (res.code == 0) {\r\n          this.dialogVisible = false;\r\n          this.$message({\r\n            message: this.$t(\"message.home.paymentSuccessful\"),\r\n            type: \"success\",\r\n          });\r\n          this.getCreditHistory();\r\n        }\r\n      }\r\n      setTimeout(() => {\r\n        this.passwordDialog = false;\r\n      }, 200);\r\n    },\r\n    output({ data, isfinished }) {\r\n      // console.log(\"data,isfinished ->\", data, isfinished);\r\n      this.fouce = true;\r\n      if (isfinished) {\r\n        if (this.showModel === 1) {\r\n          this.firstPaw = data;\r\n        } else if (this.showModel === 2) {\r\n          this.secondPaw = data;\r\n        } else if (this.showModel === 0) {\r\n          this.password = data;\r\n        }\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.loan {\r\n  width: 861px;\r\n  margin: 0 auto;\r\n  .mine {\r\n    width: 100%;\r\n    height: 191px;\r\n    background: linear-gradient(0deg, #fff7ec, #fff7ec), #eeeeee;\r\n    border-radius: 4px;\r\n    padding: 24px 23px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    .left {\r\n      .title {\r\n        font-weight: 600;\r\n        font-size: 20px;\r\n        color: #333;\r\n      }\r\n      .money {\r\n        font-weight: 700;\r\n        font-size: 24px;\r\n        color: var(--color-main);\r\n        margin: 18px 0 28px 0;\r\n      }\r\n      .details {\r\n        width: 345px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        div {\r\n          display: flex;\r\n          flex-direction: column;\r\n          align-items: center;\r\n          font-size: 14px;\r\n          color: #333333;\r\n          justify-content: space-between;\r\n          height: 46px;\r\n          span {\r\n            margin-bottom: 6px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .right {\r\n      width: 127px;\r\n      height: 34px;\r\n      background: var(--color-main);\r\n      border-radius: 5px;\r\n      font-size: 14px;\r\n      text-align: center;\r\n      line-height: 34px;\r\n      color: #ffffff;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n  .record-title {\r\n    font-size: 14px;\r\n    color: #333;\r\n    margin: 28px 0 20px 0;\r\n  }\r\n  .record {\r\n    margin-bottom: 100px;\r\n  }\r\n  .list {\r\n    width: 100%;\r\n    // height: 79px;\r\n    border: 1px solid #efefef;\r\n    border-radius: 4px;\r\n    padding: 28px 23px 10px 28px;\r\n    display: flex;\r\n    align-items: center;\r\n    margin-bottom: 18px;\r\n    img {\r\n      width: 40px;\r\n      height: 40px;\r\n    }\r\n    .item {\r\n      display: flex;\r\n      height: 45px;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      // margin-right: 80px;\r\n      .money {\r\n        font-weight: 700;\r\n        font-size: 20px;\r\n        color: #333333;\r\n      }\r\n      .date {\r\n        font-size: 12px;\r\n        color: #999999;\r\n      }\r\n    }\r\n    .item-container {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      flex: 1;\r\n    }\r\n    .date-box {\r\n      align-items: baseline;\r\n      margin-left: 19px;\r\n      margin-right: 38px;\r\n    }\r\n    .status {\r\n      font-size: 12px;\r\n      width: 52px;\r\n      text-align: center;\r\n      color: #3f80ff;\r\n      // margin-right: 50px;\r\n      // margin-left: 40px;\r\n    }\r\n    .fail {\r\n      color: #e43434;\r\n    }\r\n    .btn {\r\n      width: 127px;\r\n      height: 34px;\r\n      font-weight: 400;\r\n      font-size: 14px;\r\n      text-align: center;\r\n      line-height: 34px;\r\n      color: #ffffff;\r\n      background: var(--color-main);\r\n      border-radius: 5px;\r\n      cursor: pointer;\r\n    }\r\n    .fail-btn {\r\n      background: linear-gradient(0deg, #fff7ec, #fff7ec), #eeeeee;\r\n      border: unset;\r\n      color: var(--color-main);\r\n    }\r\n    .application {\r\n      color: var(--color-main);\r\n    }\r\n    .default {\r\n      width: 127px;\r\n      height: 34px;\r\n      font-weight: 400;\r\n      font-size: 14px;\r\n      text-align: center;\r\n      line-height: 34px;\r\n    }\r\n    .finish {\r\n      color: #2faa59;\r\n    }\r\n    .overdue {\r\n      color: #e43434;\r\n    }\r\n  }\r\n  .es-dialog {\r\n    /deep/ .el-dialog__header {\r\n      height: 56px !important;\r\n      .el-dialog__title {\r\n        text-align: left;\r\n      }\r\n    }\r\n    .el-input {\r\n      margin-top: 14px;\r\n      margin-bottom: 23px;\r\n    }\r\n    .el-button {\r\n      width: 100%;\r\n      background: var(--color-main);\r\n      color: #fff;\r\n      height: 44px;\r\n    }\r\n  }\r\n\r\n  .pay-modal-title {\r\n    text-align: left;\r\n    font-weight: 400;\r\n    font-size: 16px;\r\n    color: var(--color-black);\r\n  }\r\n\r\n  .pay-modal-content {\r\n    align-items: flex-start !important;\r\n\r\n    .el-button {\r\n      width: 100%;\r\n      max-width: 450px;\r\n      height: 50px;\r\n    }\r\n\r\n    .pay-modal-btn {\r\n      width: 100%;\r\n      text-align: center;\r\n    }\r\n\r\n    .pay-button-view {\r\n      display: flex;\r\n      justify-content: space-between;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"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","ignoreList":[]}]}