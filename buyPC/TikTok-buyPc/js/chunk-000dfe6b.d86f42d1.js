(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-000dfe6b"],{1830:function(t,e,s){},"942e":function(t,e,s){s("1830")},b325:function(t,e,s){s.r(e),s("e9f5"),s("ab43"),s("14d9"),s("7d54");var a=s("107a"),i=s("2f62"),r=s("4260"),o=s("49d8"),n=s("f8b7");o={mixins:[o.a],data(){return{orderGoodsList:[],pageNum:1,pageSize:3,total:0}},mounted(){var t;null!=(t=this.$route.query)&&t.orderId?(this.requestData(),this.getList()):this.$message({type:"error",message:this.$t("message.home.paramError")})},watch:{$route:function(t,e){}},computed:{...Object(i.c)({orderDetails:"order/orderDetails",orderGoods:"order/orderGoods"}),getOrderPrefix(){let t=0;return Array.isArray(this.orderGoods)&&this.orderGoods.forEach(e=>{t+=(e.goodsReal+e.fees+e.tax)*e.goodsNum}),Object(r.f)(t)}},methods:{getOrderStatusLable:a.c,numberFormat:r.f,phoneNumber:r.i,...Object(i.b)({requestOrderDetailsList:"order/requestOrderDetailsList",requestOrderGoodsList:"order/requestOrderGoodsList"}),goToDetail(t){1==localStorage.getItem("orderStatus")?this.$router.push({name:"productDetails",query:{id:t}}):this.$message({type:"warning",message:this.$t("message.home.productAvailable")})},async requestData(){try{this.loading=!0,await this.requestOrderDetailsList({orderId:this.orderId,type:1}),await this.requestOrderGoodsList({orderId:this.orderId}),this.currentOrderInfo=this.orderDetails}finally{this.loading=!1}},async getList(){var{pageInfo:t,pageList:e}=(await Object(n.f)({orderId:this.orderId,pageNum:this.pageNum,pageSize:this.pageSize})).data;this.total=t.totalElements,this.orderGoodsList=e},currentChange(t){this.pageNum=t,this.getList()},goBack(){this.$router.push("/userInfo/my-order")},getStatusButtons(t){switch(t){case-1:return[];case 0:return[this.payButton,this.cancelButton];case 1:case 2:return[this.sendInfoButton,this.returnPayButton];case 3:return[this.confirmButton,this.queryLogisticsButton,this.returnPayButton];case 4:return[this.evaluateButton,this.queryLogisticsButton];case 5:case 6:return[this.queryLogisticsButton]}}}},s("942e"),a=s("2877"),i=Object(a.a)(o,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"detail_container"},[e("div",{staticClass:"page-title",staticStyle:{cursor:"pointer"},on:{click:t.goBack}},[e("i",{staticClass:"el-icon-arrow-left"}),t._v(" "+t._s(t.$t("message.home.myOrder"))+"/"+t._s(t.$t("message.home.orderInfo"))+" ")]),e("div",{staticClass:"detail_container"},[e("div",{staticClass:"left"},[e("div",[e("span",{staticClass:"info_title"},[t._v(t._s(t.$t("message.home.productInfo")))]),t._l(t.orderGoodsList,(function(s){return e("div",{key:s.goodsId+Math.random(),staticClass:"product_info"},[e("el-image",{staticClass:"img",staticStyle:{width:"62px",height:"62px"},attrs:{src:s.goodsIcon,fit:"scale-down"}}),e("div",{staticClass:"prodesc"},[e("span",{staticClass:"tit",on:{click:()=>t.goToDetail(s.goodsId,s.isShelf,s.isValid)}},[t._v(" "+t._s(s.goodsName)+" ")]),e("div",{staticClass:"price"},[e("span",{staticClass:"real_price"},[t._v(" $"+t._s(t.numberFormat(s.sellingPrice))+" ")]),e("span",{staticClass:"num"},[t._v(" x"+t._s(s.goodsNum)+" ")])]),s.attributes&&0<s.attributes.length?e("span",{staticClass:"attr"},[t._v(" "+t._s(s.attributes.map(t=>t.attrName+":"+t.attrValue).join(" "))+" ")]):t._e()]),e("div",{staticClass:"delivery"}),e("div",{staticClass:"fees"},[e("span",{staticClass:"desc"},[t._v(" "+t._s(t.$t("message.home.totalPrice"))+" : "+t._s(t.numberFormat(t.$big(s.sellingPrice).plus(s.tax).plus(s.fees).times(s.goodsNum)))+" ")]),e("span",{staticClass:"desc"},[t._v(" "+t._s(t.$t("message.home.discount"))+" : -$"+t._s(t.numberFormat(t.$big(s.sellingPrice).minus(s.goodsReal).times(s.goodsNum)))+" ")]),e("span",{staticClass:"desc"},[t._v(" "+t._s(t.$t("message.home.tax"))+" : $"+t._s(t.numberFormat(t.$big(s.tax).times(s.goodsNum)))+" ")]),e("span",{staticClass:"desc"},[t._v(" "+t._s(t.$t("message.home.goodsFreight"))+" : $"+t._s(t.numberFormat(t.$big(s.fees).times(s.goodsNum)))+" ")]),e("span",{staticClass:"desc total_Desc"},[t._v(" "+t._s(t.$t("message.home.totalNum"))+" :$"+t._s(t.numberFormat(t.$big(s.goodsReal).plus(s.tax).plus(s.fees).times(s.goodsNum)))+" ")])])],1)}))],2),t.orderGoodsList.length?e("div",{staticClass:"commodity-content-pagination"},[e("el-pagination",{staticClass:"es-pagination",attrs:{background:"",layout:"prev, pager, next","page-size":t.pageSize,"current-page":t.pageNum,total:t.total},on:{"current-change":t.currentChange}})],1):t._e()]),e("div",{staticClass:"right"},[e("span",{staticClass:"info_title",staticStyle:{"margin-bottom":"17px"}},[t._v(" "+t._s(t.$t("message.home.orderInfo"))+" ")]),e("div",{staticClass:"order_box boxMargin"},[e("span",{staticClass:"orderFont"},[t._v(t._s(t.$t("message.home.serialNumber"))+" : "+t._s(t.orderDetails.id)+" "),e("i",{staticClass:"el-icon-copy-document",staticStyle:{cursor:"pointer"},on:{click:t.copy}})]),e("span",{staticClass:"orderFont"},[t._v(t._s(t.$t("message.home.orderTime"))+" : "+t._s(t.$formatZoneDate(t.orderDetails.createTime)))]),e("span",{staticClass:"orderFont"},[t._v(t._s(t.$t("message.home.orderStatus"))+" : "),e("span",{staticStyle:{color:"#e4111f"}},[t._v(t._s(t.getOrderStatusLable(t.orderDetails.status)))])])]),e("div",{staticClass:"order_box boxMargin"},[e("span",{staticStyle:{"font-weight":"500","font-size":"14px","margin-bottom":"10px"}},[t._v(t._s(t.$t("message.home.receiver")))]),e("span",{staticStyle:{"font-weight":"500","font-size":"12px"}},[t._v(" "+t._s(t.orderDetails.contacts)+" "+t._s(t.phoneNumber(t.orderDetails.phone)))]),e("span",{staticStyle:{"font-weight":"500","font-size":"12px",color:"#999999","margin-bottom":"10px"}},[t._v(t._s(t.orderDetails.address))])]),e("div",{staticClass:"order_box"},[e("div",{staticClass:"flex_row_between",staticStyle:{"font-weight":"600","font-size":"12px",margin:"20px 14px 0px 14px"}},[e("span",[t._v(t._s(t.$t("message.home.orderPrefix")))]),e("span",[t._v(" $"+t._s(t.numberFormat(t.orderDetails.prizeOriginal))+" ")])]),e("span",{staticClass:"flex_row_between item_line"},[t._v(" "+t._s(t.$t("message.home.discount"))+" "),e("span",[t._v("-$"+t._s(t.numberFormat(t.orderDetails.discount)))])]),e("div",{staticClass:"flex_row_between item_line"},[e("span",[t._v(t._s(t.$t("message.home.tax"))+" ")]),t._v("+$"+t._s(t.orderDetails.tax)+" ")]),e("div",{staticClass:"flex_row_between item_line"},[e("span",[t._v(" "+t._s(t.$t("message.home.goodsFreight"))+" ")]),e("span",[t._v("+$"+t._s(t.orderDetails.fees))])]),e("div",{staticStyle:{"margin-left":"14px","margin-right":"14px"}},[e("el-divider")],1),e("div",{staticStyle:{display:"flex","flex-direction":"row","justify-content":"flex-end","margin-right":"14px","margin-left":"14px"}},[e("span",{staticStyle:{"font-weight":"400","font-size":"12px"}},[t._v(t._s(t.$t("message.home.totalNum"))+" : "),e("span",{staticClass:"real_price"},[t._v("$"+t._s(t.numberFormat(t.$big(t.orderDetails.prizeReal).plus(t.orderDetails.fees).plus(t.orderDetails.tax))))])])]),e("div",{staticStyle:{display:"flex","justify-content":"space-between","flex-wrap":"wrap",margin:"0 10px","margin-bottom":"24px"}},t._l(t.getStatusButtons(t.orderDetails.status),(function(s){return e("div",{key:s.key,staticClass:"button",class:[s.activity?"active":""],on:{click:s.func}},[t._v(" "+t._s(s.text)+" ")])})),0)])])]),e("order-logistics-dialog",{attrs:{currentOrderInfo:t.currentOrderInfo,refresh:t.requestData},model:{value:t.logisticsDialogVisible,callback:function(e){t.logisticsDialogVisible=e},expression:"logisticsDialogVisible"}}),e("order-payment-dialog",{attrs:{currentOrderInfo:t.currentOrderInfo,refresh:t.requestData},on:{closePay:t.closePayDialog},model:{value:t.paymentDialogVisible,callback:function(e){t.paymentDialogVisible=e},expression:"paymentDialogVisible"}}),e("order-cancel-dialog",{attrs:{currentOrderInfo:t.currentOrderInfo,refresh:t.requestData},model:{value:t.cancelDialogVisible,callback:function(e){t.cancelDialogVisible=e},expression:"cancelDialogVisible"}})],1)}),[],!1,null,"0bdf0645",null);e.default=i.exports}}]);