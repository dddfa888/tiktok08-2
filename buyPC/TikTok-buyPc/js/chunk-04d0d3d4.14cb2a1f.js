(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-04d0d3d4"],{"0b94":function(t,e,s){t.exports=s.p+"img/wanc.4d205084.png"},"160d":function(t,e,s){},1816:function(t,e,s){s.r(e);var a=s("2f62"),n=s("4260"),r=s("e5c4"),o=s("658f5");o={components:{VueQr:s.n(o).a},data(){return{dialogVisible:!1,name:"",personId:"",currentIndex:0,avater:"",currentAvatar:0,navList:[{path:"/userInfo/dashboard",class:"icon-yibiaopan",name:this.$t("message.home.dashboard")},{path:"/userInfo/money-package",class:"icon-qianbao",name:this.$t("message.home.myPurse")},{path:"/userInfo/my-order",class:"icon-xiugaidingdan",name:this.$t("message.home.myOrder")},{path:"/userInfo/collect-goods",class:"icon-shangpinshoucang",name:this.$t("message.home.myCommodityCollection")},{path:"/userInfo/collect-shop",class:"icon-guanzhudianpu",name:this.$t("message.home.myFollowedShops")},{path:"/userInfo/setup",class:"icon-setup",name:this.$t("message.home.setUp")}]}},computed:{...Object(a.c)(["userInfo"]),...Object(a.c)({downAppUrl:"home/downAppUrl"})},created(){this.$route.query.index?(this.currentIndex=this.$route.query.index,localStorage.setItem("currentIndex",this.$route.query.index)):this.currentIndex=localStorage.getItem("currentIndex"),this.avater=s("b2cd")(`./${this.userInfo.avatar||"1"}.png`),this.currentAvatar=this.userInfo.avatar,window.history&&window.history.pushState&&(history.pushState(null,null,document.URL),window.addEventListener("popstate",this.goBack,!1))},watch:{"$store.state.user.currentIndex"(t){this.currentIndex=t,localStorage.setItem("currentIndex",t)},userInfo(t,e){this.avater=s("b2cd")(`./${t.avatar}.png`),this.currentAvatar=t.avatar}},mounted(){this.getUserInfo(),this.avater=s("b2cd")(`./${this.currentAvatar}.png`)},deactivated(){},methods:{...Object(a.b)(["getUserInfo"]),avatarChange(t){this.currentAvatar=t},goBack(){this.$route.query.index?this.currentIndex=this.$route.query.index:this.currentIndex=["#/userInfo/dashboard","#/userInfo/money-package","#/userInfo/my-order","#/userInfo/collect-goods","#/userInfo/collect-shop","#/userInfo/setup"].findIndex(t=>t==location.hash),"#/userInfo/money-package/recharge"!=location.hash&&"#/userInfo/money-package/withdraw"!=location.hash||(this.currentIndex=1)},changeNav(t){this.currentIndex=t,this.$store.state.user.currentIndex=t},gotoDashborad(){this.dialogVisible=!0},subAvatar(){this.changeAvatar()},async changeAvatar(){this.currentAvatar!==this.userInfo.avatar&&"0"==(await Object(r.v)({idx:this.currentAvatar})).code&&(this.$message.success(this.$t("message.home.successTips")),this.avater=s("b2cd")(`./${this.currentAvatar}.png`),this.getUserInfo()),this.dialogVisible=!1},copy(){Object(n.a)(this.userInfo.usercode),this.$notify({title:this.$t("message.home.successTips"),message:this.$t("message.home.copySuccess"),type:"success"})}}},s("4c36"),a=s("2877"),o={components:{navBar:Object(a.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"nav-bar"},[e("div",{staticClass:"person"},[e("div",{staticClass:"user-avatar"},[e("img",{attrs:{src:t.avater,alt:""}}),e("div",{staticClass:"cover-up",on:{click:t.gotoDashborad}},[t._v(" "+t._s(t.$t("message.home.修改头像"))+" ")])]),e("p",{staticClass:"name"},[t._v(t._s(t.userInfo.username))]),e("p",{staticClass:"person-id"},[t._v(" ID: "+t._s(t.userInfo.usercode)+" "),e("i",{staticClass:"el-icon-copy-document",on:{click:t.copy}})])]),e("el-dialog",{attrs:{title:t.$t("message.home.头像选择"),visible:t.dialogVisible,width:"442px",center:!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("div",{staticClass:"avater"},t._l(20,(function(a){return e("div",{key:a,staticClass:"avatar-item",on:{click:function(e){return t.avatarChange(a)}}},[e("img",{staticClass:"img-avatar",attrs:{src:s("b2cd")(`./${a}.png`),alt:""}}),a==t.currentAvatar?e("img",{staticClass:"icon-avatar",attrs:{src:s("0b94"),alt:""}}):t._e()])})),0),e("span",{staticClass:"dialog-afooter",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.subAvatar()}}},[t._v(t._s(t.$t("message.home.btnSure")))])],1)]),e("el-divider"),e("ul",t._l(t.navList,(function(s,a){return e("li",{key:a,on:{click:function(e){return t.changeNav(a)}}},[e("router-link",{attrs:{to:s.path}},[e("span",{class:t.currentIndex==a?s.class+" act iconfont":s.class+" iconfont"}),t._v(" "+t._s(s.name)+" ")])],1)})),0),e("div",{staticStyle:{display:"flex","flex-direction":"column",width:"100%","align-items":"center","font-size":"14px","font-weight":"600","margin-top":"60px"}},[e("VueQr",{staticStyle:{"border-radius":"0px","margin-bottom":"16px"},attrs:{size:132,text:t.downAppUrl,margin:0}}),e("span",[t._v(t._s(t.$t("message.home.scanAndDown")))])],1)],1)}),[],!1,null,"493b77e6",null).exports}},s("8811"),a=Object(a.a)(o,(function(){var t=this._self._c;return t("div",{staticClass:"user-info"},[t("EsHeaderView"),t("div",{staticClass:"app-container"},[t("navBar"),t("div",{staticClass:"set-container"},[t("router-view")],1)],1),t("EsFooterView")],1)}),[],!1,null,"2c463d0c",null);e.default=a.exports},"4c36":function(t,e,s){s("160d")},"6d38":function(t,e,s){},8811:function(t,e,s){s("6d38")}}]);